;;;; bindings.lisp

(in-package #:%sokol)

(pushnew (asdf:system-relative-pathname :cl-sokol "bin/") *foreign-library-directories*)
(define-foreign-library libsokol
  (t (:default "libsokol")))

(unless (foreign-library-loaded-p 'libsokol)
  (use-foreign-library libsokol))

(defcstruct (%sg-buffer :class sg-buffer-type)
  (id :unsigned-int))

(defstruct sg-buffer
  (id 0))

(defmethod translate-from-foreign (ptr (type sg-buffer-type))
  (with-foreign-slots ((id) ptr (:struct %sg-buffer))
    (make-sg-buffer :id id)))
(defmethod expand-from-foreign (ptr (type sg-buffer-type))
  `(with-foreign-slots ((id) ,ptr (:struct %sg-buffer))
    (make-sg-buffer :id id)))
(defmethod translate-into-foreign-memory (value (type sg-buffer-type) ptr)
  (with-foreign-slots ((id) ptr (:struct %sg-buffer))
    (setf 
      id (sg-buffer-id value))))

(defcstruct (%sg-image :class sg-image-type)
  (id :unsigned-int))

(defstruct sg-image
  (id 0))

(defmethod translate-from-foreign (ptr (type sg-image-type))
  (with-foreign-slots ((id) ptr (:struct %sg-image))
    (make-sg-image :id id)))
(defmethod expand-from-foreign (ptr (type sg-image-type))
  `(with-foreign-slots ((id) ,ptr (:struct %sg-image))
    (make-sg-image :id id)))
(defmethod translate-into-foreign-memory (value (type sg-image-type) ptr)
  (with-foreign-slots ((id) ptr (:struct %sg-image))
    (setf 
      id (sg-image-id value))))

(defcstruct (%sg-sampler :class sg-sampler-type)
  (id :unsigned-int))

(defstruct sg-sampler
  (id 0))

(defmethod translate-from-foreign (ptr (type sg-sampler-type))
  (with-foreign-slots ((id) ptr (:struct %sg-sampler))
    (make-sg-sampler :id id)))
(defmethod expand-from-foreign (ptr (type sg-sampler-type))
  `(with-foreign-slots ((id) ,ptr (:struct %sg-sampler))
    (make-sg-sampler :id id)))
(defmethod translate-into-foreign-memory (value (type sg-sampler-type) ptr)
  (with-foreign-slots ((id) ptr (:struct %sg-sampler))
    (setf 
      id (sg-sampler-id value))))

(defcstruct (%sg-shader :class sg-shader-type)
  (id :unsigned-int))

(defstruct sg-shader
  (id 0))

(defmethod translate-from-foreign (ptr (type sg-shader-type))
  (with-foreign-slots ((id) ptr (:struct %sg-shader))
    (make-sg-shader :id id)))
(defmethod expand-from-foreign (ptr (type sg-shader-type))
  `(with-foreign-slots ((id) ,ptr (:struct %sg-shader))
    (make-sg-shader :id id)))
(defmethod translate-into-foreign-memory (value (type sg-shader-type) ptr)
  (with-foreign-slots ((id) ptr (:struct %sg-shader))
    (setf 
      id (sg-shader-id value))))

(defcstruct (%sg-pipeline :class sg-pipeline-type)
  (id :unsigned-int))

(defstruct sg-pipeline
  (id 0))

(defmethod translate-from-foreign (ptr (type sg-pipeline-type))
  (with-foreign-slots ((id) ptr (:struct %sg-pipeline))
    (make-sg-pipeline :id id)))
(defmethod expand-from-foreign (ptr (type sg-pipeline-type))
  `(with-foreign-slots ((id) ,ptr (:struct %sg-pipeline))
    (make-sg-pipeline :id id)))
(defmethod translate-into-foreign-memory (value (type sg-pipeline-type) ptr)
  (with-foreign-slots ((id) ptr (:struct %sg-pipeline))
    (setf 
      id (sg-pipeline-id value))))

(defcstruct (%sg-pass :class sg-pass-type)
  (id :unsigned-int))

(defstruct sg-pass
  (id 0))

(defmethod translate-from-foreign (ptr (type sg-pass-type))
  (with-foreign-slots ((id) ptr (:struct %sg-pass))
    (make-sg-pass :id id)))
(defmethod expand-from-foreign (ptr (type sg-pass-type))
  `(with-foreign-slots ((id) ,ptr (:struct %sg-pass))
    (make-sg-pass :id id)))
(defmethod translate-into-foreign-memory (value (type sg-pass-type) ptr)
  (with-foreign-slots ((id) ptr (:struct %sg-pass))
    (setf 
      id (sg-pass-id value))))

(defcstruct (%sg-context :class sg-context-type)
  (id :unsigned-int))

(defstruct sg-context
  (id 0))

(defmethod translate-from-foreign (ptr (type sg-context-type))
  (with-foreign-slots ((id) ptr (:struct %sg-context))
    (make-sg-context :id id)))
(defmethod expand-from-foreign (ptr (type sg-context-type))
  `(with-foreign-slots ((id) ,ptr (:struct %sg-context))
    (make-sg-context :id id)))
(defmethod translate-into-foreign-memory (value (type sg-context-type) ptr)
  (with-foreign-slots ((id) ptr (:struct %sg-context))
    (setf 
      id (sg-context-id value))))

(defcstruct (%sg-range :class sg-range-type)
  (ptr (:pointer :void))
  (size :unsigned-long))

(defstruct sg-range
  (ptr nil)
  (size 0))

(defmethod translate-from-foreign (ptr (type sg-range-type))
  (with-foreign-slots ((ptr size) ptr (:struct %sg-range))
    (make-sg-range :ptr ptr :size size)))
(defmethod expand-from-foreign (ptr (type sg-range-type))
  `(with-foreign-slots ((ptr size) ,ptr (:struct %sg-range))
    (make-sg-range :ptr ptr :size size)))
(defmethod translate-into-foreign-memory (value (type sg-range-type) ptr)
  (with-foreign-slots ((ptr size) ptr (:struct %sg-range))
    (setf 
      ptr (sg-range-ptr value)
      size (sg-range-size value))))

(defconstant +sg-invalid-id+ 0)
(defconstant +sg-num-shader-stages+ 2)
(defconstant +sg-num-inflight-frames+ 2)
(defconstant +sg-max-color-attachments+ 4)
(defconstant +sg-max-vertex-buffers+ 8)
(defconstant +sg-max-shaderstage-images+ 12)
(defconstant +sg-max-shaderstage-samplers+ 8)
(defconstant +sg-max-shaderstage-imagesamplerpairs+ 12)
(defconstant +sg-max-shaderstage-ubs+ 4)
(defconstant +sg-max-ub-members+ 16)
(defconstant +sg-max-vertex-attributes+ 16)
(defconstant +sg-max-mipmaps+ 16)
(defconstant +sg-max-texturearray-layers+ 128)

(defcstruct (%sg-color :class sg-color-type)
  (r :float)
  (g :float)
  (b :float)
  (a :float))

(defstruct sg-color
  (r 0.0)
  (g 0.0)
  (b 0.0)
  (a 0.0))

(defmethod translate-from-foreign (ptr (type sg-color-type))
  (with-foreign-slots ((r g b a) ptr (:struct %sg-color))
    (make-sg-color :r r :g g :b b :a a)))
(defmethod expand-from-foreign (ptr (type sg-color-type))
  `(with-foreign-slots ((r g b a) ,ptr (:struct %sg-color))
    (make-sg-color :r r :g g :b b :a a)))
(defmethod translate-into-foreign-memory (value (type sg-color-type) ptr)
  (with-foreign-slots ((r g b a) ptr (:struct %sg-color))
    (setf 
      r (sg-color-r value)
      g (sg-color-g value)
      b (sg-color-b value)
      a (sg-color-a value))))

(defcenum sg-backend
  (:sg-backend-glcore33 0)
  (:sg-backend-gles3 1)
  (:sg-backend-d3d11 2)
  (:sg-backend-metal-ios 3)
  (:sg-backend-metal-macos 4)
  (:sg-backend-metal-simulator 5)
  (:sg-backend-wgpu 6)
  (:sg-backend-dummy 7))

(defcenum sg-pixel-format
  (:-sg-pixelformat-default 0)
  (:sg-pixelformat-none 1)
  (:sg-pixelformat-r8 2)
  (:sg-pixelformat-r8sn 3)
  (:sg-pixelformat-r8ui 4)
  (:sg-pixelformat-r8si 5)
  (:sg-pixelformat-r16 6)
  (:sg-pixelformat-r16sn 7)
  (:sg-pixelformat-r16ui 8)
  (:sg-pixelformat-r16si 9)
  (:sg-pixelformat-r16f 10)
  (:sg-pixelformat-rg8 11)
  (:sg-pixelformat-rg8sn 12)
  (:sg-pixelformat-rg8ui 13)
  (:sg-pixelformat-rg8si 14)
  (:sg-pixelformat-r32ui 15)
  (:sg-pixelformat-r32si 16)
  (:sg-pixelformat-r32f 17)
  (:sg-pixelformat-rg16 18)
  (:sg-pixelformat-rg16sn 19)
  (:sg-pixelformat-rg16ui 20)
  (:sg-pixelformat-rg16si 21)
  (:sg-pixelformat-rg16f 22)
  (:sg-pixelformat-rgba8 23)
  (:sg-pixelformat-srgb8a8 24)
  (:sg-pixelformat-rgba8sn 25)
  (:sg-pixelformat-rgba8ui 26)
  (:sg-pixelformat-rgba8si 27)
  (:sg-pixelformat-bgra8 28)
  (:sg-pixelformat-rgb10a2 29)
  (:sg-pixelformat-rg11b10f 30)
  (:sg-pixelformat-rg32ui 31)
  (:sg-pixelformat-rg32si 32)
  (:sg-pixelformat-rg32f 33)
  (:sg-pixelformat-rgba16 34)
  (:sg-pixelformat-rgba16sn 35)
  (:sg-pixelformat-rgba16ui 36)
  (:sg-pixelformat-rgba16si 37)
  (:sg-pixelformat-rgba16f 38)
  (:sg-pixelformat-rgba32ui 39)
  (:sg-pixelformat-rgba32si 40)
  (:sg-pixelformat-rgba32f 41)
  (:sg-pixelformat-depth 42)
  (:sg-pixelformat-depth-stencil 43)
  (:sg-pixelformat-bc1-rgba 44)
  (:sg-pixelformat-bc2-rgba 45)
  (:sg-pixelformat-bc3-rgba 46)
  (:sg-pixelformat-bc4-r 47)
  (:sg-pixelformat-bc4-rsn 48)
  (:sg-pixelformat-bc5-rg 49)
  (:sg-pixelformat-bc5-rgsn 50)
  (:sg-pixelformat-bc6h-rgbf 51)
  (:sg-pixelformat-bc6h-rgbuf 52)
  (:sg-pixelformat-bc7-rgba 53)
  (:sg-pixelformat-pvrtc-rgb-2bpp 54)
  (:sg-pixelformat-pvrtc-rgb-4bpp 55)
  (:sg-pixelformat-pvrtc-rgba-2bpp 56)
  (:sg-pixelformat-pvrtc-rgba-4bpp 57)
  (:sg-pixelformat-etc2-rgb8 58)
  (:sg-pixelformat-etc2-rgb8a1 59)
  (:sg-pixelformat-etc2-rgba8 60)
  (:sg-pixelformat-etc2-rg11 61)
  (:sg-pixelformat-etc2-rg11sn 62)
  (:sg-pixelformat-rgb9e5 63)
  (:-sg-pixelformat-num 64)
  (:-sg-pixelformat-force-u32 2147483647))

(defcstruct (%sg-pixelformat-info :class sg-pixelformat-info-type)
  (sample :int)
  (filter :int)
  (render :int)
  (blend :int)
  (msaa :int)
  (depth :int))

(defstruct sg-pixelformat-info
  (sample nil)
  (filter nil)
  (render nil)
  (blend nil)
  (msaa nil)
  (depth nil))

(defmethod translate-from-foreign (ptr (type sg-pixelformat-info-type))
  (with-foreign-slots ((sample filter render blend msaa depth) ptr (:struct %sg-pixelformat-info))
    (make-sg-pixelformat-info :sample sample :filter filter :render render :blend blend :msaa msaa :depth depth)))
(defmethod expand-from-foreign (ptr (type sg-pixelformat-info-type))
  `(with-foreign-slots ((sample filter render blend msaa depth) ,ptr (:struct %sg-pixelformat-info))
    (make-sg-pixelformat-info :sample sample :filter filter :render render :blend blend :msaa msaa :depth depth)))
(defmethod translate-into-foreign-memory (value (type sg-pixelformat-info-type) ptr)
  (with-foreign-slots ((sample filter render blend msaa depth) ptr (:struct %sg-pixelformat-info))
    (setf 
      sample (sg-pixelformat-info-sample value)
      filter (sg-pixelformat-info-filter value)
      render (sg-pixelformat-info-render value)
      blend (sg-pixelformat-info-blend value)
      msaa (sg-pixelformat-info-msaa value)
      depth (sg-pixelformat-info-depth value))))

(defcstruct (%sg-features :class sg-features-type)
  (origin-top-left :int)
  (image-clamp-to-border :int)
  (mrt-independent-blend-state :int)
  (mrt-independent-write-mask :int))

(defstruct sg-features
  (origin-top-left nil)
  (image-clamp-to-border nil)
  (mrt-independent-blend-state nil)
  (mrt-independent-write-mask nil))

(defmethod translate-from-foreign (ptr (type sg-features-type))
  (with-foreign-slots ((origin-top-left image-clamp-to-border mrt-independent-blend-state mrt-independent-write-mask) ptr (:struct %sg-features))
    (make-sg-features :origin-top-left origin-top-left :image-clamp-to-border image-clamp-to-border :mrt-independent-blend-state mrt-independent-blend-state :mrt-independent-write-mask mrt-independent-write-mask)))
(defmethod expand-from-foreign (ptr (type sg-features-type))
  `(with-foreign-slots ((origin-top-left image-clamp-to-border mrt-independent-blend-state mrt-independent-write-mask) ,ptr (:struct %sg-features))
    (make-sg-features :origin-top-left origin-top-left :image-clamp-to-border image-clamp-to-border :mrt-independent-blend-state mrt-independent-blend-state :mrt-independent-write-mask mrt-independent-write-mask)))
(defmethod translate-into-foreign-memory (value (type sg-features-type) ptr)
  (with-foreign-slots ((origin-top-left image-clamp-to-border mrt-independent-blend-state mrt-independent-write-mask) ptr (:struct %sg-features))
    (setf 
      origin-top-left (sg-features-origin-top-left value)
      image-clamp-to-border (sg-features-image-clamp-to-border value)
      mrt-independent-blend-state (sg-features-mrt-independent-blend-state value)
      mrt-independent-write-mask (sg-features-mrt-independent-write-mask value))))

(defcstruct (%sg-limits :class sg-limits-type)
  (max-image-size-2d :int)
  (max-image-size-cube :int)
  (max-image-size-3d :int)
  (max-image-size-array :int)
  (max-image-array-layers :int)
  (max-vertex-attrs :int)
  (gl-max-vertex-uniform-vectors :int)
  (gl-max-combined-texture-image-units :int))

(defstruct sg-limits
  (max-image-size-2d 0)
  (max-image-size-cube 0)
  (max-image-size-3d 0)
  (max-image-size-array 0)
  (max-image-array-layers 0)
  (max-vertex-attrs 0)
  (gl-max-vertex-uniform-vectors 0)
  (gl-max-combined-texture-image-units 0))

(defmethod translate-from-foreign (ptr (type sg-limits-type))
  (with-foreign-slots ((max-image-size-2d max-image-size-cube max-image-size-3d max-image-size-array max-image-array-layers max-vertex-attrs gl-max-vertex-uniform-vectors gl-max-combined-texture-image-units) ptr (:struct %sg-limits))
    (make-sg-limits :max-image-size-2d max-image-size-2d :max-image-size-cube max-image-size-cube :max-image-size-3d max-image-size-3d :max-image-size-array max-image-size-array :max-image-array-layers max-image-array-layers :max-vertex-attrs max-vertex-attrs :gl-max-vertex-uniform-vectors gl-max-vertex-uniform-vectors :gl-max-combined-texture-image-units gl-max-combined-texture-image-units)))
(defmethod expand-from-foreign (ptr (type sg-limits-type))
  `(with-foreign-slots ((max-image-size-2d max-image-size-cube max-image-size-3d max-image-size-array max-image-array-layers max-vertex-attrs gl-max-vertex-uniform-vectors gl-max-combined-texture-image-units) ,ptr (:struct %sg-limits))
    (make-sg-limits :max-image-size-2d max-image-size-2d :max-image-size-cube max-image-size-cube :max-image-size-3d max-image-size-3d :max-image-size-array max-image-size-array :max-image-array-layers max-image-array-layers :max-vertex-attrs max-vertex-attrs :gl-max-vertex-uniform-vectors gl-max-vertex-uniform-vectors :gl-max-combined-texture-image-units gl-max-combined-texture-image-units)))
(defmethod translate-into-foreign-memory (value (type sg-limits-type) ptr)
  (with-foreign-slots ((max-image-size-2d max-image-size-cube max-image-size-3d max-image-size-array max-image-array-layers max-vertex-attrs gl-max-vertex-uniform-vectors gl-max-combined-texture-image-units) ptr (:struct %sg-limits))
    (setf 
      max-image-size-2d (sg-limits-max-image-size-2d value)
      max-image-size-cube (sg-limits-max-image-size-cube value)
      max-image-size-3d (sg-limits-max-image-size-3d value)
      max-image-size-array (sg-limits-max-image-size-array value)
      max-image-array-layers (sg-limits-max-image-array-layers value)
      max-vertex-attrs (sg-limits-max-vertex-attrs value)
      gl-max-vertex-uniform-vectors (sg-limits-gl-max-vertex-uniform-vectors value)
      gl-max-combined-texture-image-units (sg-limits-gl-max-combined-texture-image-units value))))

(defcenum sg-resource-state
  (:sg-resourcestate-initial 0)
  (:sg-resourcestate-alloc 1)
  (:sg-resourcestate-valid 2)
  (:sg-resourcestate-failed 3)
  (:sg-resourcestate-invalid 4)
  (:-sg-resourcestate-force-u32 2147483647))

(defcenum sg-usage
  (:-sg-usage-default 0)
  (:sg-usage-immutable 1)
  (:sg-usage-dynamic 2)
  (:sg-usage-stream 3)
  (:-sg-usage-num 4)
  (:-sg-usage-force-u32 2147483647))

(defcenum sg-buffer-type
  (:-sg-buffertype-default 0)
  (:sg-buffertype-vertexbuffer 1)
  (:sg-buffertype-indexbuffer 2)
  (:-sg-buffertype-num 3)
  (:-sg-buffertype-force-u32 2147483647))

(defcenum sg-index-type
  (:-sg-indextype-default 0)
  (:sg-indextype-none 1)
  (:sg-indextype-uint16 2)
  (:sg-indextype-uint32 3)
  (:-sg-indextype-num 4)
  (:-sg-indextype-force-u32 2147483647))

(defcenum sg-image-type
  (:-sg-imagetype-default 0)
  (:sg-imagetype-2d 1)
  (:sg-imagetype-cube 2)
  (:sg-imagetype-3d 3)
  (:sg-imagetype-array 4)
  (:-sg-imagetype-num 5)
  (:-sg-imagetype-force-u32 2147483647))

(defcenum sg-image-sample-type
  (:-sg-imagesampletype-default 0)
  (:sg-imagesampletype-float 1)
  (:sg-imagesampletype-depth 2)
  (:sg-imagesampletype-sint 3)
  (:sg-imagesampletype-uint 4)
  (:sg-imagesampletype-unfilterable-float 5)
  (:-sg-imagesampletype-num 6)
  (:-sg-imagesampletype-force-u32 2147483647))

(defcenum sg-sampler-type
  (:-sg-samplertype-default 0)
  (:sg-samplertype-filtering 1)
  (:sg-samplertype-nonfiltering 2)
  (:sg-samplertype-comparison 3)
  (:-sg-samplertype-num 4)
  (:-sg-samplertype-force-u32 5))

(defcenum sg-cube-face
  (:sg-cubeface-pos-x 0)
  (:sg-cubeface-neg-x 1)
  (:sg-cubeface-pos-y 2)
  (:sg-cubeface-neg-y 3)
  (:sg-cubeface-pos-z 4)
  (:sg-cubeface-neg-z 5)
  (:sg-cubeface-num 6)
  (:-sg-cubeface-force-u32 2147483647))

(defcenum sg-shader-stage
  (:sg-shaderstage-vs 0)
  (:sg-shaderstage-fs 1)
  (:-sg-shaderstage-force-u32 2147483647))

(defcenum sg-primitive-type
  (:-sg-primitivetype-default 0)
  (:sg-primitivetype-points 1)
  (:sg-primitivetype-lines 2)
  (:sg-primitivetype-line-strip 3)
  (:sg-primitivetype-triangles 4)
  (:sg-primitivetype-triangle-strip 5)
  (:-sg-primitivetype-num 6)
  (:-sg-primitivetype-force-u32 2147483647))

(defcenum sg-filter
  (:-sg-filter-default 0)
  (:sg-filter-none 1)
  (:sg-filter-nearest 2)
  (:sg-filter-linear 3)
  (:-sg-filter-num 4)
  (:-sg-filter-force-u32 2147483647))

(defcenum sg-wrap
  (:-sg-wrap-default 0)
  (:sg-wrap-repeat 1)
  (:sg-wrap-clamp-to-edge 2)
  (:sg-wrap-clamp-to-border 3)
  (:sg-wrap-mirrored-repeat 4)
  (:-sg-wrap-num 5)
  (:-sg-wrap-force-u32 2147483647))

(defcenum sg-border-color
  (:-sg-bordercolor-default 0)
  (:sg-bordercolor-transparent-black 1)
  (:sg-bordercolor-opaque-black 2)
  (:sg-bordercolor-opaque-white 3)
  (:-sg-bordercolor-num 4)
  (:-sg-bordercolor-force-u32 2147483647))

(defcenum sg-vertex-format
  (:sg-vertexformat-invalid 0)
  (:sg-vertexformat-float 1)
  (:sg-vertexformat-float2 2)
  (:sg-vertexformat-float3 3)
  (:sg-vertexformat-float4 4)
  (:sg-vertexformat-byte4 5)
  (:sg-vertexformat-byte4n 6)
  (:sg-vertexformat-ubyte4 7)
  (:sg-vertexformat-ubyte4n 8)
  (:sg-vertexformat-short2 9)
  (:sg-vertexformat-short2n 10)
  (:sg-vertexformat-ushort2n 11)
  (:sg-vertexformat-short4 12)
  (:sg-vertexformat-short4n 13)
  (:sg-vertexformat-ushort4n 14)
  (:sg-vertexformat-uint10-n2 15)
  (:sg-vertexformat-half2 16)
  (:sg-vertexformat-half4 17)
  (:-sg-vertexformat-num 18)
  (:-sg-vertexformat-force-u32 2147483647))

(defcenum sg-vertex-step
  (:-sg-vertexstep-default 0)
  (:sg-vertexstep-per-vertex 1)
  (:sg-vertexstep-per-instance 2)
  (:-sg-vertexstep-num 3)
  (:-sg-vertexstep-force-u32 2147483647))

(defcenum sg-uniform-type
  (:sg-uniformtype-invalid 0)
  (:sg-uniformtype-float 1)
  (:sg-uniformtype-float2 2)
  (:sg-uniformtype-float3 3)
  (:sg-uniformtype-float4 4)
  (:sg-uniformtype-int 5)
  (:sg-uniformtype-int2 6)
  (:sg-uniformtype-int3 7)
  (:sg-uniformtype-int4 8)
  (:sg-uniformtype-mat4 9)
  (:-sg-uniformtype-num 10)
  (:-sg-uniformtype-force-u32 2147483647))

(defcenum sg-uniform-layout
  (:-sg-uniformlayout-default 0)
  (:sg-uniformlayout-native 1)
  (:sg-uniformlayout-std140 2)
  (:-sg-uniformlayout-num 3)
  (:-sg-uniformlayout-force-u32 2147483647))

(defcenum sg-cull-mode
  (:-sg-cullmode-default 0)
  (:sg-cullmode-none 1)
  (:sg-cullmode-front 2)
  (:sg-cullmode-back 3)
  (:-sg-cullmode-num 4)
  (:-sg-cullmode-force-u32 2147483647))

(defcenum sg-face-winding
  (:-sg-facewinding-default 0)
  (:sg-facewinding-ccw 1)
  (:sg-facewinding-cw 2)
  (:-sg-facewinding-num 3)
  (:-sg-facewinding-force-u32 2147483647))

(defcenum sg-compare-func
  (:-sg-comparefunc-default 0)
  (:sg-comparefunc-never 1)
  (:sg-comparefunc-less 2)
  (:sg-comparefunc-equal 3)
  (:sg-comparefunc-less-equal 4)
  (:sg-comparefunc-greater 5)
  (:sg-comparefunc-not-equal 6)
  (:sg-comparefunc-greater-equal 7)
  (:sg-comparefunc-always 8)
  (:-sg-comparefunc-num 9)
  (:-sg-comparefunc-force-u32 2147483647))

(defcenum sg-stencil-op
  (:-sg-stencilop-default 0)
  (:sg-stencilop-keep 1)
  (:sg-stencilop-zero 2)
  (:sg-stencilop-replace 3)
  (:sg-stencilop-incr-clamp 4)
  (:sg-stencilop-decr-clamp 5)
  (:sg-stencilop-invert 6)
  (:sg-stencilop-incr-wrap 7)
  (:sg-stencilop-decr-wrap 8)
  (:-sg-stencilop-num 9)
  (:-sg-stencilop-force-u32 2147483647))

(defcenum sg-blend-factor
  (:-sg-blendfactor-default 0)
  (:sg-blendfactor-zero 1)
  (:sg-blendfactor-one 2)
  (:sg-blendfactor-src-color 3)
  (:sg-blendfactor-one-minus-src-color 4)
  (:sg-blendfactor-src-alpha 5)
  (:sg-blendfactor-one-minus-src-alpha 6)
  (:sg-blendfactor-dst-color 7)
  (:sg-blendfactor-one-minus-dst-color 8)
  (:sg-blendfactor-dst-alpha 9)
  (:sg-blendfactor-one-minus-dst-alpha 10)
  (:sg-blendfactor-src-alpha-saturated 11)
  (:sg-blendfactor-blend-color 12)
  (:sg-blendfactor-one-minus-blend-color 13)
  (:sg-blendfactor-blend-alpha 14)
  (:sg-blendfactor-one-minus-blend-alpha 15)
  (:-sg-blendfactor-num 16)
  (:-sg-blendfactor-force-u32 2147483647))

(defcenum sg-blend-op
  (:-sg-blendop-default 0)
  (:sg-blendop-add 1)
  (:sg-blendop-subtract 2)
  (:sg-blendop-reverse-subtract 3)
  (:-sg-blendop-num 4)
  (:-sg-blendop-force-u32 2147483647))

(defcenum sg-color-mask
  (:-sg-colormask-default 0)
  (:sg-colormask-none 16)
  (:sg-colormask-r 1)
  (:sg-colormask-g 2)
  (:sg-colormask-rg 3)
  (:sg-colormask-b 4)
  (:sg-colormask-rb 5)
  (:sg-colormask-gb 6)
  (:sg-colormask-rgb 7)
  (:sg-colormask-a 8)
  (:sg-colormask-ra 9)
  (:sg-colormask-ga 10)
  (:sg-colormask-rga 11)
  (:sg-colormask-ba 12)
  (:sg-colormask-rba 13)
  (:sg-colormask-gba 14)
  (:sg-colormask-rgba 15)
  (:-sg-colormask-force-u32 2147483647))

(defcenum sg-load-action
  (:-sg-loadaction-default 0)
  (:sg-loadaction-clear 1)
  (:sg-loadaction-load 2)
  (:sg-loadaction-dontcare 3)
  (:-sg-loadaction-force-u32 2147483647))

(defcenum sg-store-action
  (:-sg-storeaction-default 0)
  (:sg-storeaction-store 1)
  (:sg-storeaction-dontcare 2)
  (:-sg-storeaction-force-u32 2147483647))

(defcstruct (%sg-color-attachment-action :class sg-color-attachment-action-type)
  (load-action sg-load-action)
  (store-action sg-store-action)
  (clear-value (:struct %sg-color)))

(defstruct sg-color-attachment-action
  (load-action nil)
  (store-action nil)
  (clear-value nil))

(defmethod translate-from-foreign (ptr (type sg-color-attachment-action-type))
  (with-foreign-slots ((load-action store-action clear-value) ptr (:struct %sg-color-attachment-action))
    (make-sg-color-attachment-action :load-action load-action :store-action store-action :clear-value clear-value)))
(defmethod expand-from-foreign (ptr (type sg-color-attachment-action-type))
  `(with-foreign-slots ((load-action store-action clear-value) ,ptr (:struct %sg-color-attachment-action))
    (make-sg-color-attachment-action :load-action load-action :store-action store-action :clear-value clear-value)))
(defmethod translate-into-foreign-memory (value (type sg-color-attachment-action-type) ptr)
  (with-foreign-slots ((load-action store-action clear-value) ptr (:struct %sg-color-attachment-action))
    (setf 
      load-action (sg-color-attachment-action-load-action value)
      store-action (sg-color-attachment-action-store-action value)
      clear-value (sg-color-attachment-action-clear-value value))))

(defcstruct (%sg-depth-attachment-action :class sg-depth-attachment-action-type)
  (load-action sg-load-action)
  (store-action sg-store-action)
  (clear-value :float))

(defstruct sg-depth-attachment-action
  (load-action nil)
  (store-action nil)
  (clear-value 0.0))

(defmethod translate-from-foreign (ptr (type sg-depth-attachment-action-type))
  (with-foreign-slots ((load-action store-action clear-value) ptr (:struct %sg-depth-attachment-action))
    (make-sg-depth-attachment-action :load-action load-action :store-action store-action :clear-value clear-value)))
(defmethod expand-from-foreign (ptr (type sg-depth-attachment-action-type))
  `(with-foreign-slots ((load-action store-action clear-value) ,ptr (:struct %sg-depth-attachment-action))
    (make-sg-depth-attachment-action :load-action load-action :store-action store-action :clear-value clear-value)))
(defmethod translate-into-foreign-memory (value (type sg-depth-attachment-action-type) ptr)
  (with-foreign-slots ((load-action store-action clear-value) ptr (:struct %sg-depth-attachment-action))
    (setf 
      load-action (sg-depth-attachment-action-load-action value)
      store-action (sg-depth-attachment-action-store-action value)
      clear-value (sg-depth-attachment-action-clear-value value))))

(defcstruct (%sg-stencil-attachment-action :class sg-stencil-attachment-action-type)
  (load-action sg-load-action)
  (store-action sg-store-action)
  (clear-value :unsigned-char))

(defstruct sg-stencil-attachment-action
  (load-action nil)
  (store-action nil)
  (clear-value 0))

(defmethod translate-from-foreign (ptr (type sg-stencil-attachment-action-type))
  (with-foreign-slots ((load-action store-action clear-value) ptr (:struct %sg-stencil-attachment-action))
    (make-sg-stencil-attachment-action :load-action load-action :store-action store-action :clear-value clear-value)))
(defmethod expand-from-foreign (ptr (type sg-stencil-attachment-action-type))
  `(with-foreign-slots ((load-action store-action clear-value) ,ptr (:struct %sg-stencil-attachment-action))
    (make-sg-stencil-attachment-action :load-action load-action :store-action store-action :clear-value clear-value)))
(defmethod translate-into-foreign-memory (value (type sg-stencil-attachment-action-type) ptr)
  (with-foreign-slots ((load-action store-action clear-value) ptr (:struct %sg-stencil-attachment-action))
    (setf 
      load-action (sg-stencil-attachment-action-load-action value)
      store-action (sg-stencil-attachment-action-store-action value)
      clear-value (sg-stencil-attachment-action-clear-value value))))

(defcstruct (%sg-pass-action :class sg-pass-action-type)
  (-start-canary :unsigned-int)
  (colors (:array (:struct %sg-color-attachment-action) 4))
  (depth (:struct %sg-depth-attachment-action))
  (stencil (:struct %sg-stencil-attachment-action))
  (-end-canary :unsigned-int))

(defstruct sg-pass-action
  (-start-canary 0)
  (colors (make-array 4))
  (depth nil)
  (stencil nil)
  (-end-canary 0))

(defmethod translate-from-foreign (ptr (type sg-pass-action-type))
  (with-foreign-slots ((-start-canary colors depth stencil -end-canary) ptr (:struct %sg-pass-action))
    (make-sg-pass-action :-start-canary -start-canary :colors colors :depth depth :stencil stencil :-end-canary -end-canary)))
(defmethod expand-from-foreign (ptr (type sg-pass-action-type))
  `(with-foreign-slots ((-start-canary colors depth stencil -end-canary) ,ptr (:struct %sg-pass-action))
    (make-sg-pass-action :-start-canary -start-canary :colors colors :depth depth :stencil stencil :-end-canary -end-canary)))
(defmethod translate-into-foreign-memory (value (type sg-pass-action-type) ptr)
  (with-foreign-slots ((-start-canary colors depth stencil -end-canary) ptr (:struct %sg-pass-action))
    (setf 
      -start-canary (sg-pass-action--start-canary value)
      colors (sg-pass-action-colors value)
      depth (sg-pass-action-depth value)
      stencil (sg-pass-action-stencil value)
      -end-canary (sg-pass-action--end-canary value))))

(defcstruct (%sg-stage-bindings :class sg-stage-bindings-type)
  (images (:array (:struct %sg-image) 12))
  (samplers (:array (:struct %sg-sampler) 8)))

(defstruct sg-stage-bindings
  (images (make-array 12))
  (samplers (make-array 8)))

(defmethod translate-from-foreign (ptr (type sg-stage-bindings-type))
  (with-foreign-slots ((images samplers) ptr (:struct %sg-stage-bindings))
    (make-sg-stage-bindings :images images :samplers samplers)))
(defmethod expand-from-foreign (ptr (type sg-stage-bindings-type))
  `(with-foreign-slots ((images samplers) ,ptr (:struct %sg-stage-bindings))
    (make-sg-stage-bindings :images images :samplers samplers)))
(defmethod translate-into-foreign-memory (value (type sg-stage-bindings-type) ptr)
  (with-foreign-slots ((images samplers) ptr (:struct %sg-stage-bindings))
    (setf 
      images (sg-stage-bindings-images value)
      samplers (sg-stage-bindings-samplers value))))

(defcstruct (%sg-bindings :class sg-bindings-type)
  (-start-canary :unsigned-int)
  (vertex-buffers (:array (:struct %sg-buffer) 8))
  (vertex-buffer-offsets (:array :int 8))
  (index-buffer (:struct %sg-buffer))
  (index-buffer-offset :int)
  (vs (:struct %sg-stage-bindings))
  (fs (:struct %sg-stage-bindings))
  (-end-canary :unsigned-int))

(defstruct sg-bindings
  (-start-canary 0)
  (vertex-buffers (make-array 8))
  (vertex-buffer-offsets (make-array 8))
  (index-buffer nil)
  (index-buffer-offset 0)
  (vs nil)
  (fs nil)
  (-end-canary 0))

(defmethod translate-from-foreign (ptr (type sg-bindings-type))
  (with-foreign-slots ((-start-canary vertex-buffers vertex-buffer-offsets index-buffer index-buffer-offset vs fs -end-canary) ptr (:struct %sg-bindings))
    (make-sg-bindings :-start-canary -start-canary :vertex-buffers vertex-buffers :vertex-buffer-offsets vertex-buffer-offsets :index-buffer index-buffer :index-buffer-offset index-buffer-offset :vs vs :fs fs :-end-canary -end-canary)))
(defmethod expand-from-foreign (ptr (type sg-bindings-type))
  `(with-foreign-slots ((-start-canary vertex-buffers vertex-buffer-offsets index-buffer index-buffer-offset vs fs -end-canary) ,ptr (:struct %sg-bindings))
    (make-sg-bindings :-start-canary -start-canary :vertex-buffers vertex-buffers :vertex-buffer-offsets vertex-buffer-offsets :index-buffer index-buffer :index-buffer-offset index-buffer-offset :vs vs :fs fs :-end-canary -end-canary)))
(defmethod translate-into-foreign-memory (value (type sg-bindings-type) ptr)
  (with-foreign-slots ((-start-canary vertex-buffers vertex-buffer-offsets index-buffer index-buffer-offset vs fs -end-canary) ptr (:struct %sg-bindings))
    (setf 
      -start-canary (sg-bindings--start-canary value)
      vertex-buffers (sg-bindings-vertex-buffers value)
      vertex-buffer-offsets (sg-bindings-vertex-buffer-offsets value)
      index-buffer (sg-bindings-index-buffer value)
      index-buffer-offset (sg-bindings-index-buffer-offset value)
      vs (sg-bindings-vs value)
      fs (sg-bindings-fs value)
      -end-canary (sg-bindings--end-canary value))))

(defcstruct (%sg-buffer-desc :class sg-buffer-desc-type)
  (-start-canary :unsigned-int)
  (size :unsigned-long)
  (type sg-buffer-type)
  (usage sg-usage)
  (data (:struct %sg-range))
  (label (:pointer :char))
  (gl-buffers (:array :unsigned-int 2))
  (mtl-buffers (:array (:pointer :void) 2))
  (d3d11-buffer (:pointer :void))
  (wgpu-buffer (:pointer :void))
  (-end-canary :unsigned-int))

(defstruct sg-buffer-desc
  (-start-canary 0)
  (size 0)
  (type nil)
  (usage nil)
  (data nil)
  (label nil)
  (gl-buffers (make-array 2))
  (mtl-buffers (make-array 2))
  (d3d11-buffer nil)
  (wgpu-buffer nil)
  (-end-canary 0))

(defmethod translate-from-foreign (ptr (type sg-buffer-desc-type))
  (with-foreign-slots ((-start-canary size type usage data label gl-buffers mtl-buffers d3d11-buffer wgpu-buffer -end-canary) ptr (:struct %sg-buffer-desc))
    (make-sg-buffer-desc :-start-canary -start-canary :size size :type type :usage usage :data data :label label :gl-buffers gl-buffers :mtl-buffers mtl-buffers :d3d11-buffer d3d11-buffer :wgpu-buffer wgpu-buffer :-end-canary -end-canary)))
(defmethod expand-from-foreign (ptr (type sg-buffer-desc-type))
  `(with-foreign-slots ((-start-canary size type usage data label gl-buffers mtl-buffers d3d11-buffer wgpu-buffer -end-canary) ,ptr (:struct %sg-buffer-desc))
    (make-sg-buffer-desc :-start-canary -start-canary :size size :type type :usage usage :data data :label label :gl-buffers gl-buffers :mtl-buffers mtl-buffers :d3d11-buffer d3d11-buffer :wgpu-buffer wgpu-buffer :-end-canary -end-canary)))
(defmethod translate-into-foreign-memory (value (type sg-buffer-desc-type) ptr)
  (with-foreign-slots ((-start-canary size type usage data label gl-buffers mtl-buffers d3d11-buffer wgpu-buffer -end-canary) ptr (:struct %sg-buffer-desc))
    (setf 
      -start-canary (sg-buffer-desc--start-canary value)
      size (sg-buffer-desc-size value)
      type (sg-buffer-desc-type value)
      usage (sg-buffer-desc-usage value)
      data (sg-buffer-desc-data value)
      label (sg-buffer-desc-label value)
      gl-buffers (sg-buffer-desc-gl-buffers value)
      mtl-buffers (sg-buffer-desc-mtl-buffers value)
      d3d11-buffer (sg-buffer-desc-d3d11-buffer value)
      wgpu-buffer (sg-buffer-desc-wgpu-buffer value)
      -end-canary (sg-buffer-desc--end-canary value))))

(defcstruct (%sg-image-data :class sg-image-data-type)
  (subimage (:array (:array (:struct %sg-range) 16) 6)))

(defstruct sg-image-data
  (subimage (make-array 6)))

(defmethod translate-from-foreign (ptr (type sg-image-data-type))
  (with-foreign-slots ((subimage) ptr (:struct %sg-image-data))
    (make-sg-image-data :subimage subimage)))
(defmethod expand-from-foreign (ptr (type sg-image-data-type))
  `(with-foreign-slots ((subimage) ,ptr (:struct %sg-image-data))
    (make-sg-image-data :subimage subimage)))
(defmethod translate-into-foreign-memory (value (type sg-image-data-type) ptr)
  (with-foreign-slots ((subimage) ptr (:struct %sg-image-data))
    (setf 
      subimage (sg-image-data-subimage value))))

(defcstruct (%sg-image-desc :class sg-image-desc-type)
  (-start-canary :unsigned-int)
  (type sg-image-type)
  (render-target :int)
  (width :int)
  (height :int)
  (num-slices :int)
  (num-mipmaps :int)
  (usage sg-usage)
  (pixel-format sg-pixel-format)
  (sample-count :int)
  (data (:struct %sg-image-data))
  (label (:pointer :char))
  (gl-textures (:array :unsigned-int 2))
  (gl-texture-target :unsigned-int)
  (mtl-textures (:array (:pointer :void) 2))
  (d3d11-texture (:pointer :void))
  (d3d11-shader-resource-view (:pointer :void))
  (wgpu-texture (:pointer :void))
  (wgpu-texture-view (:pointer :void))
  (-end-canary :unsigned-int))

(defstruct sg-image-desc
  (-start-canary 0)
  (type nil)
  (render-target nil)
  (width 0)
  (height 0)
  (num-slices 0)
  (num-mipmaps 0)
  (usage nil)
  (pixel-format nil)
  (sample-count 0)
  (data nil)
  (label nil)
  (gl-textures (make-array 2))
  (gl-texture-target 0)
  (mtl-textures (make-array 2))
  (d3d11-texture nil)
  (d3d11-shader-resource-view nil)
  (wgpu-texture nil)
  (wgpu-texture-view nil)
  (-end-canary 0))

(defmethod translate-from-foreign (ptr (type sg-image-desc-type))
  (with-foreign-slots ((-start-canary type render-target width height num-slices num-mipmaps usage pixel-format sample-count data label gl-textures gl-texture-target mtl-textures d3d11-texture d3d11-shader-resource-view wgpu-texture wgpu-texture-view -end-canary) ptr (:struct %sg-image-desc))
    (make-sg-image-desc :-start-canary -start-canary :type type :render-target render-target :width width :height height :num-slices num-slices :num-mipmaps num-mipmaps :usage usage :pixel-format pixel-format :sample-count sample-count :data data :label label :gl-textures gl-textures :gl-texture-target gl-texture-target :mtl-textures mtl-textures :d3d11-texture d3d11-texture :d3d11-shader-resource-view d3d11-shader-resource-view :wgpu-texture wgpu-texture :wgpu-texture-view wgpu-texture-view :-end-canary -end-canary)))
(defmethod expand-from-foreign (ptr (type sg-image-desc-type))
  `(with-foreign-slots ((-start-canary type render-target width height num-slices num-mipmaps usage pixel-format sample-count data label gl-textures gl-texture-target mtl-textures d3d11-texture d3d11-shader-resource-view wgpu-texture wgpu-texture-view -end-canary) ,ptr (:struct %sg-image-desc))
    (make-sg-image-desc :-start-canary -start-canary :type type :render-target render-target :width width :height height :num-slices num-slices :num-mipmaps num-mipmaps :usage usage :pixel-format pixel-format :sample-count sample-count :data data :label label :gl-textures gl-textures :gl-texture-target gl-texture-target :mtl-textures mtl-textures :d3d11-texture d3d11-texture :d3d11-shader-resource-view d3d11-shader-resource-view :wgpu-texture wgpu-texture :wgpu-texture-view wgpu-texture-view :-end-canary -end-canary)))
(defmethod translate-into-foreign-memory (value (type sg-image-desc-type) ptr)
  (with-foreign-slots ((-start-canary type render-target width height num-slices num-mipmaps usage pixel-format sample-count data label gl-textures gl-texture-target mtl-textures d3d11-texture d3d11-shader-resource-view wgpu-texture wgpu-texture-view -end-canary) ptr (:struct %sg-image-desc))
    (setf 
      -start-canary (sg-image-desc--start-canary value)
      type (sg-image-desc-type value)
      render-target (sg-image-desc-render-target value)
      width (sg-image-desc-width value)
      height (sg-image-desc-height value)
      num-slices (sg-image-desc-num-slices value)
      num-mipmaps (sg-image-desc-num-mipmaps value)
      usage (sg-image-desc-usage value)
      pixel-format (sg-image-desc-pixel-format value)
      sample-count (sg-image-desc-sample-count value)
      data (sg-image-desc-data value)
      label (sg-image-desc-label value)
      gl-textures (sg-image-desc-gl-textures value)
      gl-texture-target (sg-image-desc-gl-texture-target value)
      mtl-textures (sg-image-desc-mtl-textures value)
      d3d11-texture (sg-image-desc-d3d11-texture value)
      d3d11-shader-resource-view (sg-image-desc-d3d11-shader-resource-view value)
      wgpu-texture (sg-image-desc-wgpu-texture value)
      wgpu-texture-view (sg-image-desc-wgpu-texture-view value)
      -end-canary (sg-image-desc--end-canary value))))

(defcstruct (%sg-sampler-desc :class sg-sampler-desc-type)
  (-start-canary :unsigned-int)
  (min-filter sg-filter)
  (mag-filter sg-filter)
  (mipmap-filter sg-filter)
  (wrap-u sg-wrap)
  (wrap-v sg-wrap)
  (wrap-w sg-wrap)
  (min-lod :float)
  (max-lod :float)
  (border-color sg-border-color)
  (compare sg-compare-func)
  (max-anisotropy :unsigned-int)
  (label (:pointer :char))
  (gl-sampler :unsigned-int)
  (mtl-sampler (:pointer :void))
  (d3d11-sampler (:pointer :void))
  (wgpu-sampler (:pointer :void))
  (-end-canary :unsigned-int))

(defstruct sg-sampler-desc
  (-start-canary 0)
  (min-filter nil)
  (mag-filter nil)
  (mipmap-filter nil)
  (wrap-u nil)
  (wrap-v nil)
  (wrap-w nil)
  (min-lod 0.0)
  (max-lod 0.0)
  (border-color nil)
  (compare nil)
  (max-anisotropy 0)
  (label nil)
  (gl-sampler 0)
  (mtl-sampler nil)
  (d3d11-sampler nil)
  (wgpu-sampler nil)
  (-end-canary 0))

(defmethod translate-from-foreign (ptr (type sg-sampler-desc-type))
  (with-foreign-slots ((-start-canary min-filter mag-filter mipmap-filter wrap-u wrap-v wrap-w min-lod max-lod border-color compare max-anisotropy label gl-sampler mtl-sampler d3d11-sampler wgpu-sampler -end-canary) ptr (:struct %sg-sampler-desc))
    (make-sg-sampler-desc :-start-canary -start-canary :min-filter min-filter :mag-filter mag-filter :mipmap-filter mipmap-filter :wrap-u wrap-u :wrap-v wrap-v :wrap-w wrap-w :min-lod min-lod :max-lod max-lod :border-color border-color :compare compare :max-anisotropy max-anisotropy :label label :gl-sampler gl-sampler :mtl-sampler mtl-sampler :d3d11-sampler d3d11-sampler :wgpu-sampler wgpu-sampler :-end-canary -end-canary)))
(defmethod expand-from-foreign (ptr (type sg-sampler-desc-type))
  `(with-foreign-slots ((-start-canary min-filter mag-filter mipmap-filter wrap-u wrap-v wrap-w min-lod max-lod border-color compare max-anisotropy label gl-sampler mtl-sampler d3d11-sampler wgpu-sampler -end-canary) ,ptr (:struct %sg-sampler-desc))
    (make-sg-sampler-desc :-start-canary -start-canary :min-filter min-filter :mag-filter mag-filter :mipmap-filter mipmap-filter :wrap-u wrap-u :wrap-v wrap-v :wrap-w wrap-w :min-lod min-lod :max-lod max-lod :border-color border-color :compare compare :max-anisotropy max-anisotropy :label label :gl-sampler gl-sampler :mtl-sampler mtl-sampler :d3d11-sampler d3d11-sampler :wgpu-sampler wgpu-sampler :-end-canary -end-canary)))
(defmethod translate-into-foreign-memory (value (type sg-sampler-desc-type) ptr)
  (with-foreign-slots ((-start-canary min-filter mag-filter mipmap-filter wrap-u wrap-v wrap-w min-lod max-lod border-color compare max-anisotropy label gl-sampler mtl-sampler d3d11-sampler wgpu-sampler -end-canary) ptr (:struct %sg-sampler-desc))
    (setf 
      -start-canary (sg-sampler-desc--start-canary value)
      min-filter (sg-sampler-desc-min-filter value)
      mag-filter (sg-sampler-desc-mag-filter value)
      mipmap-filter (sg-sampler-desc-mipmap-filter value)
      wrap-u (sg-sampler-desc-wrap-u value)
      wrap-v (sg-sampler-desc-wrap-v value)
      wrap-w (sg-sampler-desc-wrap-w value)
      min-lod (sg-sampler-desc-min-lod value)
      max-lod (sg-sampler-desc-max-lod value)
      border-color (sg-sampler-desc-border-color value)
      compare (sg-sampler-desc-compare value)
      max-anisotropy (sg-sampler-desc-max-anisotropy value)
      label (sg-sampler-desc-label value)
      gl-sampler (sg-sampler-desc-gl-sampler value)
      mtl-sampler (sg-sampler-desc-mtl-sampler value)
      d3d11-sampler (sg-sampler-desc-d3d11-sampler value)
      wgpu-sampler (sg-sampler-desc-wgpu-sampler value)
      -end-canary (sg-sampler-desc--end-canary value))))

(defcstruct (%sg-shader-attr-desc :class sg-shader-attr-desc-type)
  (name (:pointer :char))
  (sem-name (:pointer :char))
  (sem-index :int))

(defstruct sg-shader-attr-desc
  (name nil)
  (sem-name nil)
  (sem-index 0))

(defmethod translate-from-foreign (ptr (type sg-shader-attr-desc-type))
  (with-foreign-slots ((name sem-name sem-index) ptr (:struct %sg-shader-attr-desc))
    (make-sg-shader-attr-desc :name name :sem-name sem-name :sem-index sem-index)))
(defmethod expand-from-foreign (ptr (type sg-shader-attr-desc-type))
  `(with-foreign-slots ((name sem-name sem-index) ,ptr (:struct %sg-shader-attr-desc))
    (make-sg-shader-attr-desc :name name :sem-name sem-name :sem-index sem-index)))
(defmethod translate-into-foreign-memory (value (type sg-shader-attr-desc-type) ptr)
  (with-foreign-slots ((name sem-name sem-index) ptr (:struct %sg-shader-attr-desc))
    (setf 
      name (sg-shader-attr-desc-name value)
      sem-name (sg-shader-attr-desc-sem-name value)
      sem-index (sg-shader-attr-desc-sem-index value))))

(defcstruct (%sg-shader-uniform-desc :class sg-shader-uniform-desc-type)
  (name (:pointer :char))
  (type sg-uniform-type)
  (array-count :int))

(defstruct sg-shader-uniform-desc
  (name nil)
  (type nil)
  (array-count 0))

(defmethod translate-from-foreign (ptr (type sg-shader-uniform-desc-type))
  (with-foreign-slots ((name type array-count) ptr (:struct %sg-shader-uniform-desc))
    (make-sg-shader-uniform-desc :name name :type type :array-count array-count)))
(defmethod expand-from-foreign (ptr (type sg-shader-uniform-desc-type))
  `(with-foreign-slots ((name type array-count) ,ptr (:struct %sg-shader-uniform-desc))
    (make-sg-shader-uniform-desc :name name :type type :array-count array-count)))
(defmethod translate-into-foreign-memory (value (type sg-shader-uniform-desc-type) ptr)
  (with-foreign-slots ((name type array-count) ptr (:struct %sg-shader-uniform-desc))
    (setf 
      name (sg-shader-uniform-desc-name value)
      type (sg-shader-uniform-desc-type value)
      array-count (sg-shader-uniform-desc-array-count value))))

(defcstruct (%sg-shader-uniform-block-desc :class sg-shader-uniform-block-desc-type)
  (size :unsigned-long)
  (layout sg-uniform-layout)
  (uniforms (:array (:struct %sg-shader-uniform-desc) 16)))

(defstruct sg-shader-uniform-block-desc
  (size 0)
  (layout nil)
  (uniforms (make-array 16)))

(defmethod translate-from-foreign (ptr (type sg-shader-uniform-block-desc-type))
  (with-foreign-slots ((size layout uniforms) ptr (:struct %sg-shader-uniform-block-desc))
    (make-sg-shader-uniform-block-desc :size size :layout layout :uniforms uniforms)))
(defmethod expand-from-foreign (ptr (type sg-shader-uniform-block-desc-type))
  `(with-foreign-slots ((size layout uniforms) ,ptr (:struct %sg-shader-uniform-block-desc))
    (make-sg-shader-uniform-block-desc :size size :layout layout :uniforms uniforms)))
(defmethod translate-into-foreign-memory (value (type sg-shader-uniform-block-desc-type) ptr)
  (with-foreign-slots ((size layout uniforms) ptr (:struct %sg-shader-uniform-block-desc))
    (setf 
      size (sg-shader-uniform-block-desc-size value)
      layout (sg-shader-uniform-block-desc-layout value)
      uniforms (sg-shader-uniform-block-desc-uniforms value))))

(defcstruct (%sg-shader-image-desc :class sg-shader-image-desc-type)
  (used :int)
  (multisampled :int)
  (image-type sg-image-type)
  (sample-type sg-image-sample-type))

(defstruct sg-shader-image-desc
  (used nil)
  (multisampled nil)
  (image-type nil)
  (sample-type nil))

(defmethod translate-from-foreign (ptr (type sg-shader-image-desc-type))
  (with-foreign-slots ((used multisampled image-type sample-type) ptr (:struct %sg-shader-image-desc))
    (make-sg-shader-image-desc :used used :multisampled multisampled :image-type image-type :sample-type sample-type)))
(defmethod expand-from-foreign (ptr (type sg-shader-image-desc-type))
  `(with-foreign-slots ((used multisampled image-type sample-type) ,ptr (:struct %sg-shader-image-desc))
    (make-sg-shader-image-desc :used used :multisampled multisampled :image-type image-type :sample-type sample-type)))
(defmethod translate-into-foreign-memory (value (type sg-shader-image-desc-type) ptr)
  (with-foreign-slots ((used multisampled image-type sample-type) ptr (:struct %sg-shader-image-desc))
    (setf 
      used (sg-shader-image-desc-used value)
      multisampled (sg-shader-image-desc-multisampled value)
      image-type (sg-shader-image-desc-image-type value)
      sample-type (sg-shader-image-desc-sample-type value))))

(defcstruct (%sg-shader-sampler-desc :class sg-shader-sampler-desc-type)
  (used :int)
  (sampler-type sg-sampler-type))

(defstruct sg-shader-sampler-desc
  (used nil)
  (sampler-type nil))

(defmethod translate-from-foreign (ptr (type sg-shader-sampler-desc-type))
  (with-foreign-slots ((used sampler-type) ptr (:struct %sg-shader-sampler-desc))
    (make-sg-shader-sampler-desc :used used :sampler-type sampler-type)))
(defmethod expand-from-foreign (ptr (type sg-shader-sampler-desc-type))
  `(with-foreign-slots ((used sampler-type) ,ptr (:struct %sg-shader-sampler-desc))
    (make-sg-shader-sampler-desc :used used :sampler-type sampler-type)))
(defmethod translate-into-foreign-memory (value (type sg-shader-sampler-desc-type) ptr)
  (with-foreign-slots ((used sampler-type) ptr (:struct %sg-shader-sampler-desc))
    (setf 
      used (sg-shader-sampler-desc-used value)
      sampler-type (sg-shader-sampler-desc-sampler-type value))))

(defcstruct (%sg-shader-image-sampler-pair-desc :class sg-shader-image-sampler-pair-desc-type)
  (used :int)
  (image-slot :int)
  (sampler-slot :int)
  (glsl-name (:pointer :char)))

(defstruct sg-shader-image-sampler-pair-desc
  (used nil)
  (image-slot 0)
  (sampler-slot 0)
  (glsl-name nil))

(defmethod translate-from-foreign (ptr (type sg-shader-image-sampler-pair-desc-type))
  (with-foreign-slots ((used image-slot sampler-slot glsl-name) ptr (:struct %sg-shader-image-sampler-pair-desc))
    (make-sg-shader-image-sampler-pair-desc :used used :image-slot image-slot :sampler-slot sampler-slot :glsl-name glsl-name)))
(defmethod expand-from-foreign (ptr (type sg-shader-image-sampler-pair-desc-type))
  `(with-foreign-slots ((used image-slot sampler-slot glsl-name) ,ptr (:struct %sg-shader-image-sampler-pair-desc))
    (make-sg-shader-image-sampler-pair-desc :used used :image-slot image-slot :sampler-slot sampler-slot :glsl-name glsl-name)))
(defmethod translate-into-foreign-memory (value (type sg-shader-image-sampler-pair-desc-type) ptr)
  (with-foreign-slots ((used image-slot sampler-slot glsl-name) ptr (:struct %sg-shader-image-sampler-pair-desc))
    (setf 
      used (sg-shader-image-sampler-pair-desc-used value)
      image-slot (sg-shader-image-sampler-pair-desc-image-slot value)
      sampler-slot (sg-shader-image-sampler-pair-desc-sampler-slot value)
      glsl-name (sg-shader-image-sampler-pair-desc-glsl-name value))))

(defcstruct (%sg-shader-stage-desc :class sg-shader-stage-desc-type)
  (source (:pointer :char))
  (bytecode (:struct %sg-range))
  (entry (:pointer :char))
  (d3d11-target (:pointer :char))
  (uniform-blocks (:array (:struct %sg-shader-uniform-block-desc) 4))
  (images (:array (:struct %sg-shader-image-desc) 12))
  (samplers (:array (:struct %sg-shader-sampler-desc) 8))
  (image-sampler-pairs (:array (:struct %sg-shader-image-sampler-pair-desc) 12)))

(defstruct sg-shader-stage-desc
  (source nil)
  (bytecode nil)
  (entry nil)
  (d3d11-target nil)
  (uniform-blocks (make-array 4))
  (images (make-array 12))
  (samplers (make-array 8))
  (image-sampler-pairs (make-array 12)))

(defmethod translate-from-foreign (ptr (type sg-shader-stage-desc-type))
  (with-foreign-slots ((source bytecode entry d3d11-target uniform-blocks images samplers image-sampler-pairs) ptr (:struct %sg-shader-stage-desc))
    (make-sg-shader-stage-desc :source source :bytecode bytecode :entry entry :d3d11-target d3d11-target :uniform-blocks uniform-blocks :images images :samplers samplers :image-sampler-pairs image-sampler-pairs)))
(defmethod expand-from-foreign (ptr (type sg-shader-stage-desc-type))
  `(with-foreign-slots ((source bytecode entry d3d11-target uniform-blocks images samplers image-sampler-pairs) ,ptr (:struct %sg-shader-stage-desc))
    (make-sg-shader-stage-desc :source source :bytecode bytecode :entry entry :d3d11-target d3d11-target :uniform-blocks uniform-blocks :images images :samplers samplers :image-sampler-pairs image-sampler-pairs)))
(defmethod translate-into-foreign-memory (value (type sg-shader-stage-desc-type) ptr)
  (with-foreign-slots ((source bytecode entry d3d11-target uniform-blocks images samplers image-sampler-pairs) ptr (:struct %sg-shader-stage-desc))
    (setf 
      source (sg-shader-stage-desc-source value)
      bytecode (sg-shader-stage-desc-bytecode value)
      entry (sg-shader-stage-desc-entry value)
      d3d11-target (sg-shader-stage-desc-d3d11-target value)
      uniform-blocks (sg-shader-stage-desc-uniform-blocks value)
      images (sg-shader-stage-desc-images value)
      samplers (sg-shader-stage-desc-samplers value)
      image-sampler-pairs (sg-shader-stage-desc-image-sampler-pairs value))))

(defcstruct (%sg-shader-desc :class sg-shader-desc-type)
  (-start-canary :unsigned-int)
  (attrs (:array (:struct %sg-shader-attr-desc) 16))
  (vs (:struct %sg-shader-stage-desc))
  (fs (:struct %sg-shader-stage-desc))
  (label (:pointer :char))
  (-end-canary :unsigned-int))

(defstruct sg-shader-desc
  (-start-canary 0)
  (attrs (make-array 16))
  (vs nil)
  (fs nil)
  (label nil)
  (-end-canary 0))

(defmethod translate-from-foreign (ptr (type sg-shader-desc-type))
  (with-foreign-slots ((-start-canary attrs vs fs label -end-canary) ptr (:struct %sg-shader-desc))
    (make-sg-shader-desc :-start-canary -start-canary :attrs attrs :vs vs :fs fs :label label :-end-canary -end-canary)))
(defmethod expand-from-foreign (ptr (type sg-shader-desc-type))
  `(with-foreign-slots ((-start-canary attrs vs fs label -end-canary) ,ptr (:struct %sg-shader-desc))
    (make-sg-shader-desc :-start-canary -start-canary :attrs attrs :vs vs :fs fs :label label :-end-canary -end-canary)))
(defmethod translate-into-foreign-memory (value (type sg-shader-desc-type) ptr)
  (with-foreign-slots ((-start-canary attrs vs fs label -end-canary) ptr (:struct %sg-shader-desc))
    (setf 
      -start-canary (sg-shader-desc--start-canary value)
      attrs (sg-shader-desc-attrs value)
      vs (sg-shader-desc-vs value)
      fs (sg-shader-desc-fs value)
      label (sg-shader-desc-label value)
      -end-canary (sg-shader-desc--end-canary value))))

(defcstruct (%sg-vertex-buffer-layout-state :class sg-vertex-buffer-layout-state-type)
  (stride :int)
  (step-func sg-vertex-step)
  (step-rate :int))

(defstruct sg-vertex-buffer-layout-state
  (stride 0)
  (step-func nil)
  (step-rate 0))

(defmethod translate-from-foreign (ptr (type sg-vertex-buffer-layout-state-type))
  (with-foreign-slots ((stride step-func step-rate) ptr (:struct %sg-vertex-buffer-layout-state))
    (make-sg-vertex-buffer-layout-state :stride stride :step-func step-func :step-rate step-rate)))
(defmethod expand-from-foreign (ptr (type sg-vertex-buffer-layout-state-type))
  `(with-foreign-slots ((stride step-func step-rate) ,ptr (:struct %sg-vertex-buffer-layout-state))
    (make-sg-vertex-buffer-layout-state :stride stride :step-func step-func :step-rate step-rate)))
(defmethod translate-into-foreign-memory (value (type sg-vertex-buffer-layout-state-type) ptr)
  (with-foreign-slots ((stride step-func step-rate) ptr (:struct %sg-vertex-buffer-layout-state))
    (setf 
      stride (sg-vertex-buffer-layout-state-stride value)
      step-func (sg-vertex-buffer-layout-state-step-func value)
      step-rate (sg-vertex-buffer-layout-state-step-rate value))))

(defcstruct (%sg-vertex-attr-state :class sg-vertex-attr-state-type)
  (buffer-index :int)
  (offset :int)
  (format sg-vertex-format))

(defstruct sg-vertex-attr-state
  (buffer-index 0)
  (offset 0)
  (format nil))

(defmethod translate-from-foreign (ptr (type sg-vertex-attr-state-type))
  (with-foreign-slots ((buffer-index offset format) ptr (:struct %sg-vertex-attr-state))
    (make-sg-vertex-attr-state :buffer-index buffer-index :offset offset :format format)))
(defmethod expand-from-foreign (ptr (type sg-vertex-attr-state-type))
  `(with-foreign-slots ((buffer-index offset format) ,ptr (:struct %sg-vertex-attr-state))
    (make-sg-vertex-attr-state :buffer-index buffer-index :offset offset :format format)))
(defmethod translate-into-foreign-memory (value (type sg-vertex-attr-state-type) ptr)
  (with-foreign-slots ((buffer-index offset format) ptr (:struct %sg-vertex-attr-state))
    (setf 
      buffer-index (sg-vertex-attr-state-buffer-index value)
      offset (sg-vertex-attr-state-offset value)
      format (sg-vertex-attr-state-format value))))

(defcstruct (%sg-vertex-layout-state :class sg-vertex-layout-state-type)
  (buffers (:array (:struct %sg-vertex-buffer-layout-state) 8))
  (attrs (:array (:struct %sg-vertex-attr-state) 16)))

(defstruct sg-vertex-layout-state
  (buffers (make-array 8))
  (attrs (make-array 16)))

(defmethod translate-from-foreign (ptr (type sg-vertex-layout-state-type))
  (with-foreign-slots ((buffers attrs) ptr (:struct %sg-vertex-layout-state))
    (make-sg-vertex-layout-state :buffers buffers :attrs attrs)))
(defmethod expand-from-foreign (ptr (type sg-vertex-layout-state-type))
  `(with-foreign-slots ((buffers attrs) ,ptr (:struct %sg-vertex-layout-state))
    (make-sg-vertex-layout-state :buffers buffers :attrs attrs)))
(defmethod translate-into-foreign-memory (value (type sg-vertex-layout-state-type) ptr)
  (with-foreign-slots ((buffers attrs) ptr (:struct %sg-vertex-layout-state))
    (setf 
      buffers (sg-vertex-layout-state-buffers value)
      attrs (sg-vertex-layout-state-attrs value))))

(defcstruct (%sg-stencil-face-state :class sg-stencil-face-state-type)
  (compare sg-compare-func)
  (fail-op sg-stencil-op)
  (depth-fail-op sg-stencil-op)
  (pass-op sg-stencil-op))

(defstruct sg-stencil-face-state
  (compare nil)
  (fail-op nil)
  (depth-fail-op nil)
  (pass-op nil))

(defmethod translate-from-foreign (ptr (type sg-stencil-face-state-type))
  (with-foreign-slots ((compare fail-op depth-fail-op pass-op) ptr (:struct %sg-stencil-face-state))
    (make-sg-stencil-face-state :compare compare :fail-op fail-op :depth-fail-op depth-fail-op :pass-op pass-op)))
(defmethod expand-from-foreign (ptr (type sg-stencil-face-state-type))
  `(with-foreign-slots ((compare fail-op depth-fail-op pass-op) ,ptr (:struct %sg-stencil-face-state))
    (make-sg-stencil-face-state :compare compare :fail-op fail-op :depth-fail-op depth-fail-op :pass-op pass-op)))
(defmethod translate-into-foreign-memory (value (type sg-stencil-face-state-type) ptr)
  (with-foreign-slots ((compare fail-op depth-fail-op pass-op) ptr (:struct %sg-stencil-face-state))
    (setf 
      compare (sg-stencil-face-state-compare value)
      fail-op (sg-stencil-face-state-fail-op value)
      depth-fail-op (sg-stencil-face-state-depth-fail-op value)
      pass-op (sg-stencil-face-state-pass-op value))))

(defcstruct (%sg-stencil-state :class sg-stencil-state-type)
  (enabled :int)
  (front (:struct %sg-stencil-face-state))
  (back (:struct %sg-stencil-face-state))
  (read-mask :unsigned-char)
  (write-mask :unsigned-char)
  (ref :unsigned-char))

(defstruct sg-stencil-state
  (enabled nil)
  (front nil)
  (back nil)
  (read-mask 0)
  (write-mask 0)
  (ref 0))

(defmethod translate-from-foreign (ptr (type sg-stencil-state-type))
  (with-foreign-slots ((enabled front back read-mask write-mask ref) ptr (:struct %sg-stencil-state))
    (make-sg-stencil-state :enabled enabled :front front :back back :read-mask read-mask :write-mask write-mask :ref ref)))
(defmethod expand-from-foreign (ptr (type sg-stencil-state-type))
  `(with-foreign-slots ((enabled front back read-mask write-mask ref) ,ptr (:struct %sg-stencil-state))
    (make-sg-stencil-state :enabled enabled :front front :back back :read-mask read-mask :write-mask write-mask :ref ref)))
(defmethod translate-into-foreign-memory (value (type sg-stencil-state-type) ptr)
  (with-foreign-slots ((enabled front back read-mask write-mask ref) ptr (:struct %sg-stencil-state))
    (setf 
      enabled (sg-stencil-state-enabled value)
      front (sg-stencil-state-front value)
      back (sg-stencil-state-back value)
      read-mask (sg-stencil-state-read-mask value)
      write-mask (sg-stencil-state-write-mask value)
      ref (sg-stencil-state-ref value))))

(defcstruct (%sg-depth-state :class sg-depth-state-type)
  (pixel-format sg-pixel-format)
  (compare sg-compare-func)
  (write-enabled :int)
  (bias :float)
  (bias-slope-scale :float)
  (bias-clamp :float))

(defstruct sg-depth-state
  (pixel-format nil)
  (compare nil)
  (write-enabled nil)
  (bias 0.0)
  (bias-slope-scale 0.0)
  (bias-clamp 0.0))

(defmethod translate-from-foreign (ptr (type sg-depth-state-type))
  (with-foreign-slots ((pixel-format compare write-enabled bias bias-slope-scale bias-clamp) ptr (:struct %sg-depth-state))
    (make-sg-depth-state :pixel-format pixel-format :compare compare :write-enabled write-enabled :bias bias :bias-slope-scale bias-slope-scale :bias-clamp bias-clamp)))
(defmethod expand-from-foreign (ptr (type sg-depth-state-type))
  `(with-foreign-slots ((pixel-format compare write-enabled bias bias-slope-scale bias-clamp) ,ptr (:struct %sg-depth-state))
    (make-sg-depth-state :pixel-format pixel-format :compare compare :write-enabled write-enabled :bias bias :bias-slope-scale bias-slope-scale :bias-clamp bias-clamp)))
(defmethod translate-into-foreign-memory (value (type sg-depth-state-type) ptr)
  (with-foreign-slots ((pixel-format compare write-enabled bias bias-slope-scale bias-clamp) ptr (:struct %sg-depth-state))
    (setf 
      pixel-format (sg-depth-state-pixel-format value)
      compare (sg-depth-state-compare value)
      write-enabled (sg-depth-state-write-enabled value)
      bias (sg-depth-state-bias value)
      bias-slope-scale (sg-depth-state-bias-slope-scale value)
      bias-clamp (sg-depth-state-bias-clamp value))))

(defcstruct (%sg-blend-state :class sg-blend-state-type)
  (enabled :int)
  (src-factor-rgb sg-blend-factor)
  (dst-factor-rgb sg-blend-factor)
  (op-rgb sg-blend-op)
  (src-factor-alpha sg-blend-factor)
  (dst-factor-alpha sg-blend-factor)
  (op-alpha sg-blend-op))

(defstruct sg-blend-state
  (enabled nil)
  (src-factor-rgb nil)
  (dst-factor-rgb nil)
  (op-rgb nil)
  (src-factor-alpha nil)
  (dst-factor-alpha nil)
  (op-alpha nil))

(defmethod translate-from-foreign (ptr (type sg-blend-state-type))
  (with-foreign-slots ((enabled src-factor-rgb dst-factor-rgb op-rgb src-factor-alpha dst-factor-alpha op-alpha) ptr (:struct %sg-blend-state))
    (make-sg-blend-state :enabled enabled :src-factor-rgb src-factor-rgb :dst-factor-rgb dst-factor-rgb :op-rgb op-rgb :src-factor-alpha src-factor-alpha :dst-factor-alpha dst-factor-alpha :op-alpha op-alpha)))
(defmethod expand-from-foreign (ptr (type sg-blend-state-type))
  `(with-foreign-slots ((enabled src-factor-rgb dst-factor-rgb op-rgb src-factor-alpha dst-factor-alpha op-alpha) ,ptr (:struct %sg-blend-state))
    (make-sg-blend-state :enabled enabled :src-factor-rgb src-factor-rgb :dst-factor-rgb dst-factor-rgb :op-rgb op-rgb :src-factor-alpha src-factor-alpha :dst-factor-alpha dst-factor-alpha :op-alpha op-alpha)))
(defmethod translate-into-foreign-memory (value (type sg-blend-state-type) ptr)
  (with-foreign-slots ((enabled src-factor-rgb dst-factor-rgb op-rgb src-factor-alpha dst-factor-alpha op-alpha) ptr (:struct %sg-blend-state))
    (setf 
      enabled (sg-blend-state-enabled value)
      src-factor-rgb (sg-blend-state-src-factor-rgb value)
      dst-factor-rgb (sg-blend-state-dst-factor-rgb value)
      op-rgb (sg-blend-state-op-rgb value)
      src-factor-alpha (sg-blend-state-src-factor-alpha value)
      dst-factor-alpha (sg-blend-state-dst-factor-alpha value)
      op-alpha (sg-blend-state-op-alpha value))))

(defcstruct (%sg-color-target-state :class sg-color-target-state-type)
  (pixel-format sg-pixel-format)
  (write-mask sg-color-mask)
  (blend (:struct %sg-blend-state)))

(defstruct sg-color-target-state
  (pixel-format nil)
  (write-mask nil)
  (blend nil))

(defmethod translate-from-foreign (ptr (type sg-color-target-state-type))
  (with-foreign-slots ((pixel-format write-mask blend) ptr (:struct %sg-color-target-state))
    (make-sg-color-target-state :pixel-format pixel-format :write-mask write-mask :blend blend)))
(defmethod expand-from-foreign (ptr (type sg-color-target-state-type))
  `(with-foreign-slots ((pixel-format write-mask blend) ,ptr (:struct %sg-color-target-state))
    (make-sg-color-target-state :pixel-format pixel-format :write-mask write-mask :blend blend)))
(defmethod translate-into-foreign-memory (value (type sg-color-target-state-type) ptr)
  (with-foreign-slots ((pixel-format write-mask blend) ptr (:struct %sg-color-target-state))
    (setf 
      pixel-format (sg-color-target-state-pixel-format value)
      write-mask (sg-color-target-state-write-mask value)
      blend (sg-color-target-state-blend value))))

(defcstruct (%sg-pipeline-desc :class sg-pipeline-desc-type)
  (-start-canary :unsigned-int)
  (shader (:struct %sg-shader))
  (layout (:struct %sg-vertex-layout-state))
  (depth (:struct %sg-depth-state))
  (stencil (:struct %sg-stencil-state))
  (color-count :int)
  (colors (:array (:struct %sg-color-target-state) 4))
  (primitive-type sg-primitive-type)
  (index-type sg-index-type)
  (cull-mode sg-cull-mode)
  (face-winding sg-face-winding)
  (sample-count :int)
  (blend-color (:struct %sg-color))
  (alpha-to-coverage-enabled :int)
  (label (:pointer :char))
  (-end-canary :unsigned-int))

(defstruct sg-pipeline-desc
  (-start-canary 0)
  (shader nil)
  (layout nil)
  (depth nil)
  (stencil nil)
  (color-count 0)
  (colors (make-array 4))
  (primitive-type nil)
  (index-type nil)
  (cull-mode nil)
  (face-winding nil)
  (sample-count 0)
  (blend-color nil)
  (alpha-to-coverage-enabled nil)
  (label nil)
  (-end-canary 0))

(defmethod translate-from-foreign (ptr (type sg-pipeline-desc-type))
  (with-foreign-slots ((-start-canary shader layout depth stencil color-count colors primitive-type index-type cull-mode face-winding sample-count blend-color alpha-to-coverage-enabled label -end-canary) ptr (:struct %sg-pipeline-desc))
    (make-sg-pipeline-desc :-start-canary -start-canary :shader shader :layout layout :depth depth :stencil stencil :color-count color-count :colors colors :primitive-type primitive-type :index-type index-type :cull-mode cull-mode :face-winding face-winding :sample-count sample-count :blend-color blend-color :alpha-to-coverage-enabled alpha-to-coverage-enabled :label label :-end-canary -end-canary)))
(defmethod expand-from-foreign (ptr (type sg-pipeline-desc-type))
  `(with-foreign-slots ((-start-canary shader layout depth stencil color-count colors primitive-type index-type cull-mode face-winding sample-count blend-color alpha-to-coverage-enabled label -end-canary) ,ptr (:struct %sg-pipeline-desc))
    (make-sg-pipeline-desc :-start-canary -start-canary :shader shader :layout layout :depth depth :stencil stencil :color-count color-count :colors colors :primitive-type primitive-type :index-type index-type :cull-mode cull-mode :face-winding face-winding :sample-count sample-count :blend-color blend-color :alpha-to-coverage-enabled alpha-to-coverage-enabled :label label :-end-canary -end-canary)))
(defmethod translate-into-foreign-memory (value (type sg-pipeline-desc-type) ptr)
  (with-foreign-slots ((-start-canary shader layout depth stencil color-count colors primitive-type index-type cull-mode face-winding sample-count blend-color alpha-to-coverage-enabled label -end-canary) ptr (:struct %sg-pipeline-desc))
    (setf 
      -start-canary (sg-pipeline-desc--start-canary value)
      shader (sg-pipeline-desc-shader value)
      layout (sg-pipeline-desc-layout value)
      depth (sg-pipeline-desc-depth value)
      stencil (sg-pipeline-desc-stencil value)
      color-count (sg-pipeline-desc-color-count value)
      colors (sg-pipeline-desc-colors value)
      primitive-type (sg-pipeline-desc-primitive-type value)
      index-type (sg-pipeline-desc-index-type value)
      cull-mode (sg-pipeline-desc-cull-mode value)
      face-winding (sg-pipeline-desc-face-winding value)
      sample-count (sg-pipeline-desc-sample-count value)
      blend-color (sg-pipeline-desc-blend-color value)
      alpha-to-coverage-enabled (sg-pipeline-desc-alpha-to-coverage-enabled value)
      label (sg-pipeline-desc-label value)
      -end-canary (sg-pipeline-desc--end-canary value))))

(defcstruct (%sg-pass-attachment-desc :class sg-pass-attachment-desc-type)
  (image (:struct %sg-image))
  (mip-level :int)
  (slice :int))

(defstruct sg-pass-attachment-desc
  (image nil)
  (mip-level 0)
  (slice 0))

(defmethod translate-from-foreign (ptr (type sg-pass-attachment-desc-type))
  (with-foreign-slots ((image mip-level slice) ptr (:struct %sg-pass-attachment-desc))
    (make-sg-pass-attachment-desc :image image :mip-level mip-level :slice slice)))
(defmethod expand-from-foreign (ptr (type sg-pass-attachment-desc-type))
  `(with-foreign-slots ((image mip-level slice) ,ptr (:struct %sg-pass-attachment-desc))
    (make-sg-pass-attachment-desc :image image :mip-level mip-level :slice slice)))
(defmethod translate-into-foreign-memory (value (type sg-pass-attachment-desc-type) ptr)
  (with-foreign-slots ((image mip-level slice) ptr (:struct %sg-pass-attachment-desc))
    (setf 
      image (sg-pass-attachment-desc-image value)
      mip-level (sg-pass-attachment-desc-mip-level value)
      slice (sg-pass-attachment-desc-slice value))))

(defcstruct (%sg-pass-desc :class sg-pass-desc-type)
  (-start-canary :unsigned-int)
  (color-attachments (:array (:struct %sg-pass-attachment-desc) 4))
  (resolve-attachments (:array (:struct %sg-pass-attachment-desc) 4))
  (depth-stencil-attachment (:struct %sg-pass-attachment-desc))
  (label (:pointer :char))
  (-end-canary :unsigned-int))

(defstruct sg-pass-desc
  (-start-canary 0)
  (color-attachments (make-array 4))
  (resolve-attachments (make-array 4))
  (depth-stencil-attachment nil)
  (label nil)
  (-end-canary 0))

(defmethod translate-from-foreign (ptr (type sg-pass-desc-type))
  (with-foreign-slots ((-start-canary color-attachments resolve-attachments depth-stencil-attachment label -end-canary) ptr (:struct %sg-pass-desc))
    (make-sg-pass-desc :-start-canary -start-canary :color-attachments color-attachments :resolve-attachments resolve-attachments :depth-stencil-attachment depth-stencil-attachment :label label :-end-canary -end-canary)))
(defmethod expand-from-foreign (ptr (type sg-pass-desc-type))
  `(with-foreign-slots ((-start-canary color-attachments resolve-attachments depth-stencil-attachment label -end-canary) ,ptr (:struct %sg-pass-desc))
    (make-sg-pass-desc :-start-canary -start-canary :color-attachments color-attachments :resolve-attachments resolve-attachments :depth-stencil-attachment depth-stencil-attachment :label label :-end-canary -end-canary)))
(defmethod translate-into-foreign-memory (value (type sg-pass-desc-type) ptr)
  (with-foreign-slots ((-start-canary color-attachments resolve-attachments depth-stencil-attachment label -end-canary) ptr (:struct %sg-pass-desc))
    (setf 
      -start-canary (sg-pass-desc--start-canary value)
      color-attachments (sg-pass-desc-color-attachments value)
      resolve-attachments (sg-pass-desc-resolve-attachments value)
      depth-stencil-attachment (sg-pass-desc-depth-stencil-attachment value)
      label (sg-pass-desc-label value)
      -end-canary (sg-pass-desc--end-canary value))))

(defcstruct (%sg-trace-hooks :class sg-trace-hooks-type)
  (user-data (:pointer :void))
  (reset-state-cache :pointer)
  (make-buffer :pointer)
  (make-image :pointer)
  (make-sampler :pointer)
  (make-shader :pointer)
  (make-pipeline :pointer)
  (make-pass :pointer)
  (destroy-buffer :pointer)
  (destroy-image :pointer)
  (destroy-sampler :pointer)
  (destroy-shader :pointer)
  (destroy-pipeline :pointer)
  (destroy-pass :pointer)
  (update-buffer :pointer)
  (update-image :pointer)
  (append-buffer :pointer)
  (begin-default-pass :pointer)
  (begin-pass :pointer)
  (apply-viewport :pointer)
  (apply-scissor-rect :pointer)
  (apply-pipeline :pointer)
  (apply-bindings :pointer)
  (apply-uniforms :pointer)
  (draw :pointer)
  (end-pass :pointer)
  (commit :pointer)
  (alloc-buffer :pointer)
  (alloc-image :pointer)
  (alloc-sampler :pointer)
  (alloc-shader :pointer)
  (alloc-pipeline :pointer)
  (alloc-pass :pointer)
  (dealloc-buffer :pointer)
  (dealloc-image :pointer)
  (dealloc-sampler :pointer)
  (dealloc-shader :pointer)
  (dealloc-pipeline :pointer)
  (dealloc-pass :pointer)
  (init-buffer :pointer)
  (init-image :pointer)
  (init-sampler :pointer)
  (init-shader :pointer)
  (init-pipeline :pointer)
  (init-pass :pointer)
  (uninit-buffer :pointer)
  (uninit-image :pointer)
  (uninit-sampler :pointer)
  (uninit-shader :pointer)
  (uninit-pipeline :pointer)
  (uninit-pass :pointer)
  (fail-buffer :pointer)
  (fail-image :pointer)
  (fail-sampler :pointer)
  (fail-shader :pointer)
  (fail-pipeline :pointer)
  (fail-pass :pointer)
  (push-debug-group :pointer)
  (pop-debug-group :pointer))

(defstruct sg-trace-hooks
  (user-data nil)
  (reset-state-cache nil)
  (make-buffer nil)
  (make-image nil)
  (make-sampler nil)
  (make-shader nil)
  (make-pipeline nil)
  (make-pass nil)
  (destroy-buffer nil)
  (destroy-image nil)
  (destroy-sampler nil)
  (destroy-shader nil)
  (destroy-pipeline nil)
  (destroy-pass nil)
  (update-buffer nil)
  (update-image nil)
  (append-buffer nil)
  (begin-default-pass nil)
  (begin-pass nil)
  (apply-viewport nil)
  (apply-scissor-rect nil)
  (apply-pipeline nil)
  (apply-bindings nil)
  (apply-uniforms nil)
  (draw nil)
  (end-pass nil)
  (commit nil)
  (alloc-buffer nil)
  (alloc-image nil)
  (alloc-sampler nil)
  (alloc-shader nil)
  (alloc-pipeline nil)
  (alloc-pass nil)
  (dealloc-buffer nil)
  (dealloc-image nil)
  (dealloc-sampler nil)
  (dealloc-shader nil)
  (dealloc-pipeline nil)
  (dealloc-pass nil)
  (init-buffer nil)
  (init-image nil)
  (init-sampler nil)
  (init-shader nil)
  (init-pipeline nil)
  (init-pass nil)
  (uninit-buffer nil)
  (uninit-image nil)
  (uninit-sampler nil)
  (uninit-shader nil)
  (uninit-pipeline nil)
  (uninit-pass nil)
  (fail-buffer nil)
  (fail-image nil)
  (fail-sampler nil)
  (fail-shader nil)
  (fail-pipeline nil)
  (fail-pass nil)
  (push-debug-group nil)
  (pop-debug-group nil))

(defmethod translate-from-foreign (ptr (type sg-trace-hooks-type))
  (with-foreign-slots ((user-data reset-state-cache make-buffer make-image make-sampler make-shader make-pipeline make-pass destroy-buffer destroy-image destroy-sampler destroy-shader destroy-pipeline destroy-pass update-buffer update-image append-buffer begin-default-pass begin-pass apply-viewport apply-scissor-rect apply-pipeline apply-bindings apply-uniforms draw end-pass commit alloc-buffer alloc-image alloc-sampler alloc-shader alloc-pipeline alloc-pass dealloc-buffer dealloc-image dealloc-sampler dealloc-shader dealloc-pipeline dealloc-pass init-buffer init-image init-sampler init-shader init-pipeline init-pass uninit-buffer uninit-image uninit-sampler uninit-shader uninit-pipeline uninit-pass fail-buffer fail-image fail-sampler fail-shader fail-pipeline fail-pass push-debug-group pop-debug-group) ptr (:struct %sg-trace-hooks))
    (make-sg-trace-hooks :user-data user-data :reset-state-cache reset-state-cache :make-buffer make-buffer :make-image make-image :make-sampler make-sampler :make-shader make-shader :make-pipeline make-pipeline :make-pass make-pass :destroy-buffer destroy-buffer :destroy-image destroy-image :destroy-sampler destroy-sampler :destroy-shader destroy-shader :destroy-pipeline destroy-pipeline :destroy-pass destroy-pass :update-buffer update-buffer :update-image update-image :append-buffer append-buffer :begin-default-pass begin-default-pass :begin-pass begin-pass :apply-viewport apply-viewport :apply-scissor-rect apply-scissor-rect :apply-pipeline apply-pipeline :apply-bindings apply-bindings :apply-uniforms apply-uniforms :draw draw :end-pass end-pass :commit commit :alloc-buffer alloc-buffer :alloc-image alloc-image :alloc-sampler alloc-sampler :alloc-shader alloc-shader :alloc-pipeline alloc-pipeline :alloc-pass alloc-pass :dealloc-buffer dealloc-buffer :dealloc-image dealloc-image :dealloc-sampler dealloc-sampler :dealloc-shader dealloc-shader :dealloc-pipeline dealloc-pipeline :dealloc-pass dealloc-pass :init-buffer init-buffer :init-image init-image :init-sampler init-sampler :init-shader init-shader :init-pipeline init-pipeline :init-pass init-pass :uninit-buffer uninit-buffer :uninit-image uninit-image :uninit-sampler uninit-sampler :uninit-shader uninit-shader :uninit-pipeline uninit-pipeline :uninit-pass uninit-pass :fail-buffer fail-buffer :fail-image fail-image :fail-sampler fail-sampler :fail-shader fail-shader :fail-pipeline fail-pipeline :fail-pass fail-pass :push-debug-group push-debug-group :pop-debug-group pop-debug-group)))
(defmethod expand-from-foreign (ptr (type sg-trace-hooks-type))
  `(with-foreign-slots ((user-data reset-state-cache make-buffer make-image make-sampler make-shader make-pipeline make-pass destroy-buffer destroy-image destroy-sampler destroy-shader destroy-pipeline destroy-pass update-buffer update-image append-buffer begin-default-pass begin-pass apply-viewport apply-scissor-rect apply-pipeline apply-bindings apply-uniforms draw end-pass commit alloc-buffer alloc-image alloc-sampler alloc-shader alloc-pipeline alloc-pass dealloc-buffer dealloc-image dealloc-sampler dealloc-shader dealloc-pipeline dealloc-pass init-buffer init-image init-sampler init-shader init-pipeline init-pass uninit-buffer uninit-image uninit-sampler uninit-shader uninit-pipeline uninit-pass fail-buffer fail-image fail-sampler fail-shader fail-pipeline fail-pass push-debug-group pop-debug-group) ,ptr (:struct %sg-trace-hooks))
    (make-sg-trace-hooks :user-data user-data :reset-state-cache reset-state-cache :make-buffer make-buffer :make-image make-image :make-sampler make-sampler :make-shader make-shader :make-pipeline make-pipeline :make-pass make-pass :destroy-buffer destroy-buffer :destroy-image destroy-image :destroy-sampler destroy-sampler :destroy-shader destroy-shader :destroy-pipeline destroy-pipeline :destroy-pass destroy-pass :update-buffer update-buffer :update-image update-image :append-buffer append-buffer :begin-default-pass begin-default-pass :begin-pass begin-pass :apply-viewport apply-viewport :apply-scissor-rect apply-scissor-rect :apply-pipeline apply-pipeline :apply-bindings apply-bindings :apply-uniforms apply-uniforms :draw draw :end-pass end-pass :commit commit :alloc-buffer alloc-buffer :alloc-image alloc-image :alloc-sampler alloc-sampler :alloc-shader alloc-shader :alloc-pipeline alloc-pipeline :alloc-pass alloc-pass :dealloc-buffer dealloc-buffer :dealloc-image dealloc-image :dealloc-sampler dealloc-sampler :dealloc-shader dealloc-shader :dealloc-pipeline dealloc-pipeline :dealloc-pass dealloc-pass :init-buffer init-buffer :init-image init-image :init-sampler init-sampler :init-shader init-shader :init-pipeline init-pipeline :init-pass init-pass :uninit-buffer uninit-buffer :uninit-image uninit-image :uninit-sampler uninit-sampler :uninit-shader uninit-shader :uninit-pipeline uninit-pipeline :uninit-pass uninit-pass :fail-buffer fail-buffer :fail-image fail-image :fail-sampler fail-sampler :fail-shader fail-shader :fail-pipeline fail-pipeline :fail-pass fail-pass :push-debug-group push-debug-group :pop-debug-group pop-debug-group)))
(defmethod translate-into-foreign-memory (value (type sg-trace-hooks-type) ptr)
  (with-foreign-slots ((user-data reset-state-cache make-buffer make-image make-sampler make-shader make-pipeline make-pass destroy-buffer destroy-image destroy-sampler destroy-shader destroy-pipeline destroy-pass update-buffer update-image append-buffer begin-default-pass begin-pass apply-viewport apply-scissor-rect apply-pipeline apply-bindings apply-uniforms draw end-pass commit alloc-buffer alloc-image alloc-sampler alloc-shader alloc-pipeline alloc-pass dealloc-buffer dealloc-image dealloc-sampler dealloc-shader dealloc-pipeline dealloc-pass init-buffer init-image init-sampler init-shader init-pipeline init-pass uninit-buffer uninit-image uninit-sampler uninit-shader uninit-pipeline uninit-pass fail-buffer fail-image fail-sampler fail-shader fail-pipeline fail-pass push-debug-group pop-debug-group) ptr (:struct %sg-trace-hooks))
    (setf 
      user-data (sg-trace-hooks-user-data value)
      reset-state-cache (sg-trace-hooks-reset-state-cache value)
      make-buffer (sg-trace-hooks-make-buffer value)
      make-image (sg-trace-hooks-make-image value)
      make-sampler (sg-trace-hooks-make-sampler value)
      make-shader (sg-trace-hooks-make-shader value)
      make-pipeline (sg-trace-hooks-make-pipeline value)
      make-pass (sg-trace-hooks-make-pass value)
      destroy-buffer (sg-trace-hooks-destroy-buffer value)
      destroy-image (sg-trace-hooks-destroy-image value)
      destroy-sampler (sg-trace-hooks-destroy-sampler value)
      destroy-shader (sg-trace-hooks-destroy-shader value)
      destroy-pipeline (sg-trace-hooks-destroy-pipeline value)
      destroy-pass (sg-trace-hooks-destroy-pass value)
      update-buffer (sg-trace-hooks-update-buffer value)
      update-image (sg-trace-hooks-update-image value)
      append-buffer (sg-trace-hooks-append-buffer value)
      begin-default-pass (sg-trace-hooks-begin-default-pass value)
      begin-pass (sg-trace-hooks-begin-pass value)
      apply-viewport (sg-trace-hooks-apply-viewport value)
      apply-scissor-rect (sg-trace-hooks-apply-scissor-rect value)
      apply-pipeline (sg-trace-hooks-apply-pipeline value)
      apply-bindings (sg-trace-hooks-apply-bindings value)
      apply-uniforms (sg-trace-hooks-apply-uniforms value)
      draw (sg-trace-hooks-draw value)
      end-pass (sg-trace-hooks-end-pass value)
      commit (sg-trace-hooks-commit value)
      alloc-buffer (sg-trace-hooks-alloc-buffer value)
      alloc-image (sg-trace-hooks-alloc-image value)
      alloc-sampler (sg-trace-hooks-alloc-sampler value)
      alloc-shader (sg-trace-hooks-alloc-shader value)
      alloc-pipeline (sg-trace-hooks-alloc-pipeline value)
      alloc-pass (sg-trace-hooks-alloc-pass value)
      dealloc-buffer (sg-trace-hooks-dealloc-buffer value)
      dealloc-image (sg-trace-hooks-dealloc-image value)
      dealloc-sampler (sg-trace-hooks-dealloc-sampler value)
      dealloc-shader (sg-trace-hooks-dealloc-shader value)
      dealloc-pipeline (sg-trace-hooks-dealloc-pipeline value)
      dealloc-pass (sg-trace-hooks-dealloc-pass value)
      init-buffer (sg-trace-hooks-init-buffer value)
      init-image (sg-trace-hooks-init-image value)
      init-sampler (sg-trace-hooks-init-sampler value)
      init-shader (sg-trace-hooks-init-shader value)
      init-pipeline (sg-trace-hooks-init-pipeline value)
      init-pass (sg-trace-hooks-init-pass value)
      uninit-buffer (sg-trace-hooks-uninit-buffer value)
      uninit-image (sg-trace-hooks-uninit-image value)
      uninit-sampler (sg-trace-hooks-uninit-sampler value)
      uninit-shader (sg-trace-hooks-uninit-shader value)
      uninit-pipeline (sg-trace-hooks-uninit-pipeline value)
      uninit-pass (sg-trace-hooks-uninit-pass value)
      fail-buffer (sg-trace-hooks-fail-buffer value)
      fail-image (sg-trace-hooks-fail-image value)
      fail-sampler (sg-trace-hooks-fail-sampler value)
      fail-shader (sg-trace-hooks-fail-shader value)
      fail-pipeline (sg-trace-hooks-fail-pipeline value)
      fail-pass (sg-trace-hooks-fail-pass value)
      push-debug-group (sg-trace-hooks-push-debug-group value)
      pop-debug-group (sg-trace-hooks-pop-debug-group value))))

(defcstruct (%sg-slot-info :class sg-slot-info-type)
  (state sg-resource-state)
  (res-id :unsigned-int)
  (ctx-id :unsigned-int))

(defstruct sg-slot-info
  (state nil)
  (res-id 0)
  (ctx-id 0))

(defmethod translate-from-foreign (ptr (type sg-slot-info-type))
  (with-foreign-slots ((state res-id ctx-id) ptr (:struct %sg-slot-info))
    (make-sg-slot-info :state state :res-id res-id :ctx-id ctx-id)))
(defmethod expand-from-foreign (ptr (type sg-slot-info-type))
  `(with-foreign-slots ((state res-id ctx-id) ,ptr (:struct %sg-slot-info))
    (make-sg-slot-info :state state :res-id res-id :ctx-id ctx-id)))
(defmethod translate-into-foreign-memory (value (type sg-slot-info-type) ptr)
  (with-foreign-slots ((state res-id ctx-id) ptr (:struct %sg-slot-info))
    (setf 
      state (sg-slot-info-state value)
      res-id (sg-slot-info-res-id value)
      ctx-id (sg-slot-info-ctx-id value))))

(defcstruct (%sg-buffer-info :class sg-buffer-info-type)
  (slot (:struct %sg-slot-info))
  (update-frame-index :unsigned-int)
  (append-frame-index :unsigned-int)
  (append-pos :int)
  (append-overflow :int)
  (num-slots :int)
  (active-slot :int))

(defstruct sg-buffer-info
  (slot nil)
  (update-frame-index 0)
  (append-frame-index 0)
  (append-pos 0)
  (append-overflow nil)
  (num-slots 0)
  (active-slot 0))

(defmethod translate-from-foreign (ptr (type sg-buffer-info-type))
  (with-foreign-slots ((slot update-frame-index append-frame-index append-pos append-overflow num-slots active-slot) ptr (:struct %sg-buffer-info))
    (make-sg-buffer-info :slot slot :update-frame-index update-frame-index :append-frame-index append-frame-index :append-pos append-pos :append-overflow append-overflow :num-slots num-slots :active-slot active-slot)))
(defmethod expand-from-foreign (ptr (type sg-buffer-info-type))
  `(with-foreign-slots ((slot update-frame-index append-frame-index append-pos append-overflow num-slots active-slot) ,ptr (:struct %sg-buffer-info))
    (make-sg-buffer-info :slot slot :update-frame-index update-frame-index :append-frame-index append-frame-index :append-pos append-pos :append-overflow append-overflow :num-slots num-slots :active-slot active-slot)))
(defmethod translate-into-foreign-memory (value (type sg-buffer-info-type) ptr)
  (with-foreign-slots ((slot update-frame-index append-frame-index append-pos append-overflow num-slots active-slot) ptr (:struct %sg-buffer-info))
    (setf 
      slot (sg-buffer-info-slot value)
      update-frame-index (sg-buffer-info-update-frame-index value)
      append-frame-index (sg-buffer-info-append-frame-index value)
      append-pos (sg-buffer-info-append-pos value)
      append-overflow (sg-buffer-info-append-overflow value)
      num-slots (sg-buffer-info-num-slots value)
      active-slot (sg-buffer-info-active-slot value))))

(defcstruct (%sg-image-info :class sg-image-info-type)
  (slot (:struct %sg-slot-info))
  (upd-frame-index :unsigned-int)
  (num-slots :int)
  (active-slot :int))

(defstruct sg-image-info
  (slot nil)
  (upd-frame-index 0)
  (num-slots 0)
  (active-slot 0))

(defmethod translate-from-foreign (ptr (type sg-image-info-type))
  (with-foreign-slots ((slot upd-frame-index num-slots active-slot) ptr (:struct %sg-image-info))
    (make-sg-image-info :slot slot :upd-frame-index upd-frame-index :num-slots num-slots :active-slot active-slot)))
(defmethod expand-from-foreign (ptr (type sg-image-info-type))
  `(with-foreign-slots ((slot upd-frame-index num-slots active-slot) ,ptr (:struct %sg-image-info))
    (make-sg-image-info :slot slot :upd-frame-index upd-frame-index :num-slots num-slots :active-slot active-slot)))
(defmethod translate-into-foreign-memory (value (type sg-image-info-type) ptr)
  (with-foreign-slots ((slot upd-frame-index num-slots active-slot) ptr (:struct %sg-image-info))
    (setf 
      slot (sg-image-info-slot value)
      upd-frame-index (sg-image-info-upd-frame-index value)
      num-slots (sg-image-info-num-slots value)
      active-slot (sg-image-info-active-slot value))))

(defcstruct (%sg-sampler-info :class sg-sampler-info-type)
  (slot (:struct %sg-slot-info)))

(defstruct sg-sampler-info
  (slot nil))

(defmethod translate-from-foreign (ptr (type sg-sampler-info-type))
  (with-foreign-slots ((slot) ptr (:struct %sg-sampler-info))
    (make-sg-sampler-info :slot slot)))
(defmethod expand-from-foreign (ptr (type sg-sampler-info-type))
  `(with-foreign-slots ((slot) ,ptr (:struct %sg-sampler-info))
    (make-sg-sampler-info :slot slot)))
(defmethod translate-into-foreign-memory (value (type sg-sampler-info-type) ptr)
  (with-foreign-slots ((slot) ptr (:struct %sg-sampler-info))
    (setf 
      slot (sg-sampler-info-slot value))))

(defcstruct (%sg-shader-info :class sg-shader-info-type)
  (slot (:struct %sg-slot-info)))

(defstruct sg-shader-info
  (slot nil))

(defmethod translate-from-foreign (ptr (type sg-shader-info-type))
  (with-foreign-slots ((slot) ptr (:struct %sg-shader-info))
    (make-sg-shader-info :slot slot)))
(defmethod expand-from-foreign (ptr (type sg-shader-info-type))
  `(with-foreign-slots ((slot) ,ptr (:struct %sg-shader-info))
    (make-sg-shader-info :slot slot)))
(defmethod translate-into-foreign-memory (value (type sg-shader-info-type) ptr)
  (with-foreign-slots ((slot) ptr (:struct %sg-shader-info))
    (setf 
      slot (sg-shader-info-slot value))))

(defcstruct (%sg-pipeline-info :class sg-pipeline-info-type)
  (slot (:struct %sg-slot-info)))

(defstruct sg-pipeline-info
  (slot nil))

(defmethod translate-from-foreign (ptr (type sg-pipeline-info-type))
  (with-foreign-slots ((slot) ptr (:struct %sg-pipeline-info))
    (make-sg-pipeline-info :slot slot)))
(defmethod expand-from-foreign (ptr (type sg-pipeline-info-type))
  `(with-foreign-slots ((slot) ,ptr (:struct %sg-pipeline-info))
    (make-sg-pipeline-info :slot slot)))
(defmethod translate-into-foreign-memory (value (type sg-pipeline-info-type) ptr)
  (with-foreign-slots ((slot) ptr (:struct %sg-pipeline-info))
    (setf 
      slot (sg-pipeline-info-slot value))))

(defcstruct (%sg-pass-info :class sg-pass-info-type)
  (slot (:struct %sg-slot-info)))

(defstruct sg-pass-info
  (slot nil))

(defmethod translate-from-foreign (ptr (type sg-pass-info-type))
  (with-foreign-slots ((slot) ptr (:struct %sg-pass-info))
    (make-sg-pass-info :slot slot)))
(defmethod expand-from-foreign (ptr (type sg-pass-info-type))
  `(with-foreign-slots ((slot) ,ptr (:struct %sg-pass-info))
    (make-sg-pass-info :slot slot)))
(defmethod translate-into-foreign-memory (value (type sg-pass-info-type) ptr)
  (with-foreign-slots ((slot) ptr (:struct %sg-pass-info))
    (setf 
      slot (sg-pass-info-slot value))))

(defcstruct (%sg-frame-stats-gl :class sg-frame-stats-gl-type)
  (num-bind-buffer :unsigned-int)
  (num-active-texture :unsigned-int)
  (num-bind-texture :unsigned-int)
  (num-bind-sampler :unsigned-int)
  (num-use-program :unsigned-int)
  (num-render-state :unsigned-int)
  (num-vertex-attrib-pointer :unsigned-int)
  (num-vertex-attrib-divisor :unsigned-int)
  (num-enable-vertex-attrib-array :unsigned-int)
  (num-disable-vertex-attrib-array :unsigned-int)
  (num-uniform :unsigned-int))

(defstruct sg-frame-stats-gl
  (num-bind-buffer 0)
  (num-active-texture 0)
  (num-bind-texture 0)
  (num-bind-sampler 0)
  (num-use-program 0)
  (num-render-state 0)
  (num-vertex-attrib-pointer 0)
  (num-vertex-attrib-divisor 0)
  (num-enable-vertex-attrib-array 0)
  (num-disable-vertex-attrib-array 0)
  (num-uniform 0))

(defmethod translate-from-foreign (ptr (type sg-frame-stats-gl-type))
  (with-foreign-slots ((num-bind-buffer num-active-texture num-bind-texture num-bind-sampler num-use-program num-render-state num-vertex-attrib-pointer num-vertex-attrib-divisor num-enable-vertex-attrib-array num-disable-vertex-attrib-array num-uniform) ptr (:struct %sg-frame-stats-gl))
    (make-sg-frame-stats-gl :num-bind-buffer num-bind-buffer :num-active-texture num-active-texture :num-bind-texture num-bind-texture :num-bind-sampler num-bind-sampler :num-use-program num-use-program :num-render-state num-render-state :num-vertex-attrib-pointer num-vertex-attrib-pointer :num-vertex-attrib-divisor num-vertex-attrib-divisor :num-enable-vertex-attrib-array num-enable-vertex-attrib-array :num-disable-vertex-attrib-array num-disable-vertex-attrib-array :num-uniform num-uniform)))
(defmethod expand-from-foreign (ptr (type sg-frame-stats-gl-type))
  `(with-foreign-slots ((num-bind-buffer num-active-texture num-bind-texture num-bind-sampler num-use-program num-render-state num-vertex-attrib-pointer num-vertex-attrib-divisor num-enable-vertex-attrib-array num-disable-vertex-attrib-array num-uniform) ,ptr (:struct %sg-frame-stats-gl))
    (make-sg-frame-stats-gl :num-bind-buffer num-bind-buffer :num-active-texture num-active-texture :num-bind-texture num-bind-texture :num-bind-sampler num-bind-sampler :num-use-program num-use-program :num-render-state num-render-state :num-vertex-attrib-pointer num-vertex-attrib-pointer :num-vertex-attrib-divisor num-vertex-attrib-divisor :num-enable-vertex-attrib-array num-enable-vertex-attrib-array :num-disable-vertex-attrib-array num-disable-vertex-attrib-array :num-uniform num-uniform)))
(defmethod translate-into-foreign-memory (value (type sg-frame-stats-gl-type) ptr)
  (with-foreign-slots ((num-bind-buffer num-active-texture num-bind-texture num-bind-sampler num-use-program num-render-state num-vertex-attrib-pointer num-vertex-attrib-divisor num-enable-vertex-attrib-array num-disable-vertex-attrib-array num-uniform) ptr (:struct %sg-frame-stats-gl))
    (setf 
      num-bind-buffer (sg-frame-stats-gl-num-bind-buffer value)
      num-active-texture (sg-frame-stats-gl-num-active-texture value)
      num-bind-texture (sg-frame-stats-gl-num-bind-texture value)
      num-bind-sampler (sg-frame-stats-gl-num-bind-sampler value)
      num-use-program (sg-frame-stats-gl-num-use-program value)
      num-render-state (sg-frame-stats-gl-num-render-state value)
      num-vertex-attrib-pointer (sg-frame-stats-gl-num-vertex-attrib-pointer value)
      num-vertex-attrib-divisor (sg-frame-stats-gl-num-vertex-attrib-divisor value)
      num-enable-vertex-attrib-array (sg-frame-stats-gl-num-enable-vertex-attrib-array value)
      num-disable-vertex-attrib-array (sg-frame-stats-gl-num-disable-vertex-attrib-array value)
      num-uniform (sg-frame-stats-gl-num-uniform value))))

(defcstruct (%sg-frame-stats-d3d11-pass :class sg-frame-stats-d3d11-pass-type)
  (num-om-set-render-targets :unsigned-int)
  (num-clear-render-target-view :unsigned-int)
  (num-clear-depth-stencil-view :unsigned-int)
  (num-resolve-subresource :unsigned-int))

(defstruct sg-frame-stats-d3d11-pass
  (num-om-set-render-targets 0)
  (num-clear-render-target-view 0)
  (num-clear-depth-stencil-view 0)
  (num-resolve-subresource 0))

(defmethod translate-from-foreign (ptr (type sg-frame-stats-d3d11-pass-type))
  (with-foreign-slots ((num-om-set-render-targets num-clear-render-target-view num-clear-depth-stencil-view num-resolve-subresource) ptr (:struct %sg-frame-stats-d3d11-pass))
    (make-sg-frame-stats-d3d11-pass :num-om-set-render-targets num-om-set-render-targets :num-clear-render-target-view num-clear-render-target-view :num-clear-depth-stencil-view num-clear-depth-stencil-view :num-resolve-subresource num-resolve-subresource)))
(defmethod expand-from-foreign (ptr (type sg-frame-stats-d3d11-pass-type))
  `(with-foreign-slots ((num-om-set-render-targets num-clear-render-target-view num-clear-depth-stencil-view num-resolve-subresource) ,ptr (:struct %sg-frame-stats-d3d11-pass))
    (make-sg-frame-stats-d3d11-pass :num-om-set-render-targets num-om-set-render-targets :num-clear-render-target-view num-clear-render-target-view :num-clear-depth-stencil-view num-clear-depth-stencil-view :num-resolve-subresource num-resolve-subresource)))
(defmethod translate-into-foreign-memory (value (type sg-frame-stats-d3d11-pass-type) ptr)
  (with-foreign-slots ((num-om-set-render-targets num-clear-render-target-view num-clear-depth-stencil-view num-resolve-subresource) ptr (:struct %sg-frame-stats-d3d11-pass))
    (setf 
      num-om-set-render-targets (sg-frame-stats-d3d11-pass-num-om-set-render-targets value)
      num-clear-render-target-view (sg-frame-stats-d3d11-pass-num-clear-render-target-view value)
      num-clear-depth-stencil-view (sg-frame-stats-d3d11-pass-num-clear-depth-stencil-view value)
      num-resolve-subresource (sg-frame-stats-d3d11-pass-num-resolve-subresource value))))

(defcstruct (%sg-frame-stats-d3d11-pipeline :class sg-frame-stats-d3d11-pipeline-type)
  (num-rs-set-state :unsigned-int)
  (num-om-set-depth-stencil-state :unsigned-int)
  (num-om-set-blend-state :unsigned-int)
  (num-ia-set-primitive-topology :unsigned-int)
  (num-ia-set-input-layout :unsigned-int)
  (num-vs-set-shader :unsigned-int)
  (num-vs-set-constant-buffers :unsigned-int)
  (num-ps-set-shader :unsigned-int)
  (num-ps-set-constant-buffers :unsigned-int))

(defstruct sg-frame-stats-d3d11-pipeline
  (num-rs-set-state 0)
  (num-om-set-depth-stencil-state 0)
  (num-om-set-blend-state 0)
  (num-ia-set-primitive-topology 0)
  (num-ia-set-input-layout 0)
  (num-vs-set-shader 0)
  (num-vs-set-constant-buffers 0)
  (num-ps-set-shader 0)
  (num-ps-set-constant-buffers 0))

(defmethod translate-from-foreign (ptr (type sg-frame-stats-d3d11-pipeline-type))
  (with-foreign-slots ((num-rs-set-state num-om-set-depth-stencil-state num-om-set-blend-state num-ia-set-primitive-topology num-ia-set-input-layout num-vs-set-shader num-vs-set-constant-buffers num-ps-set-shader num-ps-set-constant-buffers) ptr (:struct %sg-frame-stats-d3d11-pipeline))
    (make-sg-frame-stats-d3d11-pipeline :num-rs-set-state num-rs-set-state :num-om-set-depth-stencil-state num-om-set-depth-stencil-state :num-om-set-blend-state num-om-set-blend-state :num-ia-set-primitive-topology num-ia-set-primitive-topology :num-ia-set-input-layout num-ia-set-input-layout :num-vs-set-shader num-vs-set-shader :num-vs-set-constant-buffers num-vs-set-constant-buffers :num-ps-set-shader num-ps-set-shader :num-ps-set-constant-buffers num-ps-set-constant-buffers)))
(defmethod expand-from-foreign (ptr (type sg-frame-stats-d3d11-pipeline-type))
  `(with-foreign-slots ((num-rs-set-state num-om-set-depth-stencil-state num-om-set-blend-state num-ia-set-primitive-topology num-ia-set-input-layout num-vs-set-shader num-vs-set-constant-buffers num-ps-set-shader num-ps-set-constant-buffers) ,ptr (:struct %sg-frame-stats-d3d11-pipeline))
    (make-sg-frame-stats-d3d11-pipeline :num-rs-set-state num-rs-set-state :num-om-set-depth-stencil-state num-om-set-depth-stencil-state :num-om-set-blend-state num-om-set-blend-state :num-ia-set-primitive-topology num-ia-set-primitive-topology :num-ia-set-input-layout num-ia-set-input-layout :num-vs-set-shader num-vs-set-shader :num-vs-set-constant-buffers num-vs-set-constant-buffers :num-ps-set-shader num-ps-set-shader :num-ps-set-constant-buffers num-ps-set-constant-buffers)))
(defmethod translate-into-foreign-memory (value (type sg-frame-stats-d3d11-pipeline-type) ptr)
  (with-foreign-slots ((num-rs-set-state num-om-set-depth-stencil-state num-om-set-blend-state num-ia-set-primitive-topology num-ia-set-input-layout num-vs-set-shader num-vs-set-constant-buffers num-ps-set-shader num-ps-set-constant-buffers) ptr (:struct %sg-frame-stats-d3d11-pipeline))
    (setf 
      num-rs-set-state (sg-frame-stats-d3d11-pipeline-num-rs-set-state value)
      num-om-set-depth-stencil-state (sg-frame-stats-d3d11-pipeline-num-om-set-depth-stencil-state value)
      num-om-set-blend-state (sg-frame-stats-d3d11-pipeline-num-om-set-blend-state value)
      num-ia-set-primitive-topology (sg-frame-stats-d3d11-pipeline-num-ia-set-primitive-topology value)
      num-ia-set-input-layout (sg-frame-stats-d3d11-pipeline-num-ia-set-input-layout value)
      num-vs-set-shader (sg-frame-stats-d3d11-pipeline-num-vs-set-shader value)
      num-vs-set-constant-buffers (sg-frame-stats-d3d11-pipeline-num-vs-set-constant-buffers value)
      num-ps-set-shader (sg-frame-stats-d3d11-pipeline-num-ps-set-shader value)
      num-ps-set-constant-buffers (sg-frame-stats-d3d11-pipeline-num-ps-set-constant-buffers value))))

(defcstruct (%sg-frame-stats-d3d11-bindings :class sg-frame-stats-d3d11-bindings-type)
  (num-ia-set-vertex-buffers :unsigned-int)
  (num-ia-set-index-buffer :unsigned-int)
  (num-vs-set-shader-resources :unsigned-int)
  (num-ps-set-shader-resources :unsigned-int)
  (num-vs-set-samplers :unsigned-int)
  (num-ps-set-samplers :unsigned-int))

(defstruct sg-frame-stats-d3d11-bindings
  (num-ia-set-vertex-buffers 0)
  (num-ia-set-index-buffer 0)
  (num-vs-set-shader-resources 0)
  (num-ps-set-shader-resources 0)
  (num-vs-set-samplers 0)
  (num-ps-set-samplers 0))

(defmethod translate-from-foreign (ptr (type sg-frame-stats-d3d11-bindings-type))
  (with-foreign-slots ((num-ia-set-vertex-buffers num-ia-set-index-buffer num-vs-set-shader-resources num-ps-set-shader-resources num-vs-set-samplers num-ps-set-samplers) ptr (:struct %sg-frame-stats-d3d11-bindings))
    (make-sg-frame-stats-d3d11-bindings :num-ia-set-vertex-buffers num-ia-set-vertex-buffers :num-ia-set-index-buffer num-ia-set-index-buffer :num-vs-set-shader-resources num-vs-set-shader-resources :num-ps-set-shader-resources num-ps-set-shader-resources :num-vs-set-samplers num-vs-set-samplers :num-ps-set-samplers num-ps-set-samplers)))
(defmethod expand-from-foreign (ptr (type sg-frame-stats-d3d11-bindings-type))
  `(with-foreign-slots ((num-ia-set-vertex-buffers num-ia-set-index-buffer num-vs-set-shader-resources num-ps-set-shader-resources num-vs-set-samplers num-ps-set-samplers) ,ptr (:struct %sg-frame-stats-d3d11-bindings))
    (make-sg-frame-stats-d3d11-bindings :num-ia-set-vertex-buffers num-ia-set-vertex-buffers :num-ia-set-index-buffer num-ia-set-index-buffer :num-vs-set-shader-resources num-vs-set-shader-resources :num-ps-set-shader-resources num-ps-set-shader-resources :num-vs-set-samplers num-vs-set-samplers :num-ps-set-samplers num-ps-set-samplers)))
(defmethod translate-into-foreign-memory (value (type sg-frame-stats-d3d11-bindings-type) ptr)
  (with-foreign-slots ((num-ia-set-vertex-buffers num-ia-set-index-buffer num-vs-set-shader-resources num-ps-set-shader-resources num-vs-set-samplers num-ps-set-samplers) ptr (:struct %sg-frame-stats-d3d11-bindings))
    (setf 
      num-ia-set-vertex-buffers (sg-frame-stats-d3d11-bindings-num-ia-set-vertex-buffers value)
      num-ia-set-index-buffer (sg-frame-stats-d3d11-bindings-num-ia-set-index-buffer value)
      num-vs-set-shader-resources (sg-frame-stats-d3d11-bindings-num-vs-set-shader-resources value)
      num-ps-set-shader-resources (sg-frame-stats-d3d11-bindings-num-ps-set-shader-resources value)
      num-vs-set-samplers (sg-frame-stats-d3d11-bindings-num-vs-set-samplers value)
      num-ps-set-samplers (sg-frame-stats-d3d11-bindings-num-ps-set-samplers value))))

(defcstruct (%sg-frame-stats-d3d11-uniforms :class sg-frame-stats-d3d11-uniforms-type)
  (num-update-subresource :unsigned-int))

(defstruct sg-frame-stats-d3d11-uniforms
  (num-update-subresource 0))

(defmethod translate-from-foreign (ptr (type sg-frame-stats-d3d11-uniforms-type))
  (with-foreign-slots ((num-update-subresource) ptr (:struct %sg-frame-stats-d3d11-uniforms))
    (make-sg-frame-stats-d3d11-uniforms :num-update-subresource num-update-subresource)))
(defmethod expand-from-foreign (ptr (type sg-frame-stats-d3d11-uniforms-type))
  `(with-foreign-slots ((num-update-subresource) ,ptr (:struct %sg-frame-stats-d3d11-uniforms))
    (make-sg-frame-stats-d3d11-uniforms :num-update-subresource num-update-subresource)))
(defmethod translate-into-foreign-memory (value (type sg-frame-stats-d3d11-uniforms-type) ptr)
  (with-foreign-slots ((num-update-subresource) ptr (:struct %sg-frame-stats-d3d11-uniforms))
    (setf 
      num-update-subresource (sg-frame-stats-d3d11-uniforms-num-update-subresource value))))

(defcstruct (%sg-frame-stats-d3d11-draw :class sg-frame-stats-d3d11-draw-type)
  (num-draw-indexed-instanced :unsigned-int)
  (num-draw-indexed :unsigned-int)
  (num-draw-instanced :unsigned-int)
  (num-draw :unsigned-int))

(defstruct sg-frame-stats-d3d11-draw
  (num-draw-indexed-instanced 0)
  (num-draw-indexed 0)
  (num-draw-instanced 0)
  (num-draw 0))

(defmethod translate-from-foreign (ptr (type sg-frame-stats-d3d11-draw-type))
  (with-foreign-slots ((num-draw-indexed-instanced num-draw-indexed num-draw-instanced num-draw) ptr (:struct %sg-frame-stats-d3d11-draw))
    (make-sg-frame-stats-d3d11-draw :num-draw-indexed-instanced num-draw-indexed-instanced :num-draw-indexed num-draw-indexed :num-draw-instanced num-draw-instanced :num-draw num-draw)))
(defmethod expand-from-foreign (ptr (type sg-frame-stats-d3d11-draw-type))
  `(with-foreign-slots ((num-draw-indexed-instanced num-draw-indexed num-draw-instanced num-draw) ,ptr (:struct %sg-frame-stats-d3d11-draw))
    (make-sg-frame-stats-d3d11-draw :num-draw-indexed-instanced num-draw-indexed-instanced :num-draw-indexed num-draw-indexed :num-draw-instanced num-draw-instanced :num-draw num-draw)))
(defmethod translate-into-foreign-memory (value (type sg-frame-stats-d3d11-draw-type) ptr)
  (with-foreign-slots ((num-draw-indexed-instanced num-draw-indexed num-draw-instanced num-draw) ptr (:struct %sg-frame-stats-d3d11-draw))
    (setf 
      num-draw-indexed-instanced (sg-frame-stats-d3d11-draw-num-draw-indexed-instanced value)
      num-draw-indexed (sg-frame-stats-d3d11-draw-num-draw-indexed value)
      num-draw-instanced (sg-frame-stats-d3d11-draw-num-draw-instanced value)
      num-draw (sg-frame-stats-d3d11-draw-num-draw value))))

(defcstruct (%sg-frame-stats-d3d11 :class sg-frame-stats-d3d11-type)
  (pass (:struct %sg-frame-stats-d3d11-pass))
  (pipeline (:struct %sg-frame-stats-d3d11-pipeline))
  (bindings (:struct %sg-frame-stats-d3d11-bindings))
  (uniforms (:struct %sg-frame-stats-d3d11-uniforms))
  (draw (:struct %sg-frame-stats-d3d11-draw))
  (num-map :unsigned-int)
  (num-unmap :unsigned-int))

(defstruct sg-frame-stats-d3d11
  (pass nil)
  (pipeline nil)
  (bindings nil)
  (uniforms nil)
  (draw nil)
  (num-map 0)
  (num-unmap 0))

(defmethod translate-from-foreign (ptr (type sg-frame-stats-d3d11-type))
  (with-foreign-slots ((pass pipeline bindings uniforms draw num-map num-unmap) ptr (:struct %sg-frame-stats-d3d11))
    (make-sg-frame-stats-d3d11 :pass pass :pipeline pipeline :bindings bindings :uniforms uniforms :draw draw :num-map num-map :num-unmap num-unmap)))
(defmethod expand-from-foreign (ptr (type sg-frame-stats-d3d11-type))
  `(with-foreign-slots ((pass pipeline bindings uniforms draw num-map num-unmap) ,ptr (:struct %sg-frame-stats-d3d11))
    (make-sg-frame-stats-d3d11 :pass pass :pipeline pipeline :bindings bindings :uniforms uniforms :draw draw :num-map num-map :num-unmap num-unmap)))
(defmethod translate-into-foreign-memory (value (type sg-frame-stats-d3d11-type) ptr)
  (with-foreign-slots ((pass pipeline bindings uniforms draw num-map num-unmap) ptr (:struct %sg-frame-stats-d3d11))
    (setf 
      pass (sg-frame-stats-d3d11-pass value)
      pipeline (sg-frame-stats-d3d11-pipeline value)
      bindings (sg-frame-stats-d3d11-bindings value)
      uniforms (sg-frame-stats-d3d11-uniforms value)
      draw (sg-frame-stats-d3d11-draw value)
      num-map (sg-frame-stats-d3d11-num-map value)
      num-unmap (sg-frame-stats-d3d11-num-unmap value))))

(defcstruct (%sg-frame-stats-metal-idpool :class sg-frame-stats-metal-idpool-type)
  (num-added :unsigned-int)
  (num-released :unsigned-int)
  (num-garbage-collected :unsigned-int))

(defstruct sg-frame-stats-metal-idpool
  (num-added 0)
  (num-released 0)
  (num-garbage-collected 0))

(defmethod translate-from-foreign (ptr (type sg-frame-stats-metal-idpool-type))
  (with-foreign-slots ((num-added num-released num-garbage-collected) ptr (:struct %sg-frame-stats-metal-idpool))
    (make-sg-frame-stats-metal-idpool :num-added num-added :num-released num-released :num-garbage-collected num-garbage-collected)))
(defmethod expand-from-foreign (ptr (type sg-frame-stats-metal-idpool-type))
  `(with-foreign-slots ((num-added num-released num-garbage-collected) ,ptr (:struct %sg-frame-stats-metal-idpool))
    (make-sg-frame-stats-metal-idpool :num-added num-added :num-released num-released :num-garbage-collected num-garbage-collected)))
(defmethod translate-into-foreign-memory (value (type sg-frame-stats-metal-idpool-type) ptr)
  (with-foreign-slots ((num-added num-released num-garbage-collected) ptr (:struct %sg-frame-stats-metal-idpool))
    (setf 
      num-added (sg-frame-stats-metal-idpool-num-added value)
      num-released (sg-frame-stats-metal-idpool-num-released value)
      num-garbage-collected (sg-frame-stats-metal-idpool-num-garbage-collected value))))

(defcstruct (%sg-frame-stats-metal-pipeline :class sg-frame-stats-metal-pipeline-type)
  (num-set-blend-color :unsigned-int)
  (num-set-cull-mode :unsigned-int)
  (num-set-front-facing-winding :unsigned-int)
  (num-set-stencil-reference-value :unsigned-int)
  (num-set-depth-bias :unsigned-int)
  (num-set-render-pipeline-state :unsigned-int)
  (num-set-depth-stencil-state :unsigned-int))

(defstruct sg-frame-stats-metal-pipeline
  (num-set-blend-color 0)
  (num-set-cull-mode 0)
  (num-set-front-facing-winding 0)
  (num-set-stencil-reference-value 0)
  (num-set-depth-bias 0)
  (num-set-render-pipeline-state 0)
  (num-set-depth-stencil-state 0))

(defmethod translate-from-foreign (ptr (type sg-frame-stats-metal-pipeline-type))
  (with-foreign-slots ((num-set-blend-color num-set-cull-mode num-set-front-facing-winding num-set-stencil-reference-value num-set-depth-bias num-set-render-pipeline-state num-set-depth-stencil-state) ptr (:struct %sg-frame-stats-metal-pipeline))
    (make-sg-frame-stats-metal-pipeline :num-set-blend-color num-set-blend-color :num-set-cull-mode num-set-cull-mode :num-set-front-facing-winding num-set-front-facing-winding :num-set-stencil-reference-value num-set-stencil-reference-value :num-set-depth-bias num-set-depth-bias :num-set-render-pipeline-state num-set-render-pipeline-state :num-set-depth-stencil-state num-set-depth-stencil-state)))
(defmethod expand-from-foreign (ptr (type sg-frame-stats-metal-pipeline-type))
  `(with-foreign-slots ((num-set-blend-color num-set-cull-mode num-set-front-facing-winding num-set-stencil-reference-value num-set-depth-bias num-set-render-pipeline-state num-set-depth-stencil-state) ,ptr (:struct %sg-frame-stats-metal-pipeline))
    (make-sg-frame-stats-metal-pipeline :num-set-blend-color num-set-blend-color :num-set-cull-mode num-set-cull-mode :num-set-front-facing-winding num-set-front-facing-winding :num-set-stencil-reference-value num-set-stencil-reference-value :num-set-depth-bias num-set-depth-bias :num-set-render-pipeline-state num-set-render-pipeline-state :num-set-depth-stencil-state num-set-depth-stencil-state)))
(defmethod translate-into-foreign-memory (value (type sg-frame-stats-metal-pipeline-type) ptr)
  (with-foreign-slots ((num-set-blend-color num-set-cull-mode num-set-front-facing-winding num-set-stencil-reference-value num-set-depth-bias num-set-render-pipeline-state num-set-depth-stencil-state) ptr (:struct %sg-frame-stats-metal-pipeline))
    (setf 
      num-set-blend-color (sg-frame-stats-metal-pipeline-num-set-blend-color value)
      num-set-cull-mode (sg-frame-stats-metal-pipeline-num-set-cull-mode value)
      num-set-front-facing-winding (sg-frame-stats-metal-pipeline-num-set-front-facing-winding value)
      num-set-stencil-reference-value (sg-frame-stats-metal-pipeline-num-set-stencil-reference-value value)
      num-set-depth-bias (sg-frame-stats-metal-pipeline-num-set-depth-bias value)
      num-set-render-pipeline-state (sg-frame-stats-metal-pipeline-num-set-render-pipeline-state value)
      num-set-depth-stencil-state (sg-frame-stats-metal-pipeline-num-set-depth-stencil-state value))))

(defcstruct (%sg-frame-stats-metal-bindings :class sg-frame-stats-metal-bindings-type)
  (num-set-vertex-buffer :unsigned-int)
  (num-set-vertex-texture :unsigned-int)
  (num-set-vertex-sampler-state :unsigned-int)
  (num-set-fragment-texture :unsigned-int)
  (num-set-fragment-sampler-state :unsigned-int))

(defstruct sg-frame-stats-metal-bindings
  (num-set-vertex-buffer 0)
  (num-set-vertex-texture 0)
  (num-set-vertex-sampler-state 0)
  (num-set-fragment-texture 0)
  (num-set-fragment-sampler-state 0))

(defmethod translate-from-foreign (ptr (type sg-frame-stats-metal-bindings-type))
  (with-foreign-slots ((num-set-vertex-buffer num-set-vertex-texture num-set-vertex-sampler-state num-set-fragment-texture num-set-fragment-sampler-state) ptr (:struct %sg-frame-stats-metal-bindings))
    (make-sg-frame-stats-metal-bindings :num-set-vertex-buffer num-set-vertex-buffer :num-set-vertex-texture num-set-vertex-texture :num-set-vertex-sampler-state num-set-vertex-sampler-state :num-set-fragment-texture num-set-fragment-texture :num-set-fragment-sampler-state num-set-fragment-sampler-state)))
(defmethod expand-from-foreign (ptr (type sg-frame-stats-metal-bindings-type))
  `(with-foreign-slots ((num-set-vertex-buffer num-set-vertex-texture num-set-vertex-sampler-state num-set-fragment-texture num-set-fragment-sampler-state) ,ptr (:struct %sg-frame-stats-metal-bindings))
    (make-sg-frame-stats-metal-bindings :num-set-vertex-buffer num-set-vertex-buffer :num-set-vertex-texture num-set-vertex-texture :num-set-vertex-sampler-state num-set-vertex-sampler-state :num-set-fragment-texture num-set-fragment-texture :num-set-fragment-sampler-state num-set-fragment-sampler-state)))
(defmethod translate-into-foreign-memory (value (type sg-frame-stats-metal-bindings-type) ptr)
  (with-foreign-slots ((num-set-vertex-buffer num-set-vertex-texture num-set-vertex-sampler-state num-set-fragment-texture num-set-fragment-sampler-state) ptr (:struct %sg-frame-stats-metal-bindings))
    (setf 
      num-set-vertex-buffer (sg-frame-stats-metal-bindings-num-set-vertex-buffer value)
      num-set-vertex-texture (sg-frame-stats-metal-bindings-num-set-vertex-texture value)
      num-set-vertex-sampler-state (sg-frame-stats-metal-bindings-num-set-vertex-sampler-state value)
      num-set-fragment-texture (sg-frame-stats-metal-bindings-num-set-fragment-texture value)
      num-set-fragment-sampler-state (sg-frame-stats-metal-bindings-num-set-fragment-sampler-state value))))

(defcstruct (%sg-frame-stats-metal-uniforms :class sg-frame-stats-metal-uniforms-type)
  (num-set-vertex-buffer-offset :unsigned-int)
  (num-set-fragment-buffer-offset :unsigned-int))

(defstruct sg-frame-stats-metal-uniforms
  (num-set-vertex-buffer-offset 0)
  (num-set-fragment-buffer-offset 0))

(defmethod translate-from-foreign (ptr (type sg-frame-stats-metal-uniforms-type))
  (with-foreign-slots ((num-set-vertex-buffer-offset num-set-fragment-buffer-offset) ptr (:struct %sg-frame-stats-metal-uniforms))
    (make-sg-frame-stats-metal-uniforms :num-set-vertex-buffer-offset num-set-vertex-buffer-offset :num-set-fragment-buffer-offset num-set-fragment-buffer-offset)))
(defmethod expand-from-foreign (ptr (type sg-frame-stats-metal-uniforms-type))
  `(with-foreign-slots ((num-set-vertex-buffer-offset num-set-fragment-buffer-offset) ,ptr (:struct %sg-frame-stats-metal-uniforms))
    (make-sg-frame-stats-metal-uniforms :num-set-vertex-buffer-offset num-set-vertex-buffer-offset :num-set-fragment-buffer-offset num-set-fragment-buffer-offset)))
(defmethod translate-into-foreign-memory (value (type sg-frame-stats-metal-uniforms-type) ptr)
  (with-foreign-slots ((num-set-vertex-buffer-offset num-set-fragment-buffer-offset) ptr (:struct %sg-frame-stats-metal-uniforms))
    (setf 
      num-set-vertex-buffer-offset (sg-frame-stats-metal-uniforms-num-set-vertex-buffer-offset value)
      num-set-fragment-buffer-offset (sg-frame-stats-metal-uniforms-num-set-fragment-buffer-offset value))))

(defcstruct (%sg-frame-stats-metal :class sg-frame-stats-metal-type)
  (idpool (:struct %sg-frame-stats-metal-idpool))
  (pipeline (:struct %sg-frame-stats-metal-pipeline))
  (bindings (:struct %sg-frame-stats-metal-bindings))
  (uniforms (:struct %sg-frame-stats-metal-uniforms)))

(defstruct sg-frame-stats-metal
  (idpool nil)
  (pipeline nil)
  (bindings nil)
  (uniforms nil))

(defmethod translate-from-foreign (ptr (type sg-frame-stats-metal-type))
  (with-foreign-slots ((idpool pipeline bindings uniforms) ptr (:struct %sg-frame-stats-metal))
    (make-sg-frame-stats-metal :idpool idpool :pipeline pipeline :bindings bindings :uniforms uniforms)))
(defmethod expand-from-foreign (ptr (type sg-frame-stats-metal-type))
  `(with-foreign-slots ((idpool pipeline bindings uniforms) ,ptr (:struct %sg-frame-stats-metal))
    (make-sg-frame-stats-metal :idpool idpool :pipeline pipeline :bindings bindings :uniforms uniforms)))
(defmethod translate-into-foreign-memory (value (type sg-frame-stats-metal-type) ptr)
  (with-foreign-slots ((idpool pipeline bindings uniforms) ptr (:struct %sg-frame-stats-metal))
    (setf 
      idpool (sg-frame-stats-metal-idpool value)
      pipeline (sg-frame-stats-metal-pipeline value)
      bindings (sg-frame-stats-metal-bindings value)
      uniforms (sg-frame-stats-metal-uniforms value))))

(defcstruct (%sg-frame-stats-wgpu-uniforms :class sg-frame-stats-wgpu-uniforms-type)
  (num-set-bindgroup :unsigned-int)
  (size-write-buffer :unsigned-int))

(defstruct sg-frame-stats-wgpu-uniforms
  (num-set-bindgroup 0)
  (size-write-buffer 0))

(defmethod translate-from-foreign (ptr (type sg-frame-stats-wgpu-uniforms-type))
  (with-foreign-slots ((num-set-bindgroup size-write-buffer) ptr (:struct %sg-frame-stats-wgpu-uniforms))
    (make-sg-frame-stats-wgpu-uniforms :num-set-bindgroup num-set-bindgroup :size-write-buffer size-write-buffer)))
(defmethod expand-from-foreign (ptr (type sg-frame-stats-wgpu-uniforms-type))
  `(with-foreign-slots ((num-set-bindgroup size-write-buffer) ,ptr (:struct %sg-frame-stats-wgpu-uniforms))
    (make-sg-frame-stats-wgpu-uniforms :num-set-bindgroup num-set-bindgroup :size-write-buffer size-write-buffer)))
(defmethod translate-into-foreign-memory (value (type sg-frame-stats-wgpu-uniforms-type) ptr)
  (with-foreign-slots ((num-set-bindgroup size-write-buffer) ptr (:struct %sg-frame-stats-wgpu-uniforms))
    (setf 
      num-set-bindgroup (sg-frame-stats-wgpu-uniforms-num-set-bindgroup value)
      size-write-buffer (sg-frame-stats-wgpu-uniforms-size-write-buffer value))))

(defcstruct (%sg-frame-stats-wgpu-bindings :class sg-frame-stats-wgpu-bindings-type)
  (num-set-vertex-buffer :unsigned-int)
  (num-skip-redundant-vertex-buffer :unsigned-int)
  (num-set-index-buffer :unsigned-int)
  (num-skip-redundant-index-buffer :unsigned-int)
  (num-create-bindgroup :unsigned-int)
  (num-discard-bindgroup :unsigned-int)
  (num-set-bindgroup :unsigned-int)
  (num-skip-redundant-bindgroup :unsigned-int)
  (num-bindgroup-cache-hits :unsigned-int)
  (num-bindgroup-cache-misses :unsigned-int)
  (num-bindgroup-cache-collisions :unsigned-int)
  (num-bindgroup-cache-hash-vs-key-mismatch :unsigned-int))

(defstruct sg-frame-stats-wgpu-bindings
  (num-set-vertex-buffer 0)
  (num-skip-redundant-vertex-buffer 0)
  (num-set-index-buffer 0)
  (num-skip-redundant-index-buffer 0)
  (num-create-bindgroup 0)
  (num-discard-bindgroup 0)
  (num-set-bindgroup 0)
  (num-skip-redundant-bindgroup 0)
  (num-bindgroup-cache-hits 0)
  (num-bindgroup-cache-misses 0)
  (num-bindgroup-cache-collisions 0)
  (num-bindgroup-cache-hash-vs-key-mismatch 0))

(defmethod translate-from-foreign (ptr (type sg-frame-stats-wgpu-bindings-type))
  (with-foreign-slots ((num-set-vertex-buffer num-skip-redundant-vertex-buffer num-set-index-buffer num-skip-redundant-index-buffer num-create-bindgroup num-discard-bindgroup num-set-bindgroup num-skip-redundant-bindgroup num-bindgroup-cache-hits num-bindgroup-cache-misses num-bindgroup-cache-collisions num-bindgroup-cache-hash-vs-key-mismatch) ptr (:struct %sg-frame-stats-wgpu-bindings))
    (make-sg-frame-stats-wgpu-bindings :num-set-vertex-buffer num-set-vertex-buffer :num-skip-redundant-vertex-buffer num-skip-redundant-vertex-buffer :num-set-index-buffer num-set-index-buffer :num-skip-redundant-index-buffer num-skip-redundant-index-buffer :num-create-bindgroup num-create-bindgroup :num-discard-bindgroup num-discard-bindgroup :num-set-bindgroup num-set-bindgroup :num-skip-redundant-bindgroup num-skip-redundant-bindgroup :num-bindgroup-cache-hits num-bindgroup-cache-hits :num-bindgroup-cache-misses num-bindgroup-cache-misses :num-bindgroup-cache-collisions num-bindgroup-cache-collisions :num-bindgroup-cache-hash-vs-key-mismatch num-bindgroup-cache-hash-vs-key-mismatch)))
(defmethod expand-from-foreign (ptr (type sg-frame-stats-wgpu-bindings-type))
  `(with-foreign-slots ((num-set-vertex-buffer num-skip-redundant-vertex-buffer num-set-index-buffer num-skip-redundant-index-buffer num-create-bindgroup num-discard-bindgroup num-set-bindgroup num-skip-redundant-bindgroup num-bindgroup-cache-hits num-bindgroup-cache-misses num-bindgroup-cache-collisions num-bindgroup-cache-hash-vs-key-mismatch) ,ptr (:struct %sg-frame-stats-wgpu-bindings))
    (make-sg-frame-stats-wgpu-bindings :num-set-vertex-buffer num-set-vertex-buffer :num-skip-redundant-vertex-buffer num-skip-redundant-vertex-buffer :num-set-index-buffer num-set-index-buffer :num-skip-redundant-index-buffer num-skip-redundant-index-buffer :num-create-bindgroup num-create-bindgroup :num-discard-bindgroup num-discard-bindgroup :num-set-bindgroup num-set-bindgroup :num-skip-redundant-bindgroup num-skip-redundant-bindgroup :num-bindgroup-cache-hits num-bindgroup-cache-hits :num-bindgroup-cache-misses num-bindgroup-cache-misses :num-bindgroup-cache-collisions num-bindgroup-cache-collisions :num-bindgroup-cache-hash-vs-key-mismatch num-bindgroup-cache-hash-vs-key-mismatch)))
(defmethod translate-into-foreign-memory (value (type sg-frame-stats-wgpu-bindings-type) ptr)
  (with-foreign-slots ((num-set-vertex-buffer num-skip-redundant-vertex-buffer num-set-index-buffer num-skip-redundant-index-buffer num-create-bindgroup num-discard-bindgroup num-set-bindgroup num-skip-redundant-bindgroup num-bindgroup-cache-hits num-bindgroup-cache-misses num-bindgroup-cache-collisions num-bindgroup-cache-hash-vs-key-mismatch) ptr (:struct %sg-frame-stats-wgpu-bindings))
    (setf 
      num-set-vertex-buffer (sg-frame-stats-wgpu-bindings-num-set-vertex-buffer value)
      num-skip-redundant-vertex-buffer (sg-frame-stats-wgpu-bindings-num-skip-redundant-vertex-buffer value)
      num-set-index-buffer (sg-frame-stats-wgpu-bindings-num-set-index-buffer value)
      num-skip-redundant-index-buffer (sg-frame-stats-wgpu-bindings-num-skip-redundant-index-buffer value)
      num-create-bindgroup (sg-frame-stats-wgpu-bindings-num-create-bindgroup value)
      num-discard-bindgroup (sg-frame-stats-wgpu-bindings-num-discard-bindgroup value)
      num-set-bindgroup (sg-frame-stats-wgpu-bindings-num-set-bindgroup value)
      num-skip-redundant-bindgroup (sg-frame-stats-wgpu-bindings-num-skip-redundant-bindgroup value)
      num-bindgroup-cache-hits (sg-frame-stats-wgpu-bindings-num-bindgroup-cache-hits value)
      num-bindgroup-cache-misses (sg-frame-stats-wgpu-bindings-num-bindgroup-cache-misses value)
      num-bindgroup-cache-collisions (sg-frame-stats-wgpu-bindings-num-bindgroup-cache-collisions value)
      num-bindgroup-cache-hash-vs-key-mismatch (sg-frame-stats-wgpu-bindings-num-bindgroup-cache-hash-vs-key-mismatch value))))

(defcstruct (%sg-frame-stats-wgpu :class sg-frame-stats-wgpu-type)
  (uniforms (:struct %sg-frame-stats-wgpu-uniforms))
  (bindings (:struct %sg-frame-stats-wgpu-bindings)))

(defstruct sg-frame-stats-wgpu
  (uniforms nil)
  (bindings nil))

(defmethod translate-from-foreign (ptr (type sg-frame-stats-wgpu-type))
  (with-foreign-slots ((uniforms bindings) ptr (:struct %sg-frame-stats-wgpu))
    (make-sg-frame-stats-wgpu :uniforms uniforms :bindings bindings)))
(defmethod expand-from-foreign (ptr (type sg-frame-stats-wgpu-type))
  `(with-foreign-slots ((uniforms bindings) ,ptr (:struct %sg-frame-stats-wgpu))
    (make-sg-frame-stats-wgpu :uniforms uniforms :bindings bindings)))
(defmethod translate-into-foreign-memory (value (type sg-frame-stats-wgpu-type) ptr)
  (with-foreign-slots ((uniforms bindings) ptr (:struct %sg-frame-stats-wgpu))
    (setf 
      uniforms (sg-frame-stats-wgpu-uniforms value)
      bindings (sg-frame-stats-wgpu-bindings value))))

(defcstruct (%sg-frame-stats :class sg-frame-stats-type)
  (frame-index :unsigned-int)
  (num-passes :unsigned-int)
  (num-apply-viewport :unsigned-int)
  (num-apply-scissor-rect :unsigned-int)
  (num-apply-pipeline :unsigned-int)
  (num-apply-bindings :unsigned-int)
  (num-apply-uniforms :unsigned-int)
  (num-draw :unsigned-int)
  (num-update-buffer :unsigned-int)
  (num-append-buffer :unsigned-int)
  (num-update-image :unsigned-int)
  (size-apply-uniforms :unsigned-int)
  (size-update-buffer :unsigned-int)
  (size-append-buffer :unsigned-int)
  (size-update-image :unsigned-int)
  (gl (:struct %sg-frame-stats-gl))
  (d3d11 (:struct %sg-frame-stats-d3d11))
  (metal (:struct %sg-frame-stats-metal))
  (wgpu (:struct %sg-frame-stats-wgpu)))

(defstruct sg-frame-stats
  (frame-index 0)
  (num-passes 0)
  (num-apply-viewport 0)
  (num-apply-scissor-rect 0)
  (num-apply-pipeline 0)
  (num-apply-bindings 0)
  (num-apply-uniforms 0)
  (num-draw 0)
  (num-update-buffer 0)
  (num-append-buffer 0)
  (num-update-image 0)
  (size-apply-uniforms 0)
  (size-update-buffer 0)
  (size-append-buffer 0)
  (size-update-image 0)
  (gl nil)
  (d3d11 nil)
  (metal nil)
  (wgpu nil))

(defmethod translate-from-foreign (ptr (type sg-frame-stats-type))
  (with-foreign-slots ((frame-index num-passes num-apply-viewport num-apply-scissor-rect num-apply-pipeline num-apply-bindings num-apply-uniforms num-draw num-update-buffer num-append-buffer num-update-image size-apply-uniforms size-update-buffer size-append-buffer size-update-image gl d3d11 metal wgpu) ptr (:struct %sg-frame-stats))
    (make-sg-frame-stats :frame-index frame-index :num-passes num-passes :num-apply-viewport num-apply-viewport :num-apply-scissor-rect num-apply-scissor-rect :num-apply-pipeline num-apply-pipeline :num-apply-bindings num-apply-bindings :num-apply-uniforms num-apply-uniforms :num-draw num-draw :num-update-buffer num-update-buffer :num-append-buffer num-append-buffer :num-update-image num-update-image :size-apply-uniforms size-apply-uniforms :size-update-buffer size-update-buffer :size-append-buffer size-append-buffer :size-update-image size-update-image :gl gl :d3d11 d3d11 :metal metal :wgpu wgpu)))
(defmethod expand-from-foreign (ptr (type sg-frame-stats-type))
  `(with-foreign-slots ((frame-index num-passes num-apply-viewport num-apply-scissor-rect num-apply-pipeline num-apply-bindings num-apply-uniforms num-draw num-update-buffer num-append-buffer num-update-image size-apply-uniforms size-update-buffer size-append-buffer size-update-image gl d3d11 metal wgpu) ,ptr (:struct %sg-frame-stats))
    (make-sg-frame-stats :frame-index frame-index :num-passes num-passes :num-apply-viewport num-apply-viewport :num-apply-scissor-rect num-apply-scissor-rect :num-apply-pipeline num-apply-pipeline :num-apply-bindings num-apply-bindings :num-apply-uniforms num-apply-uniforms :num-draw num-draw :num-update-buffer num-update-buffer :num-append-buffer num-append-buffer :num-update-image num-update-image :size-apply-uniforms size-apply-uniforms :size-update-buffer size-update-buffer :size-append-buffer size-append-buffer :size-update-image size-update-image :gl gl :d3d11 d3d11 :metal metal :wgpu wgpu)))
(defmethod translate-into-foreign-memory (value (type sg-frame-stats-type) ptr)
  (with-foreign-slots ((frame-index num-passes num-apply-viewport num-apply-scissor-rect num-apply-pipeline num-apply-bindings num-apply-uniforms num-draw num-update-buffer num-append-buffer num-update-image size-apply-uniforms size-update-buffer size-append-buffer size-update-image gl d3d11 metal wgpu) ptr (:struct %sg-frame-stats))
    (setf 
      frame-index (sg-frame-stats-frame-index value)
      num-passes (sg-frame-stats-num-passes value)
      num-apply-viewport (sg-frame-stats-num-apply-viewport value)
      num-apply-scissor-rect (sg-frame-stats-num-apply-scissor-rect value)
      num-apply-pipeline (sg-frame-stats-num-apply-pipeline value)
      num-apply-bindings (sg-frame-stats-num-apply-bindings value)
      num-apply-uniforms (sg-frame-stats-num-apply-uniforms value)
      num-draw (sg-frame-stats-num-draw value)
      num-update-buffer (sg-frame-stats-num-update-buffer value)
      num-append-buffer (sg-frame-stats-num-append-buffer value)
      num-update-image (sg-frame-stats-num-update-image value)
      size-apply-uniforms (sg-frame-stats-size-apply-uniforms value)
      size-update-buffer (sg-frame-stats-size-update-buffer value)
      size-append-buffer (sg-frame-stats-size-append-buffer value)
      size-update-image (sg-frame-stats-size-update-image value)
      gl (sg-frame-stats-gl value)
      d3d11 (sg-frame-stats-d3d11 value)
      metal (sg-frame-stats-metal value)
      wgpu (sg-frame-stats-wgpu value))))

(defcenum sg-log-item
  (:sg-logitem-ok 0)
  (:sg-logitem-malloc-failed 1)
  (:sg-logitem-gl-texture-format-not-supported 2)
  (:sg-logitem-gl-3d-textures-not-supported 3)
  (:sg-logitem-gl-array-textures-not-supported 4)
  (:sg-logitem-gl-shader-compilation-failed 5)
  (:sg-logitem-gl-shader-linking-failed 6)
  (:sg-logitem-gl-vertex-attribute-not-found-in-shader 7)
  (:sg-logitem-gl-texture-name-not-found-in-shader 8)
  (:sg-logitem-gl-framebuffer-status-undefined 9)
  (:sg-logitem-gl-framebuffer-status-incomplete-attachment 10)
  (:sg-logitem-gl-framebuffer-status-incomplete-missing-attachment 11)
  (:sg-logitem-gl-framebuffer-status-unsupported 12)
  (:sg-logitem-gl-framebuffer-status-incomplete-multisample 13)
  (:sg-logitem-gl-framebuffer-status-unknown 14)
  (:sg-logitem-d3d11-create-buffer-failed 15)
  (:sg-logitem-d3d11-create-depth-texture-unsupported-pixel-format 16)
  (:sg-logitem-d3d11-create-depth-texture-failed 17)
  (:sg-logitem-d3d11-create-2d-texture-unsupported-pixel-format 18)
  (:sg-logitem-d3d11-create-2d-texture-failed 19)
  (:sg-logitem-d3d11-create-2d-srv-failed 20)
  (:sg-logitem-d3d11-create-3d-texture-unsupported-pixel-format 21)
  (:sg-logitem-d3d11-create-3d-texture-failed 22)
  (:sg-logitem-d3d11-create-3d-srv-failed 23)
  (:sg-logitem-d3d11-create-msaa-texture-failed 24)
  (:sg-logitem-d3d11-create-sampler-state-failed 25)
  (:sg-logitem-d3d11-load-d3dcompiler-47-dll-failed 26)
  (:sg-logitem-d3d11-shader-compilation-failed 27)
  (:sg-logitem-d3d11-shader-compilation-output 28)
  (:sg-logitem-d3d11-create-constant-buffer-failed 29)
  (:sg-logitem-d3d11-create-input-layout-failed 30)
  (:sg-logitem-d3d11-create-rasterizer-state-failed 31)
  (:sg-logitem-d3d11-create-depth-stencil-state-failed 32)
  (:sg-logitem-d3d11-create-blend-state-failed 33)
  (:sg-logitem-d3d11-create-rtv-failed 34)
  (:sg-logitem-d3d11-create-dsv-failed 35)
  (:sg-logitem-d3d11-map-for-update-buffer-failed 36)
  (:sg-logitem-d3d11-map-for-append-buffer-failed 37)
  (:sg-logitem-d3d11-map-for-update-image-failed 38)
  (:sg-logitem-metal-create-buffer-failed 39)
  (:sg-logitem-metal-texture-format-not-supported 40)
  (:sg-logitem-metal-create-texture-failed 41)
  (:sg-logitem-metal-create-sampler-failed 42)
  (:sg-logitem-metal-shader-compilation-failed 43)
  (:sg-logitem-metal-shader-creation-failed 44)
  (:sg-logitem-metal-shader-compilation-output 45)
  (:sg-logitem-metal-vertex-shader-entry-not-found 46)
  (:sg-logitem-metal-fragment-shader-entry-not-found 47)
  (:sg-logitem-metal-create-rps-failed 48)
  (:sg-logitem-metal-create-rps-output 49)
  (:sg-logitem-metal-create-dss-failed 50)
  (:sg-logitem-wgpu-bindgroups-pool-exhausted 51)
  (:sg-logitem-wgpu-bindgroupscache-size-greater-one 52)
  (:sg-logitem-wgpu-bindgroupscache-size-pow2 53)
  (:sg-logitem-wgpu-createbindgroup-failed 54)
  (:sg-logitem-wgpu-create-buffer-failed 55)
  (:sg-logitem-wgpu-create-texture-failed 56)
  (:sg-logitem-wgpu-create-texture-view-failed 57)
  (:sg-logitem-wgpu-create-sampler-failed 58)
  (:sg-logitem-wgpu-create-shader-module-failed 59)
  (:sg-logitem-wgpu-shader-too-many-images 60)
  (:sg-logitem-wgpu-shader-too-many-samplers 61)
  (:sg-logitem-wgpu-shader-create-bindgroup-layout-failed 62)
  (:sg-logitem-wgpu-create-pipeline-layout-failed 63)
  (:sg-logitem-wgpu-create-render-pipeline-failed 64)
  (:sg-logitem-wgpu-pass-create-texture-view-failed 65)
  (:sg-logitem-uninit-buffer-active-context-mismatch 66)
  (:sg-logitem-uninit-image-active-context-mismatch 67)
  (:sg-logitem-uninit-sampler-active-context-mismatch 68)
  (:sg-logitem-uninit-shader-active-context-mismatch 69)
  (:sg-logitem-uninit-pipeline-active-context-mismatch 70)
  (:sg-logitem-uninit-pass-active-context-mismatch 71)
  (:sg-logitem-identical-commit-listener 72)
  (:sg-logitem-commit-listener-array-full 73)
  (:sg-logitem-trace-hooks-not-enabled 74)
  (:sg-logitem-dealloc-buffer-invalid-state 75)
  (:sg-logitem-dealloc-image-invalid-state 76)
  (:sg-logitem-dealloc-sampler-invalid-state 77)
  (:sg-logitem-dealloc-shader-invalid-state 78)
  (:sg-logitem-dealloc-pipeline-invalid-state 79)
  (:sg-logitem-dealloc-pass-invalid-state 80)
  (:sg-logitem-init-buffer-invalid-state 81)
  (:sg-logitem-init-image-invalid-state 82)
  (:sg-logitem-init-sampler-invalid-state 83)
  (:sg-logitem-init-shader-invalid-state 84)
  (:sg-logitem-init-pipeline-invalid-state 85)
  (:sg-logitem-init-pass-invalid-state 86)
  (:sg-logitem-uninit-buffer-invalid-state 87)
  (:sg-logitem-uninit-image-invalid-state 88)
  (:sg-logitem-uninit-sampler-invalid-state 89)
  (:sg-logitem-uninit-shader-invalid-state 90)
  (:sg-logitem-uninit-pipeline-invalid-state 91)
  (:sg-logitem-uninit-pass-invalid-state 92)
  (:sg-logitem-fail-buffer-invalid-state 93)
  (:sg-logitem-fail-image-invalid-state 94)
  (:sg-logitem-fail-sampler-invalid-state 95)
  (:sg-logitem-fail-shader-invalid-state 96)
  (:sg-logitem-fail-pipeline-invalid-state 97)
  (:sg-logitem-fail-pass-invalid-state 98)
  (:sg-logitem-buffer-pool-exhausted 99)
  (:sg-logitem-image-pool-exhausted 100)
  (:sg-logitem-sampler-pool-exhausted 101)
  (:sg-logitem-shader-pool-exhausted 102)
  (:sg-logitem-pipeline-pool-exhausted 103)
  (:sg-logitem-pass-pool-exhausted 104)
  (:sg-logitem-draw-without-bindings 105)
  (:sg-logitem-validate-bufferdesc-canary 106)
  (:sg-logitem-validate-bufferdesc-size 107)
  (:sg-logitem-validate-bufferdesc-data 108)
  (:sg-logitem-validate-bufferdesc-data-size 109)
  (:sg-logitem-validate-bufferdesc-no-data 110)
  (:sg-logitem-validate-imagedata-nodata 111)
  (:sg-logitem-validate-imagedata-data-size 112)
  (:sg-logitem-validate-imagedesc-canary 113)
  (:sg-logitem-validate-imagedesc-width 114)
  (:sg-logitem-validate-imagedesc-height 115)
  (:sg-logitem-validate-imagedesc-rt-pixelformat 116)
  (:sg-logitem-validate-imagedesc-nonrt-pixelformat 117)
  (:sg-logitem-validate-imagedesc-msaa-but-no-rt 118)
  (:sg-logitem-validate-imagedesc-no-msaa-rt-support 119)
  (:sg-logitem-validate-imagedesc-msaa-num-mipmaps 120)
  (:sg-logitem-validate-imagedesc-msaa-3d-image 121)
  (:sg-logitem-validate-imagedesc-depth-3d-image 122)
  (:sg-logitem-validate-imagedesc-rt-immutable 123)
  (:sg-logitem-validate-imagedesc-rt-no-data 124)
  (:sg-logitem-validate-imagedesc-injected-no-data 125)
  (:sg-logitem-validate-imagedesc-dynamic-no-data 126)
  (:sg-logitem-validate-imagedesc-compressed-immutable 127)
  (:sg-logitem-validate-samplerdesc-canary 128)
  (:sg-logitem-validate-samplerdesc-minfilter-none 129)
  (:sg-logitem-validate-samplerdesc-magfilter-none 130)
  (:sg-logitem-validate-samplerdesc-anistropic-requires-linear-filtering 131)
  (:sg-logitem-validate-shaderdesc-canary 132)
  (:sg-logitem-validate-shaderdesc-source 133)
  (:sg-logitem-validate-shaderdesc-bytecode 134)
  (:sg-logitem-validate-shaderdesc-source-or-bytecode 135)
  (:sg-logitem-validate-shaderdesc-no-bytecode-size 136)
  (:sg-logitem-validate-shaderdesc-no-cont-ubs 137)
  (:sg-logitem-validate-shaderdesc-no-cont-ub-members 138)
  (:sg-logitem-validate-shaderdesc-no-ub-members 139)
  (:sg-logitem-validate-shaderdesc-ub-member-name 140)
  (:sg-logitem-validate-shaderdesc-ub-size-mismatch 141)
  (:sg-logitem-validate-shaderdesc-ub-array-count 142)
  (:sg-logitem-validate-shaderdesc-ub-std140-array-type 143)
  (:sg-logitem-validate-shaderdesc-no-cont-images 144)
  (:sg-logitem-validate-shaderdesc-no-cont-samplers 145)
  (:sg-logitem-validate-shaderdesc-image-sampler-pair-image-slot-out-of-range 146)
  (:sg-logitem-validate-shaderdesc-image-sampler-pair-sampler-slot-out-of-range 147)
  (:sg-logitem-validate-shaderdesc-image-sampler-pair-name-required-for-gl 148)
  (:sg-logitem-validate-shaderdesc-image-sampler-pair-has-name-but-not-used 149)
  (:sg-logitem-validate-shaderdesc-image-sampler-pair-has-image-but-not-used 150)
  (:sg-logitem-validate-shaderdesc-image-sampler-pair-has-sampler-but-not-used 151)
  (:sg-logitem-validate-shaderdesc-nonfiltering-sampler-required 152)
  (:sg-logitem-validate-shaderdesc-comparison-sampler-required 153)
  (:sg-logitem-validate-shaderdesc-image-not-referenced-by-image-sampler-pairs 154)
  (:sg-logitem-validate-shaderdesc-sampler-not-referenced-by-image-sampler-pairs 155)
  (:sg-logitem-validate-shaderdesc-no-cont-image-sampler-pairs 156)
  (:sg-logitem-validate-shaderdesc-attr-semantics 157)
  (:sg-logitem-validate-shaderdesc-attr-string-too-long 158)
  (:sg-logitem-validate-pipelinedesc-canary 159)
  (:sg-logitem-validate-pipelinedesc-shader 160)
  (:sg-logitem-validate-pipelinedesc-no-attrs 161)
  (:sg-logitem-validate-pipelinedesc-layout-stride4 162)
  (:sg-logitem-validate-pipelinedesc-attr-semantics 163)
  (:sg-logitem-validate-passdesc-canary 164)
  (:sg-logitem-validate-passdesc-no-attachments 165)
  (:sg-logitem-validate-passdesc-no-cont-color-atts 166)
  (:sg-logitem-validate-passdesc-image 167)
  (:sg-logitem-validate-passdesc-miplevel 168)
  (:sg-logitem-validate-passdesc-face 169)
  (:sg-logitem-validate-passdesc-layer 170)
  (:sg-logitem-validate-passdesc-slice 171)
  (:sg-logitem-validate-passdesc-image-no-rt 172)
  (:sg-logitem-validate-passdesc-color-inv-pixelformat 173)
  (:sg-logitem-validate-passdesc-depth-inv-pixelformat 174)
  (:sg-logitem-validate-passdesc-image-sizes 175)
  (:sg-logitem-validate-passdesc-image-sample-counts 176)
  (:sg-logitem-validate-passdesc-resolve-color-image-msaa 177)
  (:sg-logitem-validate-passdesc-resolve-image 178)
  (:sg-logitem-validate-passdesc-resolve-sample-count 179)
  (:sg-logitem-validate-passdesc-resolve-miplevel 180)
  (:sg-logitem-validate-passdesc-resolve-face 181)
  (:sg-logitem-validate-passdesc-resolve-layer 182)
  (:sg-logitem-validate-passdesc-resolve-slice 183)
  (:sg-logitem-validate-passdesc-resolve-image-no-rt 184)
  (:sg-logitem-validate-passdesc-resolve-image-sizes 185)
  (:sg-logitem-validate-passdesc-resolve-image-format 186)
  (:sg-logitem-validate-passdesc-depth-image 187)
  (:sg-logitem-validate-passdesc-depth-miplevel 188)
  (:sg-logitem-validate-passdesc-depth-face 189)
  (:sg-logitem-validate-passdesc-depth-layer 190)
  (:sg-logitem-validate-passdesc-depth-slice 191)
  (:sg-logitem-validate-passdesc-depth-image-no-rt 192)
  (:sg-logitem-validate-passdesc-depth-image-sizes 193)
  (:sg-logitem-validate-passdesc-depth-image-sample-count 194)
  (:sg-logitem-validate-beginpass-pass 195)
  (:sg-logitem-validate-beginpass-color-attachment-image 196)
  (:sg-logitem-validate-beginpass-resolve-attachment-image 197)
  (:sg-logitem-validate-beginpass-depthstencil-attachment-image 198)
  (:sg-logitem-validate-apip-pipeline-valid-id 199)
  (:sg-logitem-validate-apip-pipeline-exists 200)
  (:sg-logitem-validate-apip-pipeline-valid 201)
  (:sg-logitem-validate-apip-shader-exists 202)
  (:sg-logitem-validate-apip-shader-valid 203)
  (:sg-logitem-validate-apip-att-count 204)
  (:sg-logitem-validate-apip-color-format 205)
  (:sg-logitem-validate-apip-depth-format 206)
  (:sg-logitem-validate-apip-sample-count 207)
  (:sg-logitem-validate-abnd-pipeline 208)
  (:sg-logitem-validate-abnd-pipeline-exists 209)
  (:sg-logitem-validate-abnd-pipeline-valid 210)
  (:sg-logitem-validate-abnd-vbs 211)
  (:sg-logitem-validate-abnd-vb-exists 212)
  (:sg-logitem-validate-abnd-vb-type 213)
  (:sg-logitem-validate-abnd-vb-overflow 214)
  (:sg-logitem-validate-abnd-no-ib 215)
  (:sg-logitem-validate-abnd-ib 216)
  (:sg-logitem-validate-abnd-ib-exists 217)
  (:sg-logitem-validate-abnd-ib-type 218)
  (:sg-logitem-validate-abnd-ib-overflow 219)
  (:sg-logitem-validate-abnd-vs-expected-image-binding 220)
  (:sg-logitem-validate-abnd-vs-img-exists 221)
  (:sg-logitem-validate-abnd-vs-image-type-mismatch 222)
  (:sg-logitem-validate-abnd-vs-image-msaa 223)
  (:sg-logitem-validate-abnd-vs-expected-filterable-image 224)
  (:sg-logitem-validate-abnd-vs-expected-depth-image 225)
  (:sg-logitem-validate-abnd-vs-unexpected-image-binding 226)
  (:sg-logitem-validate-abnd-vs-expected-sampler-binding 227)
  (:sg-logitem-validate-abnd-vs-unexpected-sampler-compare-never 228)
  (:sg-logitem-validate-abnd-vs-expected-sampler-compare-never 229)
  (:sg-logitem-validate-abnd-vs-expected-nonfiltering-sampler 230)
  (:sg-logitem-validate-abnd-vs-unexpected-sampler-binding 231)
  (:sg-logitem-validate-abnd-vs-smp-exists 232)
  (:sg-logitem-validate-abnd-fs-expected-image-binding 233)
  (:sg-logitem-validate-abnd-fs-img-exists 234)
  (:sg-logitem-validate-abnd-fs-image-type-mismatch 235)
  (:sg-logitem-validate-abnd-fs-image-msaa 236)
  (:sg-logitem-validate-abnd-fs-expected-filterable-image 237)
  (:sg-logitem-validate-abnd-fs-expected-depth-image 238)
  (:sg-logitem-validate-abnd-fs-unexpected-image-binding 239)
  (:sg-logitem-validate-abnd-fs-expected-sampler-binding 240)
  (:sg-logitem-validate-abnd-fs-unexpected-sampler-compare-never 241)
  (:sg-logitem-validate-abnd-fs-expected-sampler-compare-never 242)
  (:sg-logitem-validate-abnd-fs-expected-nonfiltering-sampler 243)
  (:sg-logitem-validate-abnd-fs-unexpected-sampler-binding 244)
  (:sg-logitem-validate-abnd-fs-smp-exists 245)
  (:sg-logitem-validate-aub-no-pipeline 246)
  (:sg-logitem-validate-aub-no-ub-at-slot 247)
  (:sg-logitem-validate-aub-size 248)
  (:sg-logitem-validate-updatebuf-usage 249)
  (:sg-logitem-validate-updatebuf-size 250)
  (:sg-logitem-validate-updatebuf-once 251)
  (:sg-logitem-validate-updatebuf-append 252)
  (:sg-logitem-validate-appendbuf-usage 253)
  (:sg-logitem-validate-appendbuf-size 254)
  (:sg-logitem-validate-appendbuf-update 255)
  (:sg-logitem-validate-updimg-usage 256)
  (:sg-logitem-validate-updimg-once 257)
  (:sg-logitem-validation-failed 258))

(defcstruct (%sg-metal-context-desc :class sg-metal-context-desc-type)
  (device (:pointer :void))
  (renderpass-descriptor-cb :pointer)
  (renderpass-descriptor-userdata-cb :pointer)
  (drawable-cb :pointer)
  (drawable-userdata-cb :pointer)
  (user-data (:pointer :void)))

(defstruct sg-metal-context-desc
  (device nil)
  (renderpass-descriptor-cb nil)
  (renderpass-descriptor-userdata-cb nil)
  (drawable-cb nil)
  (drawable-userdata-cb nil)
  (user-data nil))

(defmethod translate-from-foreign (ptr (type sg-metal-context-desc-type))
  (with-foreign-slots ((device renderpass-descriptor-cb renderpass-descriptor-userdata-cb drawable-cb drawable-userdata-cb user-data) ptr (:struct %sg-metal-context-desc))
    (make-sg-metal-context-desc :device device :renderpass-descriptor-cb renderpass-descriptor-cb :renderpass-descriptor-userdata-cb renderpass-descriptor-userdata-cb :drawable-cb drawable-cb :drawable-userdata-cb drawable-userdata-cb :user-data user-data)))
(defmethod expand-from-foreign (ptr (type sg-metal-context-desc-type))
  `(with-foreign-slots ((device renderpass-descriptor-cb renderpass-descriptor-userdata-cb drawable-cb drawable-userdata-cb user-data) ,ptr (:struct %sg-metal-context-desc))
    (make-sg-metal-context-desc :device device :renderpass-descriptor-cb renderpass-descriptor-cb :renderpass-descriptor-userdata-cb renderpass-descriptor-userdata-cb :drawable-cb drawable-cb :drawable-userdata-cb drawable-userdata-cb :user-data user-data)))
(defmethod translate-into-foreign-memory (value (type sg-metal-context-desc-type) ptr)
  (with-foreign-slots ((device renderpass-descriptor-cb renderpass-descriptor-userdata-cb drawable-cb drawable-userdata-cb user-data) ptr (:struct %sg-metal-context-desc))
    (setf 
      device (sg-metal-context-desc-device value)
      renderpass-descriptor-cb (sg-metal-context-desc-renderpass-descriptor-cb value)
      renderpass-descriptor-userdata-cb (sg-metal-context-desc-renderpass-descriptor-userdata-cb value)
      drawable-cb (sg-metal-context-desc-drawable-cb value)
      drawable-userdata-cb (sg-metal-context-desc-drawable-userdata-cb value)
      user-data (sg-metal-context-desc-user-data value))))

(defcstruct (%sg-d3d11-context-desc :class sg-d3d11-context-desc-type)
  (device (:pointer :void))
  (device-context (:pointer :void))
  (render-target-view-cb :pointer)
  (render-target-view-userdata-cb :pointer)
  (depth-stencil-view-cb :pointer)
  (depth-stencil-view-userdata-cb :pointer)
  (user-data (:pointer :void)))

(defstruct sg-d3d11-context-desc
  (device nil)
  (device-context nil)
  (render-target-view-cb nil)
  (render-target-view-userdata-cb nil)
  (depth-stencil-view-cb nil)
  (depth-stencil-view-userdata-cb nil)
  (user-data nil))

(defmethod translate-from-foreign (ptr (type sg-d3d11-context-desc-type))
  (with-foreign-slots ((device device-context render-target-view-cb render-target-view-userdata-cb depth-stencil-view-cb depth-stencil-view-userdata-cb user-data) ptr (:struct %sg-d3d11-context-desc))
    (make-sg-d3d11-context-desc :device device :device-context device-context :render-target-view-cb render-target-view-cb :render-target-view-userdata-cb render-target-view-userdata-cb :depth-stencil-view-cb depth-stencil-view-cb :depth-stencil-view-userdata-cb depth-stencil-view-userdata-cb :user-data user-data)))
(defmethod expand-from-foreign (ptr (type sg-d3d11-context-desc-type))
  `(with-foreign-slots ((device device-context render-target-view-cb render-target-view-userdata-cb depth-stencil-view-cb depth-stencil-view-userdata-cb user-data) ,ptr (:struct %sg-d3d11-context-desc))
    (make-sg-d3d11-context-desc :device device :device-context device-context :render-target-view-cb render-target-view-cb :render-target-view-userdata-cb render-target-view-userdata-cb :depth-stencil-view-cb depth-stencil-view-cb :depth-stencil-view-userdata-cb depth-stencil-view-userdata-cb :user-data user-data)))
(defmethod translate-into-foreign-memory (value (type sg-d3d11-context-desc-type) ptr)
  (with-foreign-slots ((device device-context render-target-view-cb render-target-view-userdata-cb depth-stencil-view-cb depth-stencil-view-userdata-cb user-data) ptr (:struct %sg-d3d11-context-desc))
    (setf 
      device (sg-d3d11-context-desc-device value)
      device-context (sg-d3d11-context-desc-device-context value)
      render-target-view-cb (sg-d3d11-context-desc-render-target-view-cb value)
      render-target-view-userdata-cb (sg-d3d11-context-desc-render-target-view-userdata-cb value)
      depth-stencil-view-cb (sg-d3d11-context-desc-depth-stencil-view-cb value)
      depth-stencil-view-userdata-cb (sg-d3d11-context-desc-depth-stencil-view-userdata-cb value)
      user-data (sg-d3d11-context-desc-user-data value))))

(defcstruct (%sg-wgpu-context-desc :class sg-wgpu-context-desc-type)
  (device (:pointer :void))
  (render-view-cb :pointer)
  (render-view-userdata-cb :pointer)
  (resolve-view-cb :pointer)
  (resolve-view-userdata-cb :pointer)
  (depth-stencil-view-cb :pointer)
  (depth-stencil-view-userdata-cb :pointer)
  (user-data (:pointer :void)))

(defstruct sg-wgpu-context-desc
  (device nil)
  (render-view-cb nil)
  (render-view-userdata-cb nil)
  (resolve-view-cb nil)
  (resolve-view-userdata-cb nil)
  (depth-stencil-view-cb nil)
  (depth-stencil-view-userdata-cb nil)
  (user-data nil))

(defmethod translate-from-foreign (ptr (type sg-wgpu-context-desc-type))
  (with-foreign-slots ((device render-view-cb render-view-userdata-cb resolve-view-cb resolve-view-userdata-cb depth-stencil-view-cb depth-stencil-view-userdata-cb user-data) ptr (:struct %sg-wgpu-context-desc))
    (make-sg-wgpu-context-desc :device device :render-view-cb render-view-cb :render-view-userdata-cb render-view-userdata-cb :resolve-view-cb resolve-view-cb :resolve-view-userdata-cb resolve-view-userdata-cb :depth-stencil-view-cb depth-stencil-view-cb :depth-stencil-view-userdata-cb depth-stencil-view-userdata-cb :user-data user-data)))
(defmethod expand-from-foreign (ptr (type sg-wgpu-context-desc-type))
  `(with-foreign-slots ((device render-view-cb render-view-userdata-cb resolve-view-cb resolve-view-userdata-cb depth-stencil-view-cb depth-stencil-view-userdata-cb user-data) ,ptr (:struct %sg-wgpu-context-desc))
    (make-sg-wgpu-context-desc :device device :render-view-cb render-view-cb :render-view-userdata-cb render-view-userdata-cb :resolve-view-cb resolve-view-cb :resolve-view-userdata-cb resolve-view-userdata-cb :depth-stencil-view-cb depth-stencil-view-cb :depth-stencil-view-userdata-cb depth-stencil-view-userdata-cb :user-data user-data)))
(defmethod translate-into-foreign-memory (value (type sg-wgpu-context-desc-type) ptr)
  (with-foreign-slots ((device render-view-cb render-view-userdata-cb resolve-view-cb resolve-view-userdata-cb depth-stencil-view-cb depth-stencil-view-userdata-cb user-data) ptr (:struct %sg-wgpu-context-desc))
    (setf 
      device (sg-wgpu-context-desc-device value)
      render-view-cb (sg-wgpu-context-desc-render-view-cb value)
      render-view-userdata-cb (sg-wgpu-context-desc-render-view-userdata-cb value)
      resolve-view-cb (sg-wgpu-context-desc-resolve-view-cb value)
      resolve-view-userdata-cb (sg-wgpu-context-desc-resolve-view-userdata-cb value)
      depth-stencil-view-cb (sg-wgpu-context-desc-depth-stencil-view-cb value)
      depth-stencil-view-userdata-cb (sg-wgpu-context-desc-depth-stencil-view-userdata-cb value)
      user-data (sg-wgpu-context-desc-user-data value))))

(defcstruct (%sg-gl-context-desc :class sg-gl-context-desc-type)
  (default-framebuffer-cb :pointer)
  (default-framebuffer-userdata-cb :pointer)
  (user-data (:pointer :void)))

(defstruct sg-gl-context-desc
  (default-framebuffer-cb nil)
  (default-framebuffer-userdata-cb nil)
  (user-data nil))

(defmethod translate-from-foreign (ptr (type sg-gl-context-desc-type))
  (with-foreign-slots ((default-framebuffer-cb default-framebuffer-userdata-cb user-data) ptr (:struct %sg-gl-context-desc))
    (make-sg-gl-context-desc :default-framebuffer-cb default-framebuffer-cb :default-framebuffer-userdata-cb default-framebuffer-userdata-cb :user-data user-data)))
(defmethod expand-from-foreign (ptr (type sg-gl-context-desc-type))
  `(with-foreign-slots ((default-framebuffer-cb default-framebuffer-userdata-cb user-data) ,ptr (:struct %sg-gl-context-desc))
    (make-sg-gl-context-desc :default-framebuffer-cb default-framebuffer-cb :default-framebuffer-userdata-cb default-framebuffer-userdata-cb :user-data user-data)))
(defmethod translate-into-foreign-memory (value (type sg-gl-context-desc-type) ptr)
  (with-foreign-slots ((default-framebuffer-cb default-framebuffer-userdata-cb user-data) ptr (:struct %sg-gl-context-desc))
    (setf 
      default-framebuffer-cb (sg-gl-context-desc-default-framebuffer-cb value)
      default-framebuffer-userdata-cb (sg-gl-context-desc-default-framebuffer-userdata-cb value)
      user-data (sg-gl-context-desc-user-data value))))

(defcstruct (%sg-context-desc :class sg-context-desc-type)
  (color-format sg-pixel-format)
  (depth-format sg-pixel-format)
  (sample-count :int)
  (metal (:struct %sg-metal-context-desc))
  (d3d11 (:struct %sg-d3d11-context-desc))
  (wgpu (:struct %sg-wgpu-context-desc))
  (gl (:struct %sg-gl-context-desc)))

(defstruct sg-context-desc
  (color-format nil)
  (depth-format nil)
  (sample-count 0)
  (metal nil)
  (d3d11 nil)
  (wgpu nil)
  (gl nil))

(defmethod translate-from-foreign (ptr (type sg-context-desc-type))
  (with-foreign-slots ((color-format depth-format sample-count metal d3d11 wgpu gl) ptr (:struct %sg-context-desc))
    (make-sg-context-desc :color-format color-format :depth-format depth-format :sample-count sample-count :metal metal :d3d11 d3d11 :wgpu wgpu :gl gl)))
(defmethod expand-from-foreign (ptr (type sg-context-desc-type))
  `(with-foreign-slots ((color-format depth-format sample-count metal d3d11 wgpu gl) ,ptr (:struct %sg-context-desc))
    (make-sg-context-desc :color-format color-format :depth-format depth-format :sample-count sample-count :metal metal :d3d11 d3d11 :wgpu wgpu :gl gl)))
(defmethod translate-into-foreign-memory (value (type sg-context-desc-type) ptr)
  (with-foreign-slots ((color-format depth-format sample-count metal d3d11 wgpu gl) ptr (:struct %sg-context-desc))
    (setf 
      color-format (sg-context-desc-color-format value)
      depth-format (sg-context-desc-depth-format value)
      sample-count (sg-context-desc-sample-count value)
      metal (sg-context-desc-metal value)
      d3d11 (sg-context-desc-d3d11 value)
      wgpu (sg-context-desc-wgpu value)
      gl (sg-context-desc-gl value))))

(defcstruct (%sg-commit-listener :class sg-commit-listener-type)
  (func :pointer)
  (user-data (:pointer :void)))

(defstruct sg-commit-listener
  (func nil)
  (user-data nil))

(defmethod translate-from-foreign (ptr (type sg-commit-listener-type))
  (with-foreign-slots ((func user-data) ptr (:struct %sg-commit-listener))
    (make-sg-commit-listener :func func :user-data user-data)))
(defmethod expand-from-foreign (ptr (type sg-commit-listener-type))
  `(with-foreign-slots ((func user-data) ,ptr (:struct %sg-commit-listener))
    (make-sg-commit-listener :func func :user-data user-data)))
(defmethod translate-into-foreign-memory (value (type sg-commit-listener-type) ptr)
  (with-foreign-slots ((func user-data) ptr (:struct %sg-commit-listener))
    (setf 
      func (sg-commit-listener-func value)
      user-data (sg-commit-listener-user-data value))))

(defcstruct (%sg-allocator :class sg-allocator-type)
  (alloc-fn :pointer)
  (free-fn :pointer)
  (user-data (:pointer :void)))

(defstruct sg-allocator
  (alloc-fn nil)
  (free-fn nil)
  (user-data nil))

(defmethod translate-from-foreign (ptr (type sg-allocator-type))
  (with-foreign-slots ((alloc-fn free-fn user-data) ptr (:struct %sg-allocator))
    (make-sg-allocator :alloc-fn alloc-fn :free-fn free-fn :user-data user-data)))
(defmethod expand-from-foreign (ptr (type sg-allocator-type))
  `(with-foreign-slots ((alloc-fn free-fn user-data) ,ptr (:struct %sg-allocator))
    (make-sg-allocator :alloc-fn alloc-fn :free-fn free-fn :user-data user-data)))
(defmethod translate-into-foreign-memory (value (type sg-allocator-type) ptr)
  (with-foreign-slots ((alloc-fn free-fn user-data) ptr (:struct %sg-allocator))
    (setf 
      alloc-fn (sg-allocator-alloc-fn value)
      free-fn (sg-allocator-free-fn value)
      user-data (sg-allocator-user-data value))))

(defcstruct (%sg-logger :class sg-logger-type)
  (func :pointer)
  (user-data (:pointer :void)))

(defstruct sg-logger
  (func nil)
  (user-data nil))

(defmethod translate-from-foreign (ptr (type sg-logger-type))
  (with-foreign-slots ((func user-data) ptr (:struct %sg-logger))
    (make-sg-logger :func func :user-data user-data)))
(defmethod expand-from-foreign (ptr (type sg-logger-type))
  `(with-foreign-slots ((func user-data) ,ptr (:struct %sg-logger))
    (make-sg-logger :func func :user-data user-data)))
(defmethod translate-into-foreign-memory (value (type sg-logger-type) ptr)
  (with-foreign-slots ((func user-data) ptr (:struct %sg-logger))
    (setf 
      func (sg-logger-func value)
      user-data (sg-logger-user-data value))))

(defcstruct (%sg-desc :class sg-desc-type)
  (-start-canary :unsigned-int)
  (buffer-pool-size :int)
  (image-pool-size :int)
  (sampler-pool-size :int)
  (shader-pool-size :int)
  (pipeline-pool-size :int)
  (pass-pool-size :int)
  (context-pool-size :int)
  (uniform-buffer-size :int)
  (max-commit-listeners :int)
  (disable-validation :int)
  (mtl-force-managed-storage-mode :int)
  (wgpu-disable-bindgroups-cache :int)
  (wgpu-bindgroups-cache-size :int)
  (allocator (:struct %sg-allocator))
  (logger (:struct %sg-logger))
  (context (:struct %sg-context-desc))
  (-end-canary :unsigned-int))

(defstruct sg-desc
  (-start-canary 0)
  (buffer-pool-size 0)
  (image-pool-size 0)
  (sampler-pool-size 0)
  (shader-pool-size 0)
  (pipeline-pool-size 0)
  (pass-pool-size 0)
  (context-pool-size 0)
  (uniform-buffer-size 0)
  (max-commit-listeners 0)
  (disable-validation nil)
  (mtl-force-managed-storage-mode nil)
  (wgpu-disable-bindgroups-cache nil)
  (wgpu-bindgroups-cache-size 0)
  (allocator nil)
  (logger nil)
  (context nil)
  (-end-canary 0))

(defmethod translate-from-foreign (ptr (type sg-desc-type))
  (with-foreign-slots ((-start-canary buffer-pool-size image-pool-size sampler-pool-size shader-pool-size pipeline-pool-size pass-pool-size context-pool-size uniform-buffer-size max-commit-listeners disable-validation mtl-force-managed-storage-mode wgpu-disable-bindgroups-cache wgpu-bindgroups-cache-size allocator logger context -end-canary) ptr (:struct %sg-desc))
    (make-sg-desc :-start-canary -start-canary :buffer-pool-size buffer-pool-size :image-pool-size image-pool-size :sampler-pool-size sampler-pool-size :shader-pool-size shader-pool-size :pipeline-pool-size pipeline-pool-size :pass-pool-size pass-pool-size :context-pool-size context-pool-size :uniform-buffer-size uniform-buffer-size :max-commit-listeners max-commit-listeners :disable-validation disable-validation :mtl-force-managed-storage-mode mtl-force-managed-storage-mode :wgpu-disable-bindgroups-cache wgpu-disable-bindgroups-cache :wgpu-bindgroups-cache-size wgpu-bindgroups-cache-size :allocator allocator :logger logger :context context :-end-canary -end-canary)))
(defmethod expand-from-foreign (ptr (type sg-desc-type))
  `(with-foreign-slots ((-start-canary buffer-pool-size image-pool-size sampler-pool-size shader-pool-size pipeline-pool-size pass-pool-size context-pool-size uniform-buffer-size max-commit-listeners disable-validation mtl-force-managed-storage-mode wgpu-disable-bindgroups-cache wgpu-bindgroups-cache-size allocator logger context -end-canary) ,ptr (:struct %sg-desc))
    (make-sg-desc :-start-canary -start-canary :buffer-pool-size buffer-pool-size :image-pool-size image-pool-size :sampler-pool-size sampler-pool-size :shader-pool-size shader-pool-size :pipeline-pool-size pipeline-pool-size :pass-pool-size pass-pool-size :context-pool-size context-pool-size :uniform-buffer-size uniform-buffer-size :max-commit-listeners max-commit-listeners :disable-validation disable-validation :mtl-force-managed-storage-mode mtl-force-managed-storage-mode :wgpu-disable-bindgroups-cache wgpu-disable-bindgroups-cache :wgpu-bindgroups-cache-size wgpu-bindgroups-cache-size :allocator allocator :logger logger :context context :-end-canary -end-canary)))
(defmethod translate-into-foreign-memory (value (type sg-desc-type) ptr)
  (with-foreign-slots ((-start-canary buffer-pool-size image-pool-size sampler-pool-size shader-pool-size pipeline-pool-size pass-pool-size context-pool-size uniform-buffer-size max-commit-listeners disable-validation mtl-force-managed-storage-mode wgpu-disable-bindgroups-cache wgpu-bindgroups-cache-size allocator logger context -end-canary) ptr (:struct %sg-desc))
    (setf 
      -start-canary (sg-desc--start-canary value)
      buffer-pool-size (sg-desc-buffer-pool-size value)
      image-pool-size (sg-desc-image-pool-size value)
      sampler-pool-size (sg-desc-sampler-pool-size value)
      shader-pool-size (sg-desc-shader-pool-size value)
      pipeline-pool-size (sg-desc-pipeline-pool-size value)
      pass-pool-size (sg-desc-pass-pool-size value)
      context-pool-size (sg-desc-context-pool-size value)
      uniform-buffer-size (sg-desc-uniform-buffer-size value)
      max-commit-listeners (sg-desc-max-commit-listeners value)
      disable-validation (sg-desc-disable-validation value)
      mtl-force-managed-storage-mode (sg-desc-mtl-force-managed-storage-mode value)
      wgpu-disable-bindgroups-cache (sg-desc-wgpu-disable-bindgroups-cache value)
      wgpu-bindgroups-cache-size (sg-desc-wgpu-bindgroups-cache-size value)
      allocator (sg-desc-allocator value)
      logger (sg-desc-logger value)
      context (sg-desc-context value)
      -end-canary (sg-desc--end-canary value))))

(defcfun (sg-setup "sg_setup") :void
  (desc (:pointer (:struct %sg-desc))))

(defcfun (sg-shutdown "sg_shutdown") :void)

(defcfun (sg-isvalid "sg_isvalid") :int)

(defcfun (sg-reset-state-cache "sg_reset_state_cache") :void)

(defcfun (sg-install-trace-hooks "sg_install_trace_hooks") (:struct %sg-trace-hooks)
  (trace_hooks (:pointer (:struct %sg-trace-hooks))))

(defcfun (sg-push-debug-group "sg_push_debug_group") :void
  (name (:pointer :char)))

(defcfun (sg-pop-debug-group "sg_pop_debug_group") :void)

(defcfun (sg-add-commit-listener "sg_add_commit_listener") :int
  (listener (:struct %sg-commit-listener)))

(defcfun (sg-remove-commit-listener "sg_remove_commit_listener") :int
  (listener (:struct %sg-commit-listener)))

(defcfun (sg-make-buffer "sg_make_buffer") (:struct %sg-buffer)
  (desc (:pointer (:struct %sg-buffer-desc))))

(defcfun (sg-make-image "sg_make_image") (:struct %sg-image)
  (desc (:pointer (:struct %sg-image-desc))))

(defcfun (sg-make-sampler "sg_make_sampler") (:struct %sg-sampler)
  (desc (:pointer (:struct %sg-sampler-desc))))

(defcfun (sg-make-shader "sg_make_shader") (:struct %sg-shader)
  (desc (:pointer (:struct %sg-shader-desc))))

(defcfun (sg-make-pipeline "sg_make_pipeline") (:struct %sg-pipeline)
  (desc (:pointer (:struct %sg-pipeline-desc))))

(defcfun (sg-make-pass "sg_make_pass") (:struct %sg-pass)
  (desc (:pointer (:struct %sg-pass-desc))))

(defcfun (sg-destroy-buffer "sg_destroy_buffer") :void
  (buf (:struct %sg-buffer)))

(defcfun (sg-destroy-image "sg_destroy_image") :void
  (img (:struct %sg-image)))

(defcfun (sg-destroy-sampler "sg_destroy_sampler") :void
  (smp (:struct %sg-sampler)))

(defcfun (sg-destroy-shader "sg_destroy_shader") :void
  (shd (:struct %sg-shader)))

(defcfun (sg-destroy-pipeline "sg_destroy_pipeline") :void
  (pip (:struct %sg-pipeline)))

(defcfun (sg-destroy-pass "sg_destroy_pass") :void
  (pass (:struct %sg-pass)))

(defcfun (sg-update-buffer "sg_update_buffer") :void
  (buf (:struct %sg-buffer))
  (data (:pointer (:struct %sg-range))))

(defcfun (sg-update-image "sg_update_image") :void
  (img (:struct %sg-image))
  (data (:pointer (:struct %sg-image-data))))

(defcfun (sg-append-buffer "sg_append_buffer") :int
  (buf (:struct %sg-buffer))
  (data (:pointer (:struct %sg-range))))

(defcfun (sg-query-buffer-overflow "sg_query_buffer_overflow") :int
  (buf (:struct %sg-buffer)))

(defcfun (sg-query-buffer-will-overflow "sg_query_buffer_will_overflow") :int
  (buf (:struct %sg-buffer))
  (size :unsigned-long))

(defcfun (sg-begin-default-pass "sg_begin_default_pass") :void
  (pass_action (:pointer (:struct %sg-pass-action)))
  (width :int)
  (height :int))

(defcfun (sg-begin-default-passf "sg_begin_default_passf") :void
  (pass_action (:pointer (:struct %sg-pass-action)))
  (width :float)
  (height :float))

(defcfun (sg-begin-pass "sg_begin_pass") :void
  (pass (:struct %sg-pass))
  (pass_action (:pointer (:struct %sg-pass-action))))

(defcfun (sg-apply-viewport "sg_apply_viewport") :void
  (x :int)
  (y :int)
  (width :int)
  (height :int)
  (origin_top_left :int))

(defcfun (sg-apply-viewportf "sg_apply_viewportf") :void
  (x :float)
  (y :float)
  (width :float)
  (height :float)
  (origin_top_left :int))

(defcfun (sg-apply-scissor-rect "sg_apply_scissor_rect") :void
  (x :int)
  (y :int)
  (width :int)
  (height :int)
  (origin_top_left :int))

(defcfun (sg-apply-scissor-rectf "sg_apply_scissor_rectf") :void
  (x :float)
  (y :float)
  (width :float)
  (height :float)
  (origin_top_left :int))

(defcfun (sg-apply-pipeline "sg_apply_pipeline") :void
  (pip (:struct %sg-pipeline)))

(defcfun (sg-apply-bindings "sg_apply_bindings") :void
  (bindings (:pointer (:struct %sg-bindings))))

(defcfun (sg-apply-uniforms "sg_apply_uniforms") :void
  (stage sg-shader-stage)
  (ub_index :int)
  (data (:pointer (:struct %sg-range))))

(defcfun (sg-draw "sg_draw") :void
  (base_element :int)
  (num_elements :int)
  (num_instances :int))

(defcfun (sg-end-pass "sg_end_pass") :void)

(defcfun (sg-commit "sg_commit") :void)

(defcfun (sg-query-desc "sg_query_desc") (:struct %sg-desc))

(defcfun (sg-query-backend "sg_query_backend") sg-backend)

(defcfun (sg-query-features "sg_query_features") (:struct %sg-features))

(defcfun (sg-query-limits "sg_query_limits") (:struct %sg-limits))

(defcfun (sg-query-pixelformat "sg_query_pixelformat") (:struct %sg-pixelformat-info)
  (fmt sg-pixel-format))

(defcfun (sg-query-buffer-state "sg_query_buffer_state") sg-resource-state
  (buf (:struct %sg-buffer)))

(defcfun (sg-query-image-state "sg_query_image_state") sg-resource-state
  (img (:struct %sg-image)))

(defcfun (sg-query-sampler-state "sg_query_sampler_state") sg-resource-state
  (smp (:struct %sg-sampler)))

(defcfun (sg-query-shader-state "sg_query_shader_state") sg-resource-state
  (shd (:struct %sg-shader)))

(defcfun (sg-query-pipeline-state "sg_query_pipeline_state") sg-resource-state
  (pip (:struct %sg-pipeline)))

(defcfun (sg-query-pass-state "sg_query_pass_state") sg-resource-state
  (pass (:struct %sg-pass)))

(defcfun (sg-query-buffer-info "sg_query_buffer_info") (:struct %sg-buffer-info)
  (buf (:struct %sg-buffer)))

(defcfun (sg-query-image-info "sg_query_image_info") (:struct %sg-image-info)
  (img (:struct %sg-image)))

(defcfun (sg-query-sampler-info "sg_query_sampler_info") (:struct %sg-sampler-info)
  (smp (:struct %sg-sampler)))

(defcfun (sg-query-shader-info "sg_query_shader_info") (:struct %sg-shader-info)
  (shd (:struct %sg-shader)))

(defcfun (sg-query-pipeline-info "sg_query_pipeline_info") (:struct %sg-pipeline-info)
  (pip (:struct %sg-pipeline)))

(defcfun (sg-query-pass-info "sg_query_pass_info") (:struct %sg-pass-info)
  (pass (:struct %sg-pass)))

(defcfun (sg-query-buffer-desc "sg_query_buffer_desc") (:struct %sg-buffer-desc)
  (buf (:struct %sg-buffer)))

(defcfun (sg-query-image-desc "sg_query_image_desc") (:struct %sg-image-desc)
  (img (:struct %sg-image)))

(defcfun (sg-query-sampler-desc "sg_query_sampler_desc") (:struct %sg-sampler-desc)
  (smp (:struct %sg-sampler)))

(defcfun (sg-query-shader-desc "sg_query_shader_desc") (:struct %sg-shader-desc)
  (shd (:struct %sg-shader)))

(defcfun (sg-query-pipeline-desc "sg_query_pipeline_desc") (:struct %sg-pipeline-desc)
  (pip (:struct %sg-pipeline)))

(defcfun (sg-query-pass-desc "sg_query_pass_desc") (:struct %sg-pass-desc)
  (pass (:struct %sg-pass)))

(defcfun (sg-query-buffer-defaults "sg_query_buffer_defaults") (:struct %sg-buffer-desc)
  (desc (:pointer (:struct %sg-buffer-desc))))

(defcfun (sg-query-image-defaults "sg_query_image_defaults") (:struct %sg-image-desc)
  (desc (:pointer (:struct %sg-image-desc))))

(defcfun (sg-query-sampler-defaults "sg_query_sampler_defaults") (:struct %sg-sampler-desc)
  (desc (:pointer (:struct %sg-sampler-desc))))

(defcfun (sg-query-shader-defaults "sg_query_shader_defaults") (:struct %sg-shader-desc)
  (desc (:pointer (:struct %sg-shader-desc))))

(defcfun (sg-query-pipeline-defaults "sg_query_pipeline_defaults") (:struct %sg-pipeline-desc)
  (desc (:pointer (:struct %sg-pipeline-desc))))

(defcfun (sg-query-pass-defaults "sg_query_pass_defaults") (:struct %sg-pass-desc)
  (desc (:pointer (:struct %sg-pass-desc))))

(defcfun (sg-alloc-buffer "sg_alloc_buffer") (:struct %sg-buffer))

(defcfun (sg-alloc-image "sg_alloc_image") (:struct %sg-image))

(defcfun (sg-alloc-sampler "sg_alloc_sampler") (:struct %sg-sampler))

(defcfun (sg-alloc-shader "sg_alloc_shader") (:struct %sg-shader))

(defcfun (sg-alloc-pipeline "sg_alloc_pipeline") (:struct %sg-pipeline))

(defcfun (sg-alloc-pass "sg_alloc_pass") (:struct %sg-pass))

(defcfun (sg-dealloc-buffer "sg_dealloc_buffer") :void
  (buf (:struct %sg-buffer)))

(defcfun (sg-dealloc-image "sg_dealloc_image") :void
  (img (:struct %sg-image)))

(defcfun (sg-dealloc-sampler "sg_dealloc_sampler") :void
  (smp (:struct %sg-sampler)))

(defcfun (sg-dealloc-shader "sg_dealloc_shader") :void
  (shd (:struct %sg-shader)))

(defcfun (sg-dealloc-pipeline "sg_dealloc_pipeline") :void
  (pip (:struct %sg-pipeline)))

(defcfun (sg-dealloc-pass "sg_dealloc_pass") :void
  (pass (:struct %sg-pass)))

(defcfun (sg-init-buffer "sg_init_buffer") :void
  (buf (:struct %sg-buffer))
  (desc (:pointer (:struct %sg-buffer-desc))))

(defcfun (sg-init-image "sg_init_image") :void
  (img (:struct %sg-image))
  (desc (:pointer (:struct %sg-image-desc))))

(defcfun (sg-init-sampler "sg_init_sampler") :void
  (smg (:struct %sg-sampler))
  (desc (:pointer (:struct %sg-sampler-desc))))

(defcfun (sg-init-shader "sg_init_shader") :void
  (shd (:struct %sg-shader))
  (desc (:pointer (:struct %sg-shader-desc))))

(defcfun (sg-init-pipeline "sg_init_pipeline") :void
  (pip (:struct %sg-pipeline))
  (desc (:pointer (:struct %sg-pipeline-desc))))

(defcfun (sg-init-pass "sg_init_pass") :void
  (pass (:struct %sg-pass))
  (desc (:pointer (:struct %sg-pass-desc))))

(defcfun (sg-uninit-buffer "sg_uninit_buffer") :void
  (buf (:struct %sg-buffer)))

(defcfun (sg-uninit-image "sg_uninit_image") :void
  (img (:struct %sg-image)))

(defcfun (sg-uninit-sampler "sg_uninit_sampler") :void
  (smp (:struct %sg-sampler)))

(defcfun (sg-uninit-shader "sg_uninit_shader") :void
  (shd (:struct %sg-shader)))

(defcfun (sg-uninit-pipeline "sg_uninit_pipeline") :void
  (pip (:struct %sg-pipeline)))

(defcfun (sg-uninit-pass "sg_uninit_pass") :void
  (pass (:struct %sg-pass)))

(defcfun (sg-fail-buffer "sg_fail_buffer") :void
  (buf (:struct %sg-buffer)))

(defcfun (sg-fail-image "sg_fail_image") :void
  (img (:struct %sg-image)))

(defcfun (sg-fail-sampler "sg_fail_sampler") :void
  (smp (:struct %sg-sampler)))

(defcfun (sg-fail-shader "sg_fail_shader") :void
  (shd (:struct %sg-shader)))

(defcfun (sg-fail-pipeline "sg_fail_pipeline") :void
  (pip (:struct %sg-pipeline)))

(defcfun (sg-fail-pass "sg_fail_pass") :void
  (pass (:struct %sg-pass)))

(defcfun (sg-enable-frame-stats "sg_enable_frame_stats") :void)

(defcfun (sg-disable-frame-stats "sg_disable_frame_stats") :void)

(defcfun (sg-frame-stats-enabled "sg_frame_stats_enabled") :int)

(defcfun (sg-query-frame-stats "sg_query_frame_stats") (:struct %sg-frame-stats))

(defcfun (sg-setup-context "sg_setup_context") (:struct %sg-context))

(defcfun (sg-activate-context "sg_activate_context") :void
  (ctx_id (:struct %sg-context)))

(defcfun (sg-discard-context "sg_discard_context") :void
  (ctx_id (:struct %sg-context)))

(defcstruct (%sg-d3d11-buffer-info :class sg-d3d11-buffer-info-type)
  (buf (:pointer :void)))

(defstruct sg-d3d11-buffer-info
  (buf nil))

(defmethod translate-from-foreign (ptr (type sg-d3d11-buffer-info-type))
  (with-foreign-slots ((buf) ptr (:struct %sg-d3d11-buffer-info))
    (make-sg-d3d11-buffer-info :buf buf)))
(defmethod expand-from-foreign (ptr (type sg-d3d11-buffer-info-type))
  `(with-foreign-slots ((buf) ,ptr (:struct %sg-d3d11-buffer-info))
    (make-sg-d3d11-buffer-info :buf buf)))
(defmethod translate-into-foreign-memory (value (type sg-d3d11-buffer-info-type) ptr)
  (with-foreign-slots ((buf) ptr (:struct %sg-d3d11-buffer-info))
    (setf 
      buf (sg-d3d11-buffer-info-buf value))))

(defcstruct (%sg-d3d11-image-info :class sg-d3d11-image-info-type)
  (tex2d (:pointer :void))
  (tex3d (:pointer :void))
  (res (:pointer :void))
  (srv (:pointer :void)))

(defstruct sg-d3d11-image-info
  (tex2d nil)
  (tex3d nil)
  (res nil)
  (srv nil))

(defmethod translate-from-foreign (ptr (type sg-d3d11-image-info-type))
  (with-foreign-slots ((tex2d tex3d res srv) ptr (:struct %sg-d3d11-image-info))
    (make-sg-d3d11-image-info :tex2d tex2d :tex3d tex3d :res res :srv srv)))
(defmethod expand-from-foreign (ptr (type sg-d3d11-image-info-type))
  `(with-foreign-slots ((tex2d tex3d res srv) ,ptr (:struct %sg-d3d11-image-info))
    (make-sg-d3d11-image-info :tex2d tex2d :tex3d tex3d :res res :srv srv)))
(defmethod translate-into-foreign-memory (value (type sg-d3d11-image-info-type) ptr)
  (with-foreign-slots ((tex2d tex3d res srv) ptr (:struct %sg-d3d11-image-info))
    (setf 
      tex2d (sg-d3d11-image-info-tex2d value)
      tex3d (sg-d3d11-image-info-tex3d value)
      res (sg-d3d11-image-info-res value)
      srv (sg-d3d11-image-info-srv value))))

(defcstruct (%sg-d3d11-sampler-info :class sg-d3d11-sampler-info-type)
  (smp (:pointer :void)))

(defstruct sg-d3d11-sampler-info
  (smp nil))

(defmethod translate-from-foreign (ptr (type sg-d3d11-sampler-info-type))
  (with-foreign-slots ((smp) ptr (:struct %sg-d3d11-sampler-info))
    (make-sg-d3d11-sampler-info :smp smp)))
(defmethod expand-from-foreign (ptr (type sg-d3d11-sampler-info-type))
  `(with-foreign-slots ((smp) ,ptr (:struct %sg-d3d11-sampler-info))
    (make-sg-d3d11-sampler-info :smp smp)))
(defmethod translate-into-foreign-memory (value (type sg-d3d11-sampler-info-type) ptr)
  (with-foreign-slots ((smp) ptr (:struct %sg-d3d11-sampler-info))
    (setf 
      smp (sg-d3d11-sampler-info-smp value))))

(defcstruct (%sg-d3d11-shader-info :class sg-d3d11-shader-info-type)
  (vs-cbufs (:array (:pointer :void) 4))
  (fs-cbufs (:array (:pointer :void) 4))
  (vs (:pointer :void))
  (fs (:pointer :void)))

(defstruct sg-d3d11-shader-info
  (vs-cbufs (make-array 4))
  (fs-cbufs (make-array 4))
  (vs nil)
  (fs nil))

(defmethod translate-from-foreign (ptr (type sg-d3d11-shader-info-type))
  (with-foreign-slots ((vs-cbufs fs-cbufs vs fs) ptr (:struct %sg-d3d11-shader-info))
    (make-sg-d3d11-shader-info :vs-cbufs vs-cbufs :fs-cbufs fs-cbufs :vs vs :fs fs)))
(defmethod expand-from-foreign (ptr (type sg-d3d11-shader-info-type))
  `(with-foreign-slots ((vs-cbufs fs-cbufs vs fs) ,ptr (:struct %sg-d3d11-shader-info))
    (make-sg-d3d11-shader-info :vs-cbufs vs-cbufs :fs-cbufs fs-cbufs :vs vs :fs fs)))
(defmethod translate-into-foreign-memory (value (type sg-d3d11-shader-info-type) ptr)
  (with-foreign-slots ((vs-cbufs fs-cbufs vs fs) ptr (:struct %sg-d3d11-shader-info))
    (setf 
      vs-cbufs (sg-d3d11-shader-info-vs-cbufs value)
      fs-cbufs (sg-d3d11-shader-info-fs-cbufs value)
      vs (sg-d3d11-shader-info-vs value)
      fs (sg-d3d11-shader-info-fs value))))

(defcstruct (%sg-d3d11-pipeline-info :class sg-d3d11-pipeline-info-type)
  (il (:pointer :void))
  (rs (:pointer :void))
  (dss (:pointer :void))
  (bs (:pointer :void)))

(defstruct sg-d3d11-pipeline-info
  (il nil)
  (rs nil)
  (dss nil)
  (bs nil))

(defmethod translate-from-foreign (ptr (type sg-d3d11-pipeline-info-type))
  (with-foreign-slots ((il rs dss bs) ptr (:struct %sg-d3d11-pipeline-info))
    (make-sg-d3d11-pipeline-info :il il :rs rs :dss dss :bs bs)))
(defmethod expand-from-foreign (ptr (type sg-d3d11-pipeline-info-type))
  `(with-foreign-slots ((il rs dss bs) ,ptr (:struct %sg-d3d11-pipeline-info))
    (make-sg-d3d11-pipeline-info :il il :rs rs :dss dss :bs bs)))
(defmethod translate-into-foreign-memory (value (type sg-d3d11-pipeline-info-type) ptr)
  (with-foreign-slots ((il rs dss bs) ptr (:struct %sg-d3d11-pipeline-info))
    (setf 
      il (sg-d3d11-pipeline-info-il value)
      rs (sg-d3d11-pipeline-info-rs value)
      dss (sg-d3d11-pipeline-info-dss value)
      bs (sg-d3d11-pipeline-info-bs value))))

(defcstruct (%sg-d3d11-pass-info :class sg-d3d11-pass-info-type)
  (color-rtv (:array (:pointer :void) 4))
  (resolve-rtv (:array (:pointer :void) 4))
  (dsv (:pointer :void)))

(defstruct sg-d3d11-pass-info
  (color-rtv (make-array 4))
  (resolve-rtv (make-array 4))
  (dsv nil))

(defmethod translate-from-foreign (ptr (type sg-d3d11-pass-info-type))
  (with-foreign-slots ((color-rtv resolve-rtv dsv) ptr (:struct %sg-d3d11-pass-info))
    (make-sg-d3d11-pass-info :color-rtv color-rtv :resolve-rtv resolve-rtv :dsv dsv)))
(defmethod expand-from-foreign (ptr (type sg-d3d11-pass-info-type))
  `(with-foreign-slots ((color-rtv resolve-rtv dsv) ,ptr (:struct %sg-d3d11-pass-info))
    (make-sg-d3d11-pass-info :color-rtv color-rtv :resolve-rtv resolve-rtv :dsv dsv)))
(defmethod translate-into-foreign-memory (value (type sg-d3d11-pass-info-type) ptr)
  (with-foreign-slots ((color-rtv resolve-rtv dsv) ptr (:struct %sg-d3d11-pass-info))
    (setf 
      color-rtv (sg-d3d11-pass-info-color-rtv value)
      resolve-rtv (sg-d3d11-pass-info-resolve-rtv value)
      dsv (sg-d3d11-pass-info-dsv value))))

(defcstruct (%sg-mtl-buffer-info :class sg-mtl-buffer-info-type)
  (buf (:array (:pointer :void) 2))
  (active-slot :int))

(defstruct sg-mtl-buffer-info
  (buf (make-array 2))
  (active-slot 0))

(defmethod translate-from-foreign (ptr (type sg-mtl-buffer-info-type))
  (with-foreign-slots ((buf active-slot) ptr (:struct %sg-mtl-buffer-info))
    (make-sg-mtl-buffer-info :buf buf :active-slot active-slot)))
(defmethod expand-from-foreign (ptr (type sg-mtl-buffer-info-type))
  `(with-foreign-slots ((buf active-slot) ,ptr (:struct %sg-mtl-buffer-info))
    (make-sg-mtl-buffer-info :buf buf :active-slot active-slot)))
(defmethod translate-into-foreign-memory (value (type sg-mtl-buffer-info-type) ptr)
  (with-foreign-slots ((buf active-slot) ptr (:struct %sg-mtl-buffer-info))
    (setf 
      buf (sg-mtl-buffer-info-buf value)
      active-slot (sg-mtl-buffer-info-active-slot value))))

(defcstruct (%sg-mtl-image-info :class sg-mtl-image-info-type)
  (tex (:array (:pointer :void) 2))
  (active-slot :int))

(defstruct sg-mtl-image-info
  (tex (make-array 2))
  (active-slot 0))

(defmethod translate-from-foreign (ptr (type sg-mtl-image-info-type))
  (with-foreign-slots ((tex active-slot) ptr (:struct %sg-mtl-image-info))
    (make-sg-mtl-image-info :tex tex :active-slot active-slot)))
(defmethod expand-from-foreign (ptr (type sg-mtl-image-info-type))
  `(with-foreign-slots ((tex active-slot) ,ptr (:struct %sg-mtl-image-info))
    (make-sg-mtl-image-info :tex tex :active-slot active-slot)))
(defmethod translate-into-foreign-memory (value (type sg-mtl-image-info-type) ptr)
  (with-foreign-slots ((tex active-slot) ptr (:struct %sg-mtl-image-info))
    (setf 
      tex (sg-mtl-image-info-tex value)
      active-slot (sg-mtl-image-info-active-slot value))))

(defcstruct (%sg-mtl-sampler-info :class sg-mtl-sampler-info-type)
  (smp (:pointer :void)))

(defstruct sg-mtl-sampler-info
  (smp nil))

(defmethod translate-from-foreign (ptr (type sg-mtl-sampler-info-type))
  (with-foreign-slots ((smp) ptr (:struct %sg-mtl-sampler-info))
    (make-sg-mtl-sampler-info :smp smp)))
(defmethod expand-from-foreign (ptr (type sg-mtl-sampler-info-type))
  `(with-foreign-slots ((smp) ,ptr (:struct %sg-mtl-sampler-info))
    (make-sg-mtl-sampler-info :smp smp)))
(defmethod translate-into-foreign-memory (value (type sg-mtl-sampler-info-type) ptr)
  (with-foreign-slots ((smp) ptr (:struct %sg-mtl-sampler-info))
    (setf 
      smp (sg-mtl-sampler-info-smp value))))

(defcstruct (%sg-mtl-shader-info :class sg-mtl-shader-info-type)
  (vs-lib (:pointer :void))
  (fs-lib (:pointer :void))
  (vs-func (:pointer :void))
  (fs-func (:pointer :void)))

(defstruct sg-mtl-shader-info
  (vs-lib nil)
  (fs-lib nil)
  (vs-func nil)
  (fs-func nil))

(defmethod translate-from-foreign (ptr (type sg-mtl-shader-info-type))
  (with-foreign-slots ((vs-lib fs-lib vs-func fs-func) ptr (:struct %sg-mtl-shader-info))
    (make-sg-mtl-shader-info :vs-lib vs-lib :fs-lib fs-lib :vs-func vs-func :fs-func fs-func)))
(defmethod expand-from-foreign (ptr (type sg-mtl-shader-info-type))
  `(with-foreign-slots ((vs-lib fs-lib vs-func fs-func) ,ptr (:struct %sg-mtl-shader-info))
    (make-sg-mtl-shader-info :vs-lib vs-lib :fs-lib fs-lib :vs-func vs-func :fs-func fs-func)))
(defmethod translate-into-foreign-memory (value (type sg-mtl-shader-info-type) ptr)
  (with-foreign-slots ((vs-lib fs-lib vs-func fs-func) ptr (:struct %sg-mtl-shader-info))
    (setf 
      vs-lib (sg-mtl-shader-info-vs-lib value)
      fs-lib (sg-mtl-shader-info-fs-lib value)
      vs-func (sg-mtl-shader-info-vs-func value)
      fs-func (sg-mtl-shader-info-fs-func value))))

(defcstruct (%sg-mtl-pipeline-info :class sg-mtl-pipeline-info-type)
  (rps (:pointer :void))
  (dss (:pointer :void)))

(defstruct sg-mtl-pipeline-info
  (rps nil)
  (dss nil))

(defmethod translate-from-foreign (ptr (type sg-mtl-pipeline-info-type))
  (with-foreign-slots ((rps dss) ptr (:struct %sg-mtl-pipeline-info))
    (make-sg-mtl-pipeline-info :rps rps :dss dss)))
(defmethod expand-from-foreign (ptr (type sg-mtl-pipeline-info-type))
  `(with-foreign-slots ((rps dss) ,ptr (:struct %sg-mtl-pipeline-info))
    (make-sg-mtl-pipeline-info :rps rps :dss dss)))
(defmethod translate-into-foreign-memory (value (type sg-mtl-pipeline-info-type) ptr)
  (with-foreign-slots ((rps dss) ptr (:struct %sg-mtl-pipeline-info))
    (setf 
      rps (sg-mtl-pipeline-info-rps value)
      dss (sg-mtl-pipeline-info-dss value))))

(defcstruct (%sg-wgpu-buffer-info :class sg-wgpu-buffer-info-type)
  (buf (:pointer :void)))

(defstruct sg-wgpu-buffer-info
  (buf nil))

(defmethod translate-from-foreign (ptr (type sg-wgpu-buffer-info-type))
  (with-foreign-slots ((buf) ptr (:struct %sg-wgpu-buffer-info))
    (make-sg-wgpu-buffer-info :buf buf)))
(defmethod expand-from-foreign (ptr (type sg-wgpu-buffer-info-type))
  `(with-foreign-slots ((buf) ,ptr (:struct %sg-wgpu-buffer-info))
    (make-sg-wgpu-buffer-info :buf buf)))
(defmethod translate-into-foreign-memory (value (type sg-wgpu-buffer-info-type) ptr)
  (with-foreign-slots ((buf) ptr (:struct %sg-wgpu-buffer-info))
    (setf 
      buf (sg-wgpu-buffer-info-buf value))))

(defcstruct (%sg-wgpu-image-info :class sg-wgpu-image-info-type)
  (tex (:pointer :void))
  (view (:pointer :void)))

(defstruct sg-wgpu-image-info
  (tex nil)
  (view nil))

(defmethod translate-from-foreign (ptr (type sg-wgpu-image-info-type))
  (with-foreign-slots ((tex view) ptr (:struct %sg-wgpu-image-info))
    (make-sg-wgpu-image-info :tex tex :view view)))
(defmethod expand-from-foreign (ptr (type sg-wgpu-image-info-type))
  `(with-foreign-slots ((tex view) ,ptr (:struct %sg-wgpu-image-info))
    (make-sg-wgpu-image-info :tex tex :view view)))
(defmethod translate-into-foreign-memory (value (type sg-wgpu-image-info-type) ptr)
  (with-foreign-slots ((tex view) ptr (:struct %sg-wgpu-image-info))
    (setf 
      tex (sg-wgpu-image-info-tex value)
      view (sg-wgpu-image-info-view value))))

(defcstruct (%sg-wgpu-sampler-info :class sg-wgpu-sampler-info-type)
  (smp (:pointer :void)))

(defstruct sg-wgpu-sampler-info
  (smp nil))

(defmethod translate-from-foreign (ptr (type sg-wgpu-sampler-info-type))
  (with-foreign-slots ((smp) ptr (:struct %sg-wgpu-sampler-info))
    (make-sg-wgpu-sampler-info :smp smp)))
(defmethod expand-from-foreign (ptr (type sg-wgpu-sampler-info-type))
  `(with-foreign-slots ((smp) ,ptr (:struct %sg-wgpu-sampler-info))
    (make-sg-wgpu-sampler-info :smp smp)))
(defmethod translate-into-foreign-memory (value (type sg-wgpu-sampler-info-type) ptr)
  (with-foreign-slots ((smp) ptr (:struct %sg-wgpu-sampler-info))
    (setf 
      smp (sg-wgpu-sampler-info-smp value))))

(defcstruct (%sg-wgpu-shader-info :class sg-wgpu-shader-info-type)
  (vs-mod (:pointer :void))
  (fs-mod (:pointer :void))
  (bgl (:pointer :void)))

(defstruct sg-wgpu-shader-info
  (vs-mod nil)
  (fs-mod nil)
  (bgl nil))

(defmethod translate-from-foreign (ptr (type sg-wgpu-shader-info-type))
  (with-foreign-slots ((vs-mod fs-mod bgl) ptr (:struct %sg-wgpu-shader-info))
    (make-sg-wgpu-shader-info :vs-mod vs-mod :fs-mod fs-mod :bgl bgl)))
(defmethod expand-from-foreign (ptr (type sg-wgpu-shader-info-type))
  `(with-foreign-slots ((vs-mod fs-mod bgl) ,ptr (:struct %sg-wgpu-shader-info))
    (make-sg-wgpu-shader-info :vs-mod vs-mod :fs-mod fs-mod :bgl bgl)))
(defmethod translate-into-foreign-memory (value (type sg-wgpu-shader-info-type) ptr)
  (with-foreign-slots ((vs-mod fs-mod bgl) ptr (:struct %sg-wgpu-shader-info))
    (setf 
      vs-mod (sg-wgpu-shader-info-vs-mod value)
      fs-mod (sg-wgpu-shader-info-fs-mod value)
      bgl (sg-wgpu-shader-info-bgl value))))

(defcstruct (%sg-wgpu-pipeline-info :class sg-wgpu-pipeline-info-type)
  (pip (:pointer :void)))

(defstruct sg-wgpu-pipeline-info
  (pip nil))

(defmethod translate-from-foreign (ptr (type sg-wgpu-pipeline-info-type))
  (with-foreign-slots ((pip) ptr (:struct %sg-wgpu-pipeline-info))
    (make-sg-wgpu-pipeline-info :pip pip)))
(defmethod expand-from-foreign (ptr (type sg-wgpu-pipeline-info-type))
  `(with-foreign-slots ((pip) ,ptr (:struct %sg-wgpu-pipeline-info))
    (make-sg-wgpu-pipeline-info :pip pip)))
(defmethod translate-into-foreign-memory (value (type sg-wgpu-pipeline-info-type) ptr)
  (with-foreign-slots ((pip) ptr (:struct %sg-wgpu-pipeline-info))
    (setf 
      pip (sg-wgpu-pipeline-info-pip value))))

(defcstruct (%sg-wgpu-pass-info :class sg-wgpu-pass-info-type)
  (color-view (:array (:pointer :void) 4))
  (resolve-view (:array (:pointer :void) 4))
  (ds-view (:pointer :void)))

(defstruct sg-wgpu-pass-info
  (color-view (make-array 4))
  (resolve-view (make-array 4))
  (ds-view nil))

(defmethod translate-from-foreign (ptr (type sg-wgpu-pass-info-type))
  (with-foreign-slots ((color-view resolve-view ds-view) ptr (:struct %sg-wgpu-pass-info))
    (make-sg-wgpu-pass-info :color-view color-view :resolve-view resolve-view :ds-view ds-view)))
(defmethod expand-from-foreign (ptr (type sg-wgpu-pass-info-type))
  `(with-foreign-slots ((color-view resolve-view ds-view) ,ptr (:struct %sg-wgpu-pass-info))
    (make-sg-wgpu-pass-info :color-view color-view :resolve-view resolve-view :ds-view ds-view)))
(defmethod translate-into-foreign-memory (value (type sg-wgpu-pass-info-type) ptr)
  (with-foreign-slots ((color-view resolve-view ds-view) ptr (:struct %sg-wgpu-pass-info))
    (setf 
      color-view (sg-wgpu-pass-info-color-view value)
      resolve-view (sg-wgpu-pass-info-resolve-view value)
      ds-view (sg-wgpu-pass-info-ds-view value))))

(defcstruct (%sg-gl-buffer-info :class sg-gl-buffer-info-type)
  (buf (:array :unsigned-int 2))
  (active-slot :int))

(defstruct sg-gl-buffer-info
  (buf (make-array 2))
  (active-slot 0))

(defmethod translate-from-foreign (ptr (type sg-gl-buffer-info-type))
  (with-foreign-slots ((buf active-slot) ptr (:struct %sg-gl-buffer-info))
    (make-sg-gl-buffer-info :buf buf :active-slot active-slot)))
(defmethod expand-from-foreign (ptr (type sg-gl-buffer-info-type))
  `(with-foreign-slots ((buf active-slot) ,ptr (:struct %sg-gl-buffer-info))
    (make-sg-gl-buffer-info :buf buf :active-slot active-slot)))
(defmethod translate-into-foreign-memory (value (type sg-gl-buffer-info-type) ptr)
  (with-foreign-slots ((buf active-slot) ptr (:struct %sg-gl-buffer-info))
    (setf 
      buf (sg-gl-buffer-info-buf value)
      active-slot (sg-gl-buffer-info-active-slot value))))

(defcstruct (%sg-gl-image-info :class sg-gl-image-info-type)
  (tex (:array :unsigned-int 2))
  (tex-target :unsigned-int)
  (msaa-render-buffer :unsigned-int)
  (active-slot :int))

(defstruct sg-gl-image-info
  (tex (make-array 2))
  (tex-target 0)
  (msaa-render-buffer 0)
  (active-slot 0))

(defmethod translate-from-foreign (ptr (type sg-gl-image-info-type))
  (with-foreign-slots ((tex tex-target msaa-render-buffer active-slot) ptr (:struct %sg-gl-image-info))
    (make-sg-gl-image-info :tex tex :tex-target tex-target :msaa-render-buffer msaa-render-buffer :active-slot active-slot)))
(defmethod expand-from-foreign (ptr (type sg-gl-image-info-type))
  `(with-foreign-slots ((tex tex-target msaa-render-buffer active-slot) ,ptr (:struct %sg-gl-image-info))
    (make-sg-gl-image-info :tex tex :tex-target tex-target :msaa-render-buffer msaa-render-buffer :active-slot active-slot)))
(defmethod translate-into-foreign-memory (value (type sg-gl-image-info-type) ptr)
  (with-foreign-slots ((tex tex-target msaa-render-buffer active-slot) ptr (:struct %sg-gl-image-info))
    (setf 
      tex (sg-gl-image-info-tex value)
      tex-target (sg-gl-image-info-tex-target value)
      msaa-render-buffer (sg-gl-image-info-msaa-render-buffer value)
      active-slot (sg-gl-image-info-active-slot value))))

(defcstruct (%sg-gl-sampler-info :class sg-gl-sampler-info-type)
  (smp :unsigned-int))

(defstruct sg-gl-sampler-info
  (smp 0))

(defmethod translate-from-foreign (ptr (type sg-gl-sampler-info-type))
  (with-foreign-slots ((smp) ptr (:struct %sg-gl-sampler-info))
    (make-sg-gl-sampler-info :smp smp)))
(defmethod expand-from-foreign (ptr (type sg-gl-sampler-info-type))
  `(with-foreign-slots ((smp) ,ptr (:struct %sg-gl-sampler-info))
    (make-sg-gl-sampler-info :smp smp)))
(defmethod translate-into-foreign-memory (value (type sg-gl-sampler-info-type) ptr)
  (with-foreign-slots ((smp) ptr (:struct %sg-gl-sampler-info))
    (setf 
      smp (sg-gl-sampler-info-smp value))))

(defcstruct (%sg-gl-shader-info :class sg-gl-shader-info-type)
  (prog :unsigned-int))

(defstruct sg-gl-shader-info
  (prog 0))

(defmethod translate-from-foreign (ptr (type sg-gl-shader-info-type))
  (with-foreign-slots ((prog) ptr (:struct %sg-gl-shader-info))
    (make-sg-gl-shader-info :prog prog)))
(defmethod expand-from-foreign (ptr (type sg-gl-shader-info-type))
  `(with-foreign-slots ((prog) ,ptr (:struct %sg-gl-shader-info))
    (make-sg-gl-shader-info :prog prog)))
(defmethod translate-into-foreign-memory (value (type sg-gl-shader-info-type) ptr)
  (with-foreign-slots ((prog) ptr (:struct %sg-gl-shader-info))
    (setf 
      prog (sg-gl-shader-info-prog value))))

(defcstruct (%sg-gl-pass-info :class sg-gl-pass-info-type)
  (frame-buffer :unsigned-int)
  (msaa-resolve-framebuffer (:array :unsigned-int 4)))

(defstruct sg-gl-pass-info
  (frame-buffer 0)
  (msaa-resolve-framebuffer (make-array 4)))

(defmethod translate-from-foreign (ptr (type sg-gl-pass-info-type))
  (with-foreign-slots ((frame-buffer msaa-resolve-framebuffer) ptr (:struct %sg-gl-pass-info))
    (make-sg-gl-pass-info :frame-buffer frame-buffer :msaa-resolve-framebuffer msaa-resolve-framebuffer)))
(defmethod expand-from-foreign (ptr (type sg-gl-pass-info-type))
  `(with-foreign-slots ((frame-buffer msaa-resolve-framebuffer) ,ptr (:struct %sg-gl-pass-info))
    (make-sg-gl-pass-info :frame-buffer frame-buffer :msaa-resolve-framebuffer msaa-resolve-framebuffer)))
(defmethod translate-into-foreign-memory (value (type sg-gl-pass-info-type) ptr)
  (with-foreign-slots ((frame-buffer msaa-resolve-framebuffer) ptr (:struct %sg-gl-pass-info))
    (setf 
      frame-buffer (sg-gl-pass-info-frame-buffer value)
      msaa-resolve-framebuffer (sg-gl-pass-info-msaa-resolve-framebuffer value))))

(defcfun (sg-d3d11-device "sg_d3d11_device") (:pointer :void))

(defcfun (sg-d3d11-device-context "sg_d3d11_device_context") (:pointer :void))

(defcfun (sg-d3d11-query-buffer-info "sg_d3d11_query_buffer_info") (:struct %sg-d3d11-buffer-info)
  (buf (:struct %sg-buffer)))

(defcfun (sg-d3d11-query-image-info "sg_d3d11_query_image_info") (:struct %sg-d3d11-image-info)
  (img (:struct %sg-image)))

(defcfun (sg-d3d11-query-sampler-info "sg_d3d11_query_sampler_info") (:struct %sg-d3d11-sampler-info)
  (smp (:struct %sg-sampler)))

(defcfun (sg-d3d11-query-shader-info "sg_d3d11_query_shader_info") (:struct %sg-d3d11-shader-info)
  (shd (:struct %sg-shader)))

(defcfun (sg-d3d11-query-pipeline-info "sg_d3d11_query_pipeline_info") (:struct %sg-d3d11-pipeline-info)
  (pip (:struct %sg-pipeline)))

(defcfun (sg-d3d11-query-pass-info "sg_d3d11_query_pass_info") (:struct %sg-d3d11-pass-info)
  (pass (:struct %sg-pass)))

(defcfun (sg-mtl-device "sg_mtl_device") (:pointer :void))

(defcfun (sg-mtl-render-command-encoder "sg_mtl_render_command_encoder") (:pointer :void))

(defcfun (sg-mtl-query-buffer-info "sg_mtl_query_buffer_info") (:struct %sg-mtl-buffer-info)
  (buf (:struct %sg-buffer)))

(defcfun (sg-mtl-query-image-info "sg_mtl_query_image_info") (:struct %sg-mtl-image-info)
  (img (:struct %sg-image)))

(defcfun (sg-mtl-query-sampler-info "sg_mtl_query_sampler_info") (:struct %sg-mtl-sampler-info)
  (smp (:struct %sg-sampler)))

(defcfun (sg-mtl-query-shader-info "sg_mtl_query_shader_info") (:struct %sg-mtl-shader-info)
  (shd (:struct %sg-shader)))

(defcfun (sg-mtl-query-pipeline-info "sg_mtl_query_pipeline_info") (:struct %sg-mtl-pipeline-info)
  (pip (:struct %sg-pipeline)))

(defcfun (sg-wgpu-device "sg_wgpu_device") (:pointer :void))

(defcfun (sg-wgpu-queue "sg_wgpu_queue") (:pointer :void))

(defcfun (sg-wgpu-command-encoder "sg_wgpu_command_encoder") (:pointer :void))

(defcfun (sg-wgpu-render-pass-encoder "sg_wgpu_render_pass_encoder") (:pointer :void))

(defcfun (sg-wgpu-query-buffer-info "sg_wgpu_query_buffer_info") (:struct %sg-wgpu-buffer-info)
  (buf (:struct %sg-buffer)))

(defcfun (sg-wgpu-query-image-info "sg_wgpu_query_image_info") (:struct %sg-wgpu-image-info)
  (img (:struct %sg-image)))

(defcfun (sg-wgpu-query-sampler-info "sg_wgpu_query_sampler_info") (:struct %sg-wgpu-sampler-info)
  (smp (:struct %sg-sampler)))

(defcfun (sg-wgpu-query-shader-info "sg_wgpu_query_shader_info") (:struct %sg-wgpu-shader-info)
  (shd (:struct %sg-shader)))

(defcfun (sg-wgpu-query-pipeline-info "sg_wgpu_query_pipeline_info") (:struct %sg-wgpu-pipeline-info)
  (pip (:struct %sg-pipeline)))

(defcfun (sg-wgpu-query-pass-info "sg_wgpu_query_pass_info") (:struct %sg-wgpu-pass-info)
  (pass (:struct %sg-pass)))

(defcfun (sg-gl-query-buffer-info "sg_gl_query_buffer_info") (:struct %sg-gl-buffer-info)
  (buf (:struct %sg-buffer)))

(defcfun (sg-gl-query-image-info "sg_gl_query_image_info") (:struct %sg-gl-image-info)
  (img (:struct %sg-image)))

(defcfun (sg-gl-query-sampler-info "sg_gl_query_sampler_info") (:struct %sg-gl-sampler-info)
  (smp (:struct %sg-sampler)))

(defcfun (sg-gl-query-shader-info "sg_gl_query_shader_info") (:struct %sg-gl-shader-info)
  (shd (:struct %sg-shader)))

(defcfun (sg-gl-query-pass-info "sg_gl_query_pass_info") (:struct %sg-gl-pass-info)
  (pass (:struct %sg-pass)))

(defconstant +sapp-max-touchpoints+ 8)
(defconstant +sapp-max-mousebuttons+ 3)
(defconstant +sapp-max-keycodes+ 512)
(defconstant +sapp-max-iconimages+ 8)

(defcenum sapp-event-type
  (:sapp-eventtype-invalid 0)
  (:sapp-eventtype-key-down 1)
  (:sapp-eventtype-key-up 2)
  (:sapp-eventtype-char 3)
  (:sapp-eventtype-mouse-down 4)
  (:sapp-eventtype-mouse-up 5)
  (:sapp-eventtype-mouse-scroll 6)
  (:sapp-eventtype-mouse-move 7)
  (:sapp-eventtype-mouse-enter 8)
  (:sapp-eventtype-mouse-leave 9)
  (:sapp-eventtype-touches-began 10)
  (:sapp-eventtype-touches-moved 11)
  (:sapp-eventtype-touches-ended 12)
  (:sapp-eventtype-touches-cancelled 13)
  (:sapp-eventtype-resized 14)
  (:sapp-eventtype-iconified 15)
  (:sapp-eventtype-restored 16)
  (:sapp-eventtype-focused 17)
  (:sapp-eventtype-unfocused 18)
  (:sapp-eventtype-suspended 19)
  (:sapp-eventtype-resumed 20)
  (:sapp-eventtype-quit-requested 21)
  (:sapp-eventtype-clipboard-pasted 22)
  (:sapp-eventtype-files-dropped 23)
  (:-sapp-eventtype-num 24)
  (:-sapp-eventtype-force-u32 2147483647))

(defcenum sapp-keycode
  (:sapp-keycode-invalid 0)
  (:sapp-keycode-space 32)
  (:sapp-keycode-apostrophe 39)
  (:sapp-keycode-comma 44)
  (:sapp-keycode-minus 45)
  (:sapp-keycode-period 46)
  (:sapp-keycode-slash 47)
  (:sapp-keycode-0 48)
  (:sapp-keycode-1 49)
  (:sapp-keycode-2 50)
  (:sapp-keycode-3 51)
  (:sapp-keycode-4 52)
  (:sapp-keycode-5 53)
  (:sapp-keycode-6 54)
  (:sapp-keycode-7 55)
  (:sapp-keycode-8 56)
  (:sapp-keycode-9 57)
  (:sapp-keycode-semicolon 59)
  (:sapp-keycode-equal 61)
  (:sapp-keycode-a 65)
  (:sapp-keycode-b 66)
  (:sapp-keycode-c 67)
  (:sapp-keycode-d 68)
  (:sapp-keycode-e 69)
  (:sapp-keycode-f 70)
  (:sapp-keycode-g 71)
  (:sapp-keycode-h 72)
  (:sapp-keycode-i 73)
  (:sapp-keycode-j 74)
  (:sapp-keycode-k 75)
  (:sapp-keycode-l 76)
  (:sapp-keycode-m 77)
  (:sapp-keycode-n 78)
  (:sapp-keycode-o 79)
  (:sapp-keycode-p 80)
  (:sapp-keycode-q 81)
  (:sapp-keycode-r 82)
  (:sapp-keycode-s 83)
  (:sapp-keycode-t 84)
  (:sapp-keycode-u 85)
  (:sapp-keycode-v 86)
  (:sapp-keycode-w 87)
  (:sapp-keycode-x 88)
  (:sapp-keycode-y 89)
  (:sapp-keycode-z 90)
  (:sapp-keycode-left-bracket 91)
  (:sapp-keycode-backslash 92)
  (:sapp-keycode-right-bracket 93)
  (:sapp-keycode-grave-accent 96)
  (:sapp-keycode-world-1 161)
  (:sapp-keycode-world-2 162)
  (:sapp-keycode-escape 256)
  (:sapp-keycode-enter 257)
  (:sapp-keycode-tab 258)
  (:sapp-keycode-backspace 259)
  (:sapp-keycode-insert 260)
  (:sapp-keycode-delete 261)
  (:sapp-keycode-right 262)
  (:sapp-keycode-left 263)
  (:sapp-keycode-down 264)
  (:sapp-keycode-up 265)
  (:sapp-keycode-page-up 266)
  (:sapp-keycode-page-down 267)
  (:sapp-keycode-home 268)
  (:sapp-keycode-end 269)
  (:sapp-keycode-caps-lock 280)
  (:sapp-keycode-scroll-lock 281)
  (:sapp-keycode-num-lock 282)
  (:sapp-keycode-print-screen 283)
  (:sapp-keycode-pause 284)
  (:sapp-keycode-f1 290)
  (:sapp-keycode-f2 291)
  (:sapp-keycode-f3 292)
  (:sapp-keycode-f4 293)
  (:sapp-keycode-f5 294)
  (:sapp-keycode-f6 295)
  (:sapp-keycode-f7 296)
  (:sapp-keycode-f8 297)
  (:sapp-keycode-f9 298)
  (:sapp-keycode-f10 299)
  (:sapp-keycode-f11 300)
  (:sapp-keycode-f12 301)
  (:sapp-keycode-f13 302)
  (:sapp-keycode-f14 303)
  (:sapp-keycode-f15 304)
  (:sapp-keycode-f16 305)
  (:sapp-keycode-f17 306)
  (:sapp-keycode-f18 307)
  (:sapp-keycode-f19 308)
  (:sapp-keycode-f20 309)
  (:sapp-keycode-f21 310)
  (:sapp-keycode-f22 311)
  (:sapp-keycode-f23 312)
  (:sapp-keycode-f24 313)
  (:sapp-keycode-f25 314)
  (:sapp-keycode-kp-0 320)
  (:sapp-keycode-kp-1 321)
  (:sapp-keycode-kp-2 322)
  (:sapp-keycode-kp-3 323)
  (:sapp-keycode-kp-4 324)
  (:sapp-keycode-kp-5 325)
  (:sapp-keycode-kp-6 326)
  (:sapp-keycode-kp-7 327)
  (:sapp-keycode-kp-8 328)
  (:sapp-keycode-kp-9 329)
  (:sapp-keycode-kp-decimal 330)
  (:sapp-keycode-kp-divide 331)
  (:sapp-keycode-kp-multiply 332)
  (:sapp-keycode-kp-subtract 333)
  (:sapp-keycode-kp-add 334)
  (:sapp-keycode-kp-enter 335)
  (:sapp-keycode-kp-equal 336)
  (:sapp-keycode-left-shift 340)
  (:sapp-keycode-left-control 341)
  (:sapp-keycode-left-alt 342)
  (:sapp-keycode-left-super 343)
  (:sapp-keycode-right-shift 344)
  (:sapp-keycode-right-control 345)
  (:sapp-keycode-right-alt 346)
  (:sapp-keycode-right-super 347)
  (:sapp-keycode-menu 348))

(defcenum sapp-android-tooltype
  (:sapp-androidtooltype-unknown 0)
  (:sapp-androidtooltype-finger 1)
  (:sapp-androidtooltype-stylus 2)
  (:sapp-androidtooltype-mouse 3))

(defcstruct (%sapp-touchpoint :class sapp-touchpoint-type)
  (identifier :unsigned-long)
  (pos-x :float)
  (pos-y :float)
  (android-tooltype sapp-android-tooltype)
  (changed :int))

(defstruct sapp-touchpoint
  (identifier 0)
  (pos-x 0.0)
  (pos-y 0.0)
  (android-tooltype nil)
  (changed nil))

(defmethod translate-from-foreign (ptr (type sapp-touchpoint-type))
  (with-foreign-slots ((identifier pos-x pos-y android-tooltype changed) ptr (:struct %sapp-touchpoint))
    (make-sapp-touchpoint :identifier identifier :pos-x pos-x :pos-y pos-y :android-tooltype android-tooltype :changed changed)))
(defmethod expand-from-foreign (ptr (type sapp-touchpoint-type))
  `(with-foreign-slots ((identifier pos-x pos-y android-tooltype changed) ,ptr (:struct %sapp-touchpoint))
    (make-sapp-touchpoint :identifier identifier :pos-x pos-x :pos-y pos-y :android-tooltype android-tooltype :changed changed)))
(defmethod translate-into-foreign-memory (value (type sapp-touchpoint-type) ptr)
  (with-foreign-slots ((identifier pos-x pos-y android-tooltype changed) ptr (:struct %sapp-touchpoint))
    (setf 
      identifier (sapp-touchpoint-identifier value)
      pos-x (sapp-touchpoint-pos-x value)
      pos-y (sapp-touchpoint-pos-y value)
      android-tooltype (sapp-touchpoint-android-tooltype value)
      changed (sapp-touchpoint-changed value))))

(defcenum sapp-mousebutton
  (:sapp-mousebutton-left 0)
  (:sapp-mousebutton-right 1)
  (:sapp-mousebutton-middle 2)
  (:sapp-mousebutton-invalid 256))

(defconstant +sapp-modifier-shift+ 1)
(defconstant +sapp-modifier-ctrl+ 2)
(defconstant +sapp-modifier-alt+ 4)
(defconstant +sapp-modifier-super+ 8)
(defconstant +sapp-modifier-lmb+ 256)
(defconstant +sapp-modifier-rmb+ 512)
(defconstant +sapp-modifier-mmb+ 1024)

(defcstruct (%sapp-event :class sapp-event-type)
  (frame-count :unsigned-long-long)
  (type sapp-event-type)
  (key-code sapp-keycode)
  (char-code :unsigned-int)
  (key-repeat :int)
  (modifiers :unsigned-int)
  (mouse-button sapp-mousebutton)
  (mouse-x :float)
  (mouse-y :float)
  (mouse-dx :float)
  (mouse-dy :float)
  (scroll-x :float)
  (scroll-y :float)
  (num-touches :int)
  (touches (:array (:struct %sapp-touchpoint) 8))
  (window-width :int)
  (window-height :int)
  (framebuffer-width :int)
  (framebuffer-height :int))

(defstruct sapp-event
  (frame-count 0)
  (type nil)
  (key-code nil)
  (char-code 0)
  (key-repeat nil)
  (modifiers 0)
  (mouse-button nil)
  (mouse-x 0.0)
  (mouse-y 0.0)
  (mouse-dx 0.0)
  (mouse-dy 0.0)
  (scroll-x 0.0)
  (scroll-y 0.0)
  (num-touches 0)
  (touches (make-array 8))
  (window-width 0)
  (window-height 0)
  (framebuffer-width 0)
  (framebuffer-height 0))

(defmethod translate-from-foreign (ptr (type sapp-event-type))
  (with-foreign-slots ((frame-count type key-code char-code key-repeat modifiers mouse-button mouse-x mouse-y mouse-dx mouse-dy scroll-x scroll-y num-touches touches window-width window-height framebuffer-width framebuffer-height) ptr (:struct %sapp-event))
    (make-sapp-event :frame-count frame-count :type type :key-code key-code :char-code char-code :key-repeat key-repeat :modifiers modifiers :mouse-button mouse-button :mouse-x mouse-x :mouse-y mouse-y :mouse-dx mouse-dx :mouse-dy mouse-dy :scroll-x scroll-x :scroll-y scroll-y :num-touches num-touches :touches touches :window-width window-width :window-height window-height :framebuffer-width framebuffer-width :framebuffer-height framebuffer-height)))
(defmethod expand-from-foreign (ptr (type sapp-event-type))
  `(with-foreign-slots ((frame-count type key-code char-code key-repeat modifiers mouse-button mouse-x mouse-y mouse-dx mouse-dy scroll-x scroll-y num-touches touches window-width window-height framebuffer-width framebuffer-height) ,ptr (:struct %sapp-event))
    (make-sapp-event :frame-count frame-count :type type :key-code key-code :char-code char-code :key-repeat key-repeat :modifiers modifiers :mouse-button mouse-button :mouse-x mouse-x :mouse-y mouse-y :mouse-dx mouse-dx :mouse-dy mouse-dy :scroll-x scroll-x :scroll-y scroll-y :num-touches num-touches :touches touches :window-width window-width :window-height window-height :framebuffer-width framebuffer-width :framebuffer-height framebuffer-height)))
(defmethod translate-into-foreign-memory (value (type sapp-event-type) ptr)
  (with-foreign-slots ((frame-count type key-code char-code key-repeat modifiers mouse-button mouse-x mouse-y mouse-dx mouse-dy scroll-x scroll-y num-touches touches window-width window-height framebuffer-width framebuffer-height) ptr (:struct %sapp-event))
    (setf 
      frame-count (sapp-event-frame-count value)
      type (sapp-event-type value)
      key-code (sapp-event-key-code value)
      char-code (sapp-event-char-code value)
      key-repeat (sapp-event-key-repeat value)
      modifiers (sapp-event-modifiers value)
      mouse-button (sapp-event-mouse-button value)
      mouse-x (sapp-event-mouse-x value)
      mouse-y (sapp-event-mouse-y value)
      mouse-dx (sapp-event-mouse-dx value)
      mouse-dy (sapp-event-mouse-dy value)
      scroll-x (sapp-event-scroll-x value)
      scroll-y (sapp-event-scroll-y value)
      num-touches (sapp-event-num-touches value)
      touches (sapp-event-touches value)
      window-width (sapp-event-window-width value)
      window-height (sapp-event-window-height value)
      framebuffer-width (sapp-event-framebuffer-width value)
      framebuffer-height (sapp-event-framebuffer-height value))))

(defcstruct (%sapp-range :class sapp-range-type)
  (ptr (:pointer :void))
  (size :unsigned-long))

(defstruct sapp-range
  (ptr nil)
  (size 0))

(defmethod translate-from-foreign (ptr (type sapp-range-type))
  (with-foreign-slots ((ptr size) ptr (:struct %sapp-range))
    (make-sapp-range :ptr ptr :size size)))
(defmethod expand-from-foreign (ptr (type sapp-range-type))
  `(with-foreign-slots ((ptr size) ,ptr (:struct %sapp-range))
    (make-sapp-range :ptr ptr :size size)))
(defmethod translate-into-foreign-memory (value (type sapp-range-type) ptr)
  (with-foreign-slots ((ptr size) ptr (:struct %sapp-range))
    (setf 
      ptr (sapp-range-ptr value)
      size (sapp-range-size value))))

(defcstruct (%sapp-image-desc :class sapp-image-desc-type)
  (width :int)
  (height :int)
  (pixels (:struct %sapp-range)))

(defstruct sapp-image-desc
  (width 0)
  (height 0)
  (pixels nil))

(defmethod translate-from-foreign (ptr (type sapp-image-desc-type))
  (with-foreign-slots ((width height pixels) ptr (:struct %sapp-image-desc))
    (make-sapp-image-desc :width width :height height :pixels pixels)))
(defmethod expand-from-foreign (ptr (type sapp-image-desc-type))
  `(with-foreign-slots ((width height pixels) ,ptr (:struct %sapp-image-desc))
    (make-sapp-image-desc :width width :height height :pixels pixels)))
(defmethod translate-into-foreign-memory (value (type sapp-image-desc-type) ptr)
  (with-foreign-slots ((width height pixels) ptr (:struct %sapp-image-desc))
    (setf 
      width (sapp-image-desc-width value)
      height (sapp-image-desc-height value)
      pixels (sapp-image-desc-pixels value))))

(defcstruct (%sapp-icon-desc :class sapp-icon-desc-type)
  (sokol-default :int)
  (images (:array (:struct %sapp-image-desc) 8)))

(defstruct sapp-icon-desc
  (sokol-default nil)
  (images (make-array 8)))

(defmethod translate-from-foreign (ptr (type sapp-icon-desc-type))
  (with-foreign-slots ((sokol-default images) ptr (:struct %sapp-icon-desc))
    (make-sapp-icon-desc :sokol-default sokol-default :images images)))
(defmethod expand-from-foreign (ptr (type sapp-icon-desc-type))
  `(with-foreign-slots ((sokol-default images) ,ptr (:struct %sapp-icon-desc))
    (make-sapp-icon-desc :sokol-default sokol-default :images images)))
(defmethod translate-into-foreign-memory (value (type sapp-icon-desc-type) ptr)
  (with-foreign-slots ((sokol-default images) ptr (:struct %sapp-icon-desc))
    (setf 
      sokol-default (sapp-icon-desc-sokol-default value)
      images (sapp-icon-desc-images value))))

(defcstruct (%sapp-allocator :class sapp-allocator-type)
  (alloc-fn :pointer)
  (free-fn :pointer)
  (user-data (:pointer :void)))

(defstruct sapp-allocator
  (alloc-fn nil)
  (free-fn nil)
  (user-data nil))

(defmethod translate-from-foreign (ptr (type sapp-allocator-type))
  (with-foreign-slots ((alloc-fn free-fn user-data) ptr (:struct %sapp-allocator))
    (make-sapp-allocator :alloc-fn alloc-fn :free-fn free-fn :user-data user-data)))
(defmethod expand-from-foreign (ptr (type sapp-allocator-type))
  `(with-foreign-slots ((alloc-fn free-fn user-data) ,ptr (:struct %sapp-allocator))
    (make-sapp-allocator :alloc-fn alloc-fn :free-fn free-fn :user-data user-data)))
(defmethod translate-into-foreign-memory (value (type sapp-allocator-type) ptr)
  (with-foreign-slots ((alloc-fn free-fn user-data) ptr (:struct %sapp-allocator))
    (setf 
      alloc-fn (sapp-allocator-alloc-fn value)
      free-fn (sapp-allocator-free-fn value)
      user-data (sapp-allocator-user-data value))))

(defcenum sapp-log-item
  (:sapp-logitem-ok 0)
  (:sapp-logitem-malloc-failed 1)
  (:sapp-logitem-macos-invalid-nsopengl-profile 2)
  (:sapp-logitem-win32-load-opengl32-dll-failed 3)
  (:sapp-logitem-win32-create-helper-window-failed 4)
  (:sapp-logitem-win32-helper-window-getdc-failed 5)
  (:sapp-logitem-win32-dummy-context-set-pixelformat-failed 6)
  (:sapp-logitem-win32-create-dummy-context-failed 7)
  (:sapp-logitem-win32-dummy-context-make-current-failed 8)
  (:sapp-logitem-win32-get-pixelformat-attrib-failed 9)
  (:sapp-logitem-win32-wgl-find-pixelformat-failed 10)
  (:sapp-logitem-win32-wgl-describe-pixelformat-failed 11)
  (:sapp-logitem-win32-wgl-set-pixelformat-failed 12)
  (:sapp-logitem-win32-wgl-arb-create-context-required 13)
  (:sapp-logitem-win32-wgl-arb-create-context-profile-required 14)
  (:sapp-logitem-win32-wgl-opengl-3-2-not-supported 15)
  (:sapp-logitem-win32-wgl-opengl-profile-not-supported 16)
  (:sapp-logitem-win32-wgl-incompatible-device-context 17)
  (:sapp-logitem-win32-wgl-create-context-attribs-failed-other 18)
  (:sapp-logitem-win32-d3d11-create-device-and-swapchain-with-debug-failed 19)
  (:sapp-logitem-win32-d3d11-get-idxgifactory-failed 20)
  (:sapp-logitem-win32-d3d11-get-idxgiadapter-failed 21)
  (:sapp-logitem-win32-d3d11-query-interface-idxgidevice1-failed 22)
  (:sapp-logitem-win32-register-raw-input-devices-failed-mouse-lock 23)
  (:sapp-logitem-win32-register-raw-input-devices-failed-mouse-unlock 24)
  (:sapp-logitem-win32-get-raw-input-data-failed 25)
  (:sapp-logitem-linux-glx-load-libgl-failed 26)
  (:sapp-logitem-linux-glx-load-entry-points-failed 27)
  (:sapp-logitem-linux-glx-extension-not-found 28)
  (:sapp-logitem-linux-glx-query-version-failed 29)
  (:sapp-logitem-linux-glx-version-too-low 30)
  (:sapp-logitem-linux-glx-no-glxfbconfigs 31)
  (:sapp-logitem-linux-glx-no-suitable-glxfbconfig 32)
  (:sapp-logitem-linux-glx-get-visual-from-fbconfig-failed 33)
  (:sapp-logitem-linux-glx-required-extensions-missing 34)
  (:sapp-logitem-linux-glx-create-context-failed 35)
  (:sapp-logitem-linux-glx-create-window-failed 36)
  (:sapp-logitem-linux-x11-create-window-failed 37)
  (:sapp-logitem-linux-egl-bind-opengl-api-failed 38)
  (:sapp-logitem-linux-egl-bind-opengl-es-api-failed 39)
  (:sapp-logitem-linux-egl-get-display-failed 40)
  (:sapp-logitem-linux-egl-initialize-failed 41)
  (:sapp-logitem-linux-egl-no-configs 42)
  (:sapp-logitem-linux-egl-no-native-visual 43)
  (:sapp-logitem-linux-egl-get-visual-info-failed 44)
  (:sapp-logitem-linux-egl-create-window-surface-failed 45)
  (:sapp-logitem-linux-egl-create-context-failed 46)
  (:sapp-logitem-linux-egl-make-current-failed 47)
  (:sapp-logitem-linux-x11-open-display-failed 48)
  (:sapp-logitem-linux-x11-query-system-dpi-failed 49)
  (:sapp-logitem-linux-x11-dropped-file-uri-wrong-scheme 50)
  (:sapp-logitem-android-unsupported-input-event-input-cb 51)
  (:sapp-logitem-android-unsupported-input-event-main-cb 52)
  (:sapp-logitem-android-read-msg-failed 53)
  (:sapp-logitem-android-write-msg-failed 54)
  (:sapp-logitem-android-msg-create 55)
  (:sapp-logitem-android-msg-resume 56)
  (:sapp-logitem-android-msg-pause 57)
  (:sapp-logitem-android-msg-focus 58)
  (:sapp-logitem-android-msg-no-focus 59)
  (:sapp-logitem-android-msg-set-native-window 60)
  (:sapp-logitem-android-msg-set-input-queue 61)
  (:sapp-logitem-android-msg-destroy 62)
  (:sapp-logitem-android-unknown-msg 63)
  (:sapp-logitem-android-loop-thread-started 64)
  (:sapp-logitem-android-loop-thread-done 65)
  (:sapp-logitem-android-native-activity-onstart 66)
  (:sapp-logitem-android-native-activity-onresume 67)
  (:sapp-logitem-android-native-activity-onsaveinstancestate 68)
  (:sapp-logitem-android-native-activity-onwindowfocuschanged 69)
  (:sapp-logitem-android-native-activity-onpause 70)
  (:sapp-logitem-android-native-activity-onstop 71)
  (:sapp-logitem-android-native-activity-onnativewindowcreated 72)
  (:sapp-logitem-android-native-activity-onnativewindowdestroyed 73)
  (:sapp-logitem-android-native-activity-oninputqueuecreated 74)
  (:sapp-logitem-android-native-activity-oninputqueuedestroyed 75)
  (:sapp-logitem-android-native-activity-onconfigurationchanged 76)
  (:sapp-logitem-android-native-activity-onlowmemory 77)
  (:sapp-logitem-android-native-activity-ondestroy 78)
  (:sapp-logitem-android-native-activity-done 79)
  (:sapp-logitem-android-native-activity-oncreate 80)
  (:sapp-logitem-android-create-thread-pipe-failed 81)
  (:sapp-logitem-android-native-activity-create-success 82)
  (:sapp-logitem-wgpu-swapchain-create-surface-failed 83)
  (:sapp-logitem-wgpu-swapchain-create-swapchain-failed 84)
  (:sapp-logitem-wgpu-swapchain-create-depth-stencil-texture-failed 85)
  (:sapp-logitem-wgpu-swapchain-create-depth-stencil-view-failed 86)
  (:sapp-logitem-wgpu-swapchain-create-msaa-texture-failed 87)
  (:sapp-logitem-wgpu-swapchain-create-msaa-view-failed 88)
  (:sapp-logitem-wgpu-request-device-status-error 89)
  (:sapp-logitem-wgpu-request-device-status-unknown 90)
  (:sapp-logitem-wgpu-request-adapter-status-unavailable 91)
  (:sapp-logitem-wgpu-request-adapter-status-error 92)
  (:sapp-logitem-wgpu-request-adapter-status-unknown 93)
  (:sapp-logitem-wgpu-create-instance-failed 94)
  (:sapp-logitem-image-data-size-mismatch 95)
  (:sapp-logitem-dropped-file-path-too-long 96)
  (:sapp-logitem-clipboard-string-too-big 97))

(defcstruct (%sapp-logger :class sapp-logger-type)
  (func :pointer)
  (user-data (:pointer :void)))

(defstruct sapp-logger
  (func nil)
  (user-data nil))

(defmethod translate-from-foreign (ptr (type sapp-logger-type))
  (with-foreign-slots ((func user-data) ptr (:struct %sapp-logger))
    (make-sapp-logger :func func :user-data user-data)))
(defmethod expand-from-foreign (ptr (type sapp-logger-type))
  `(with-foreign-slots ((func user-data) ,ptr (:struct %sapp-logger))
    (make-sapp-logger :func func :user-data user-data)))
(defmethod translate-into-foreign-memory (value (type sapp-logger-type) ptr)
  (with-foreign-slots ((func user-data) ptr (:struct %sapp-logger))
    (setf 
      func (sapp-logger-func value)
      user-data (sapp-logger-user-data value))))

(defcstruct (%sapp-desc :class sapp-desc-type)
  (init-cb :pointer)
  (frame-cb :pointer)
  (cleanup-cb :pointer)
  (event-cb :pointer)
  (user-data (:pointer :void))
  (init-userdata-cb :pointer)
  (frame-userdata-cb :pointer)
  (cleanup-userdata-cb :pointer)
  (event-userdata-cb :pointer)
  (width :int)
  (height :int)
  (sample-count :int)
  (swap-interval :int)
  (high-dpi :int)
  (fullscreen :int)
  (alpha :int)
  (window-title (:pointer :char))
  (enable-clipboard :int)
  (clipboard-size :int)
  (enable-dragndrop :int)
  (max-dropped-files :int)
  (max-dropped-file-path-length :int)
  (icon (:struct %sapp-icon-desc))
  (allocator (:struct %sapp-allocator))
  (logger (:struct %sapp-logger))
  (gl-major-version :int)
  (gl-minor-version :int)
  (win32-console-utf8 :int)
  (win32-console-create :int)
  (win32-console-attach :int)
  (html5-canvas-name (:pointer :char))
  (html5-canvas-resize :int)
  (html5-preserve-drawing-buffer :int)
  (html5-premultiplied-alpha :int)
  (html5-ask-leave-site :int)
  (ios-keyboard-resizes-canvas :int))

(defstruct sapp-desc
  (init-cb nil)
  (frame-cb nil)
  (cleanup-cb nil)
  (event-cb nil)
  (user-data nil)
  (init-userdata-cb nil)
  (frame-userdata-cb nil)
  (cleanup-userdata-cb nil)
  (event-userdata-cb nil)
  (width 0)
  (height 0)
  (sample-count 0)
  (swap-interval 0)
  (high-dpi nil)
  (fullscreen nil)
  (alpha nil)
  (window-title nil)
  (enable-clipboard nil)
  (clipboard-size 0)
  (enable-dragndrop nil)
  (max-dropped-files 0)
  (max-dropped-file-path-length 0)
  (icon nil)
  (allocator nil)
  (logger nil)
  (gl-major-version 0)
  (gl-minor-version 0)
  (win32-console-utf8 nil)
  (win32-console-create nil)
  (win32-console-attach nil)
  (html5-canvas-name nil)
  (html5-canvas-resize nil)
  (html5-preserve-drawing-buffer nil)
  (html5-premultiplied-alpha nil)
  (html5-ask-leave-site nil)
  (ios-keyboard-resizes-canvas nil))

(defmethod translate-from-foreign (ptr (type sapp-desc-type))
  (with-foreign-slots ((init-cb frame-cb cleanup-cb event-cb user-data init-userdata-cb frame-userdata-cb cleanup-userdata-cb event-userdata-cb width height sample-count swap-interval high-dpi fullscreen alpha window-title enable-clipboard clipboard-size enable-dragndrop max-dropped-files max-dropped-file-path-length icon allocator logger gl-major-version gl-minor-version win32-console-utf8 win32-console-create win32-console-attach html5-canvas-name html5-canvas-resize html5-preserve-drawing-buffer html5-premultiplied-alpha html5-ask-leave-site ios-keyboard-resizes-canvas) ptr (:struct %sapp-desc))
    (make-sapp-desc :init-cb init-cb :frame-cb frame-cb :cleanup-cb cleanup-cb :event-cb event-cb :user-data user-data :init-userdata-cb init-userdata-cb :frame-userdata-cb frame-userdata-cb :cleanup-userdata-cb cleanup-userdata-cb :event-userdata-cb event-userdata-cb :width width :height height :sample-count sample-count :swap-interval swap-interval :high-dpi high-dpi :fullscreen fullscreen :alpha alpha :window-title window-title :enable-clipboard enable-clipboard :clipboard-size clipboard-size :enable-dragndrop enable-dragndrop :max-dropped-files max-dropped-files :max-dropped-file-path-length max-dropped-file-path-length :icon icon :allocator allocator :logger logger :gl-major-version gl-major-version :gl-minor-version gl-minor-version :win32-console-utf8 win32-console-utf8 :win32-console-create win32-console-create :win32-console-attach win32-console-attach :html5-canvas-name html5-canvas-name :html5-canvas-resize html5-canvas-resize :html5-preserve-drawing-buffer html5-preserve-drawing-buffer :html5-premultiplied-alpha html5-premultiplied-alpha :html5-ask-leave-site html5-ask-leave-site :ios-keyboard-resizes-canvas ios-keyboard-resizes-canvas)))
(defmethod expand-from-foreign (ptr (type sapp-desc-type))
  `(with-foreign-slots ((init-cb frame-cb cleanup-cb event-cb user-data init-userdata-cb frame-userdata-cb cleanup-userdata-cb event-userdata-cb width height sample-count swap-interval high-dpi fullscreen alpha window-title enable-clipboard clipboard-size enable-dragndrop max-dropped-files max-dropped-file-path-length icon allocator logger gl-major-version gl-minor-version win32-console-utf8 win32-console-create win32-console-attach html5-canvas-name html5-canvas-resize html5-preserve-drawing-buffer html5-premultiplied-alpha html5-ask-leave-site ios-keyboard-resizes-canvas) ,ptr (:struct %sapp-desc))
    (make-sapp-desc :init-cb init-cb :frame-cb frame-cb :cleanup-cb cleanup-cb :event-cb event-cb :user-data user-data :init-userdata-cb init-userdata-cb :frame-userdata-cb frame-userdata-cb :cleanup-userdata-cb cleanup-userdata-cb :event-userdata-cb event-userdata-cb :width width :height height :sample-count sample-count :swap-interval swap-interval :high-dpi high-dpi :fullscreen fullscreen :alpha alpha :window-title window-title :enable-clipboard enable-clipboard :clipboard-size clipboard-size :enable-dragndrop enable-dragndrop :max-dropped-files max-dropped-files :max-dropped-file-path-length max-dropped-file-path-length :icon icon :allocator allocator :logger logger :gl-major-version gl-major-version :gl-minor-version gl-minor-version :win32-console-utf8 win32-console-utf8 :win32-console-create win32-console-create :win32-console-attach win32-console-attach :html5-canvas-name html5-canvas-name :html5-canvas-resize html5-canvas-resize :html5-preserve-drawing-buffer html5-preserve-drawing-buffer :html5-premultiplied-alpha html5-premultiplied-alpha :html5-ask-leave-site html5-ask-leave-site :ios-keyboard-resizes-canvas ios-keyboard-resizes-canvas)))
(defmethod translate-into-foreign-memory (value (type sapp-desc-type) ptr)
  (with-foreign-slots ((init-cb frame-cb cleanup-cb event-cb user-data init-userdata-cb frame-userdata-cb cleanup-userdata-cb event-userdata-cb width height sample-count swap-interval high-dpi fullscreen alpha window-title enable-clipboard clipboard-size enable-dragndrop max-dropped-files max-dropped-file-path-length icon allocator logger gl-major-version gl-minor-version win32-console-utf8 win32-console-create win32-console-attach html5-canvas-name html5-canvas-resize html5-preserve-drawing-buffer html5-premultiplied-alpha html5-ask-leave-site ios-keyboard-resizes-canvas) ptr (:struct %sapp-desc))
    (setf 
      init-cb (sapp-desc-init-cb value)
      frame-cb (sapp-desc-frame-cb value)
      cleanup-cb (sapp-desc-cleanup-cb value)
      event-cb (sapp-desc-event-cb value)
      user-data (sapp-desc-user-data value)
      init-userdata-cb (sapp-desc-init-userdata-cb value)
      frame-userdata-cb (sapp-desc-frame-userdata-cb value)
      cleanup-userdata-cb (sapp-desc-cleanup-userdata-cb value)
      event-userdata-cb (sapp-desc-event-userdata-cb value)
      width (sapp-desc-width value)
      height (sapp-desc-height value)
      sample-count (sapp-desc-sample-count value)
      swap-interval (sapp-desc-swap-interval value)
      high-dpi (sapp-desc-high-dpi value)
      fullscreen (sapp-desc-fullscreen value)
      alpha (sapp-desc-alpha value)
      window-title (sapp-desc-window-title value)
      enable-clipboard (sapp-desc-enable-clipboard value)
      clipboard-size (sapp-desc-clipboard-size value)
      enable-dragndrop (sapp-desc-enable-dragndrop value)
      max-dropped-files (sapp-desc-max-dropped-files value)
      max-dropped-file-path-length (sapp-desc-max-dropped-file-path-length value)
      icon (sapp-desc-icon value)
      allocator (sapp-desc-allocator value)
      logger (sapp-desc-logger value)
      gl-major-version (sapp-desc-gl-major-version value)
      gl-minor-version (sapp-desc-gl-minor-version value)
      win32-console-utf8 (sapp-desc-win32-console-utf8 value)
      win32-console-create (sapp-desc-win32-console-create value)
      win32-console-attach (sapp-desc-win32-console-attach value)
      html5-canvas-name (sapp-desc-html5-canvas-name value)
      html5-canvas-resize (sapp-desc-html5-canvas-resize value)
      html5-preserve-drawing-buffer (sapp-desc-html5-preserve-drawing-buffer value)
      html5-premultiplied-alpha (sapp-desc-html5-premultiplied-alpha value)
      html5-ask-leave-site (sapp-desc-html5-ask-leave-site value)
      ios-keyboard-resizes-canvas (sapp-desc-ios-keyboard-resizes-canvas value))))

(defcenum sapp-html5-fetch-error
  (:sapp-html5-fetch-error-no-error 0)
  (:sapp-html5-fetch-error-buffer-too-small 1)
  (:sapp-html5-fetch-error-other 2))

(defcstruct (%sapp-html5-fetch-response :class sapp-html5-fetch-response-type)
  (succeeded :int)
  (error-code sapp-html5-fetch-error)
  (file-index :int)
  (data (:struct %sapp-range))
  (buffer (:struct %sapp-range))
  (user-data (:pointer :void)))

(defstruct sapp-html5-fetch-response
  (succeeded nil)
  (error-code nil)
  (file-index 0)
  (data nil)
  (buffer nil)
  (user-data nil))

(defmethod translate-from-foreign (ptr (type sapp-html5-fetch-response-type))
  (with-foreign-slots ((succeeded error-code file-index data buffer user-data) ptr (:struct %sapp-html5-fetch-response))
    (make-sapp-html5-fetch-response :succeeded succeeded :error-code error-code :file-index file-index :data data :buffer buffer :user-data user-data)))
(defmethod expand-from-foreign (ptr (type sapp-html5-fetch-response-type))
  `(with-foreign-slots ((succeeded error-code file-index data buffer user-data) ,ptr (:struct %sapp-html5-fetch-response))
    (make-sapp-html5-fetch-response :succeeded succeeded :error-code error-code :file-index file-index :data data :buffer buffer :user-data user-data)))
(defmethod translate-into-foreign-memory (value (type sapp-html5-fetch-response-type) ptr)
  (with-foreign-slots ((succeeded error-code file-index data buffer user-data) ptr (:struct %sapp-html5-fetch-response))
    (setf 
      succeeded (sapp-html5-fetch-response-succeeded value)
      error-code (sapp-html5-fetch-response-error-code value)
      file-index (sapp-html5-fetch-response-file-index value)
      data (sapp-html5-fetch-response-data value)
      buffer (sapp-html5-fetch-response-buffer value)
      user-data (sapp-html5-fetch-response-user-data value))))

(defcstruct (%sapp-html5-fetch-request :class sapp-html5-fetch-request-type)
  (dropped-file-index :int)
  (callback :pointer)
  (buffer (:struct %sapp-range))
  (user-data (:pointer :void)))

(defstruct sapp-html5-fetch-request
  (dropped-file-index 0)
  (callback nil)
  (buffer nil)
  (user-data nil))

(defmethod translate-from-foreign (ptr (type sapp-html5-fetch-request-type))
  (with-foreign-slots ((dropped-file-index callback buffer user-data) ptr (:struct %sapp-html5-fetch-request))
    (make-sapp-html5-fetch-request :dropped-file-index dropped-file-index :callback callback :buffer buffer :user-data user-data)))
(defmethod expand-from-foreign (ptr (type sapp-html5-fetch-request-type))
  `(with-foreign-slots ((dropped-file-index callback buffer user-data) ,ptr (:struct %sapp-html5-fetch-request))
    (make-sapp-html5-fetch-request :dropped-file-index dropped-file-index :callback callback :buffer buffer :user-data user-data)))
(defmethod translate-into-foreign-memory (value (type sapp-html5-fetch-request-type) ptr)
  (with-foreign-slots ((dropped-file-index callback buffer user-data) ptr (:struct %sapp-html5-fetch-request))
    (setf 
      dropped-file-index (sapp-html5-fetch-request-dropped-file-index value)
      callback (sapp-html5-fetch-request-callback value)
      buffer (sapp-html5-fetch-request-buffer value)
      user-data (sapp-html5-fetch-request-user-data value))))

(defcenum sapp-mouse-cursor
  (:sapp-mousecursor-default 0)
  (:sapp-mousecursor-arrow 1)
  (:sapp-mousecursor-ibeam 2)
  (:sapp-mousecursor-crosshair 3)
  (:sapp-mousecursor-pointing-hand 4)
  (:sapp-mousecursor-resize-ew 5)
  (:sapp-mousecursor-resize-ns 6)
  (:sapp-mousecursor-resize-nwse 7)
  (:sapp-mousecursor-resize-nesw 8)
  (:sapp-mousecursor-resize-all 9)
  (:sapp-mousecursor-not-allowed 10)
  (:-sapp-mousecursor-num 11))

(defcfun (sokol-main "sokol_main") (:struct %sapp-desc)
  (argc :int)
  (argv (:pointer (:pointer :char))))

(defcfun (sapp-isvalid "sapp_isvalid") :int)

(defcfun (sapp-width "sapp_width") :int)

(defcfun (sapp-widthf "sapp_widthf") :float)

(defcfun (sapp-height "sapp_height") :int)

(defcfun (sapp-heightf "sapp_heightf") :float)

(defcfun (sapp-color-format "sapp_color_format") :int)

(defcfun (sapp-depth-format "sapp_depth_format") :int)

(defcfun (sapp-sample-count "sapp_sample_count") :int)

(defcfun (sapp-high-dpi "sapp_high_dpi") :int)

(defcfun (sapp-dpi-scale "sapp_dpi_scale") :float)

(defcfun (sapp-show-keyboard "sapp_show_keyboard") :void
  (show :int))

(defcfun (sapp-keyboard-shown "sapp_keyboard_shown") :int)

(defcfun (sapp-is-fullscreen "sapp_is_fullscreen") :int)

(defcfun (sapp-toggle-fullscreen "sapp_toggle_fullscreen") :void)

(defcfun (sapp-show-mouse "sapp_show_mouse") :void
  (show :int))

(defcfun (sapp-mouse-shown "sapp_mouse_shown") :int)

(defcfun (sapp-lock-mouse "sapp_lock_mouse") :void
  (lock :int))

(defcfun (sapp-mouse-locked "sapp_mouse_locked") :int)

(defcfun (sapp-set-mouse-cursor "sapp_set_mouse_cursor") :void
  (cursor sapp-mouse-cursor))

(defcfun (sapp-get-mouse-cursor "sapp_get_mouse_cursor") sapp-mouse-cursor)

(defcfun (sapp-userdata "sapp_userdata") (:pointer :void))

(defcfun (sapp-query-desc "sapp_query_desc") (:struct %sapp-desc))

(defcfun (sapp-request-quit "sapp_request_quit") :void)

(defcfun (sapp-cancel-quit "sapp_cancel_quit") :void)

(defcfun (sapp-quit "sapp_quit") :void)

(defcfun (sapp-consume-event "sapp_consume_event") :void)

(defcfun (sapp-frame-count "sapp_frame_count") :unsigned-long-long)

(defcfun (sapp-frame-duration "sapp_frame_duration") :double)

(defcfun (sapp-set-clipboard-string "sapp_set_clipboard_string") :void
  (str (:pointer :char)))

(defcfun (sapp-get-clipboard-string "sapp_get_clipboard_string") (:pointer :char))

(defcfun (sapp-set-window-title "sapp_set_window_title") :void
  (str (:pointer :char)))

(defcfun (sapp-set-icon "sapp_set_icon") :void
  (icon_desc (:pointer (:struct %sapp-icon-desc))))

(defcfun (sapp-get-num-dropped-files "sapp_get_num_dropped_files") :int)

(defcfun (sapp-get-dropped-file-path "sapp_get_dropped_file_path") (:pointer :char)
  (index :int))

(defcfun (sapp-run "sapp_run") :void
  (desc (:pointer (:struct %sapp-desc))))

(defcfun (sapp-egl-get-display "sapp_egl_get_display") (:pointer :void))

(defcfun (sapp-egl-get-context "sapp_egl_get_context") (:pointer :void))

(defcfun (sapp-html5-ask-leave-site "sapp_html5_ask_leave_site") :void
  (ask :int))

(defcfun (sapp-html5-get-dropped-file-size "sapp_html5_get_dropped_file_size") :unsigned-int
  (index :int))

(defcfun (sapp-html5-fetch-dropped-file "sapp_html5_fetch_dropped_file") :void
  (request (:pointer (:struct %sapp-html5-fetch-request))))

(defcfun (sapp-metal-get-device "sapp_metal_get_device") (:pointer :void))

(defcfun (sapp-metal-get-renderpass-descriptor "sapp_metal_get_renderpass_descriptor") (:pointer :void))

(defcfun (sapp-metal-get-drawable "sapp_metal_get_drawable") (:pointer :void))

(defcfun (sapp-macos-get-window "sapp_macos_get_window") (:pointer :void))

(defcfun (sapp-ios-get-window "sapp_ios_get_window") (:pointer :void))

(defcfun (sapp-d3d11-get-device "sapp_d3d11_get_device") (:pointer :void))

(defcfun (sapp-d3d11-get-device-context "sapp_d3d11_get_device_context") (:pointer :void))

(defcfun (sapp-d3d11-get-swap-chain "sapp_d3d11_get_swap_chain") (:pointer :void))

(defcfun (sapp-d3d11-get-render-target-view "sapp_d3d11_get_render_target_view") (:pointer :void))

(defcfun (sapp-d3d11-get-depth-stencil-view "sapp_d3d11_get_depth_stencil_view") (:pointer :void))

(defcfun (sapp-win32-get-hwnd "sapp_win32_get_hwnd") (:pointer :void))

(defcfun (sapp-wgpu-get-device "sapp_wgpu_get_device") (:pointer :void))

(defcfun (sapp-wgpu-get-render-view "sapp_wgpu_get_render_view") (:pointer :void))

(defcfun (sapp-wgpu-get-resolve-view "sapp_wgpu_get_resolve_view") (:pointer :void))

(defcfun (sapp-wgpu-get-depth-stencil-view "sapp_wgpu_get_depth_stencil_view") (:pointer :void))

(defcfun (sapp-android-get-native-activity "sapp_android_get_native_activity") (:pointer :void))

(defcfun (sapp-sgcontext "sapp_sgcontext") (:struct %sg-context-desc))

(defcenum saudio-log-item
  (:saudio-logitem-ok 0)
  (:saudio-logitem-malloc-failed 1)
  (:saudio-logitem-alsa-snd-pcm-open-failed 2)
  (:saudio-logitem-alsa-float-samples-not-supported 3)
  (:saudio-logitem-alsa-requested-buffer-size-not-supported 4)
  (:saudio-logitem-alsa-requested-channel-count-not-supported 5)
  (:saudio-logitem-alsa-snd-pcm-hw-params-set-rate-near-failed 6)
  (:saudio-logitem-alsa-snd-pcm-hw-params-failed 7)
  (:saudio-logitem-alsa-pthread-create-failed 8)
  (:saudio-logitem-wasapi-create-event-failed 9)
  (:saudio-logitem-wasapi-create-device-enumerator-failed 10)
  (:saudio-logitem-wasapi-get-default-audio-endpoint-failed 11)
  (:saudio-logitem-wasapi-device-activate-failed 12)
  (:saudio-logitem-wasapi-audio-client-initialize-failed 13)
  (:saudio-logitem-wasapi-audio-client-get-buffer-size-failed 14)
  (:saudio-logitem-wasapi-audio-client-get-service-failed 15)
  (:saudio-logitem-wasapi-audio-client-set-event-handle-failed 16)
  (:saudio-logitem-wasapi-create-thread-failed 17)
  (:saudio-logitem-aaudio-streambuilder-open-stream-failed 18)
  (:saudio-logitem-aaudio-pthread-create-failed 19)
  (:saudio-logitem-aaudio-restarting-stream-after-error 20)
  (:saudio-logitem-using-aaudio-backend 21)
  (:saudio-logitem-aaudio-create-streambuilder-failed 22)
  (:saudio-logitem-using-sles-backend 23)
  (:saudio-logitem-sles-create-engine-failed 24)
  (:saudio-logitem-sles-engine-get-engine-interface-failed 25)
  (:saudio-logitem-sles-create-output-mix-failed 26)
  (:saudio-logitem-sles-mixer-get-volume-interface-failed 27)
  (:saudio-logitem-sles-engine-create-audio-player-failed 28)
  (:saudio-logitem-sles-player-get-play-interface-failed 29)
  (:saudio-logitem-sles-player-get-volume-interface-failed 30)
  (:saudio-logitem-sles-player-get-bufferqueue-interface-failed 31)
  (:saudio-logitem-coreaudio-new-output-failed 32)
  (:saudio-logitem-coreaudio-allocate-buffer-failed 33)
  (:saudio-logitem-coreaudio-start-failed 34)
  (:saudio-logitem-backend-buffer-size-isnt-multiple-of-packet-size 35))

(defcstruct (%saudio-logger :class saudio-logger-type)
  (func :pointer)
  (user-data (:pointer :void)))

(defstruct saudio-logger
  (func nil)
  (user-data nil))

(defmethod translate-from-foreign (ptr (type saudio-logger-type))
  (with-foreign-slots ((func user-data) ptr (:struct %saudio-logger))
    (make-saudio-logger :func func :user-data user-data)))
(defmethod expand-from-foreign (ptr (type saudio-logger-type))
  `(with-foreign-slots ((func user-data) ,ptr (:struct %saudio-logger))
    (make-saudio-logger :func func :user-data user-data)))
(defmethod translate-into-foreign-memory (value (type saudio-logger-type) ptr)
  (with-foreign-slots ((func user-data) ptr (:struct %saudio-logger))
    (setf 
      func (saudio-logger-func value)
      user-data (saudio-logger-user-data value))))

(defcstruct (%saudio-allocator :class saudio-allocator-type)
  (alloc-fn :pointer)
  (free-fn :pointer)
  (user-data (:pointer :void)))

(defstruct saudio-allocator
  (alloc-fn nil)
  (free-fn nil)
  (user-data nil))

(defmethod translate-from-foreign (ptr (type saudio-allocator-type))
  (with-foreign-slots ((alloc-fn free-fn user-data) ptr (:struct %saudio-allocator))
    (make-saudio-allocator :alloc-fn alloc-fn :free-fn free-fn :user-data user-data)))
(defmethod expand-from-foreign (ptr (type saudio-allocator-type))
  `(with-foreign-slots ((alloc-fn free-fn user-data) ,ptr (:struct %saudio-allocator))
    (make-saudio-allocator :alloc-fn alloc-fn :free-fn free-fn :user-data user-data)))
(defmethod translate-into-foreign-memory (value (type saudio-allocator-type) ptr)
  (with-foreign-slots ((alloc-fn free-fn user-data) ptr (:struct %saudio-allocator))
    (setf 
      alloc-fn (saudio-allocator-alloc-fn value)
      free-fn (saudio-allocator-free-fn value)
      user-data (saudio-allocator-user-data value))))

(defcstruct (%saudio-desc :class saudio-desc-type)
  (sample-rate :int)
  (num-channels :int)
  (buffer-frames :int)
  (packet-frames :int)
  (num-packets :int)
  (stream-cb :pointer)
  (stream-userdata-cb :pointer)
  (user-data (:pointer :void))
  (allocator (:struct %saudio-allocator))
  (logger (:struct %saudio-logger)))

(defstruct saudio-desc
  (sample-rate 0)
  (num-channels 0)
  (buffer-frames 0)
  (packet-frames 0)
  (num-packets 0)
  (stream-cb nil)
  (stream-userdata-cb nil)
  (user-data nil)
  (allocator nil)
  (logger nil))

(defmethod translate-from-foreign (ptr (type saudio-desc-type))
  (with-foreign-slots ((sample-rate num-channels buffer-frames packet-frames num-packets stream-cb stream-userdata-cb user-data allocator logger) ptr (:struct %saudio-desc))
    (make-saudio-desc :sample-rate sample-rate :num-channels num-channels :buffer-frames buffer-frames :packet-frames packet-frames :num-packets num-packets :stream-cb stream-cb :stream-userdata-cb stream-userdata-cb :user-data user-data :allocator allocator :logger logger)))
(defmethod expand-from-foreign (ptr (type saudio-desc-type))
  `(with-foreign-slots ((sample-rate num-channels buffer-frames packet-frames num-packets stream-cb stream-userdata-cb user-data allocator logger) ,ptr (:struct %saudio-desc))
    (make-saudio-desc :sample-rate sample-rate :num-channels num-channels :buffer-frames buffer-frames :packet-frames packet-frames :num-packets num-packets :stream-cb stream-cb :stream-userdata-cb stream-userdata-cb :user-data user-data :allocator allocator :logger logger)))
(defmethod translate-into-foreign-memory (value (type saudio-desc-type) ptr)
  (with-foreign-slots ((sample-rate num-channels buffer-frames packet-frames num-packets stream-cb stream-userdata-cb user-data allocator logger) ptr (:struct %saudio-desc))
    (setf 
      sample-rate (saudio-desc-sample-rate value)
      num-channels (saudio-desc-num-channels value)
      buffer-frames (saudio-desc-buffer-frames value)
      packet-frames (saudio-desc-packet-frames value)
      num-packets (saudio-desc-num-packets value)
      stream-cb (saudio-desc-stream-cb value)
      stream-userdata-cb (saudio-desc-stream-userdata-cb value)
      user-data (saudio-desc-user-data value)
      allocator (saudio-desc-allocator value)
      logger (saudio-desc-logger value))))

(defcfun (saudio-setup "saudio_setup") :void
  (desc (:pointer (:struct %saudio-desc))))

(defcfun (saudio-shutdown "saudio_shutdown") :void)

(defcfun (saudio-isvalid "saudio_isvalid") :int)

(defcfun (saudio-userdata "saudio_userdata") (:pointer :void))

(defcfun (saudio-query-desc "saudio_query_desc") (:struct %saudio-desc))

(defcfun (saudio-sample-rate "saudio_sample_rate") :int)

(defcfun (saudio-buffer-frames "saudio_buffer_frames") :int)

(defcfun (saudio-channels "saudio_channels") :int)

(defcfun (saudio-suspended "saudio_suspended") :int)

(defcfun (saudio-expect "saudio_expect") :int)

(defcfun (saudio-push "saudio_push") :int
  (frames (:pointer :float))
  (num_frames :int))

(defcfun (stm-setup "stm_setup") :void)

(defcfun (stm-now "stm_now") :unsigned-long-long)

(defcfun (stm-diff "stm_diff") :unsigned-long-long
  (new_ticks :unsigned-long-long)
  (old_ticks :unsigned-long-long))

(defcfun (stm-since "stm_since") :unsigned-long-long
  (start_ticks :unsigned-long-long))

(defcfun (stm-laptime "stm_laptime") :unsigned-long-long
  (last_time (:pointer :unsigned-long-long)))

(defcfun (stm-round-to-common-refresh-rate "stm_round_to_common_refresh_rate") :unsigned-long-long
  (frame_ticks :unsigned-long-long))

(defcfun (stm-sec "stm_sec") :double
  (ticks :unsigned-long-long))

(defcfun (stm-ms "stm_ms") :double
  (ticks :unsigned-long-long))

(defcfun (stm-us "stm_us") :double
  (ticks :unsigned-long-long))

(defcfun (stm-ns "stm_ns") :double
  (ticks :unsigned-long-long))

(defcstruct (%sargs-allocator :class sargs-allocator-type)
  (alloc-fn :pointer)
  (free-fn :pointer)
  (user-data (:pointer :void)))

(defstruct sargs-allocator
  (alloc-fn nil)
  (free-fn nil)
  (user-data nil))

(defmethod translate-from-foreign (ptr (type sargs-allocator-type))
  (with-foreign-slots ((alloc-fn free-fn user-data) ptr (:struct %sargs-allocator))
    (make-sargs-allocator :alloc-fn alloc-fn :free-fn free-fn :user-data user-data)))
(defmethod expand-from-foreign (ptr (type sargs-allocator-type))
  `(with-foreign-slots ((alloc-fn free-fn user-data) ,ptr (:struct %sargs-allocator))
    (make-sargs-allocator :alloc-fn alloc-fn :free-fn free-fn :user-data user-data)))
(defmethod translate-into-foreign-memory (value (type sargs-allocator-type) ptr)
  (with-foreign-slots ((alloc-fn free-fn user-data) ptr (:struct %sargs-allocator))
    (setf 
      alloc-fn (sargs-allocator-alloc-fn value)
      free-fn (sargs-allocator-free-fn value)
      user-data (sargs-allocator-user-data value))))

(defcstruct (%sargs-desc :class sargs-desc-type)
  (argc :int)
  (argv (:pointer (:pointer :char)))
  (max-args :int)
  (buf-size :int)
  (allocator (:struct %sargs-allocator)))

(defstruct sargs-desc
  (argc 0)
  (argv nil)
  (max-args 0)
  (buf-size 0)
  (allocator nil))

(defmethod translate-from-foreign (ptr (type sargs-desc-type))
  (with-foreign-slots ((argc argv max-args buf-size allocator) ptr (:struct %sargs-desc))
    (make-sargs-desc :argc argc :argv argv :max-args max-args :buf-size buf-size :allocator allocator)))
(defmethod expand-from-foreign (ptr (type sargs-desc-type))
  `(with-foreign-slots ((argc argv max-args buf-size allocator) ,ptr (:struct %sargs-desc))
    (make-sargs-desc :argc argc :argv argv :max-args max-args :buf-size buf-size :allocator allocator)))
(defmethod translate-into-foreign-memory (value (type sargs-desc-type) ptr)
  (with-foreign-slots ((argc argv max-args buf-size allocator) ptr (:struct %sargs-desc))
    (setf 
      argc (sargs-desc-argc value)
      argv (sargs-desc-argv value)
      max-args (sargs-desc-max-args value)
      buf-size (sargs-desc-buf-size value)
      allocator (sargs-desc-allocator value))))

(defcfun (sargs-setup "sargs_setup") :void
  (desc (:pointer (:struct %sargs-desc))))

(defcfun (sargs-shutdown "sargs_shutdown") :void)

(defcfun (sargs-isvalid "sargs_isvalid") :int)

(defcfun (sargs-exists "sargs_exists") :int
  (key (:pointer :char)))

(defcfun (sargs-value "sargs_value") (:pointer :char)
  (key (:pointer :char)))

(defcfun (sargs-value-def "sargs_value_def") (:pointer :char)
  (key (:pointer :char))
  (def (:pointer :char)))

(defcfun (sargs-equals "sargs_equals") :int
  (key (:pointer :char))
  (val (:pointer :char)))

(defcfun (sargs-boolean "sargs_boolean") :int
  (key (:pointer :char)))

(defcfun (sargs-find "sargs_find") :int
  (key (:pointer :char)))

(defcfun (sargs-num-args "sargs_num_args") :int)

(defcfun (sargs-key-at "sargs_key_at") (:pointer :char)
  (index :int))

(defcfun (sargs-value-at "sargs_value_at") (:pointer :char)
  (index :int))

(defcenum sfetch-log-item-t
  (:sfetch-logitem-ok 0)
  (:sfetch-logitem-malloc-failed 1)
  (:sfetch-logitem-file-path-utf8-decoding-failed 2)
  (:sfetch-logitem-send-queue-full 3)
  (:sfetch-logitem-request-channel-index-too-big 4)
  (:sfetch-logitem-request-path-is-null 5)
  (:sfetch-logitem-request-path-too-long 6)
  (:sfetch-logitem-request-callback-missing 7)
  (:sfetch-logitem-request-chunk-size-greater-buffer-size 8)
  (:sfetch-logitem-request-userdata-ptr-is-set-but-userdata-size-is-null 9)
  (:sfetch-logitem-request-userdata-ptr-is-null-but-userdata-size-is-not 10)
  (:sfetch-logitem-request-userdata-size-too-big 11)
  (:sfetch-logitem-clamping-num-channels-to-max-channels 12)
  (:sfetch-logitem-request-pool-exhausted 13))

(defcstruct (%sfetch-logger-t :class sfetch-logger-t-type)
  (func :pointer)
  (user-data (:pointer :void)))

(defstruct sfetch-logger-t
  (func nil)
  (user-data nil))

(defmethod translate-from-foreign (ptr (type sfetch-logger-t-type))
  (with-foreign-slots ((func user-data) ptr (:struct %sfetch-logger-t))
    (make-sfetch-logger-t :func func :user-data user-data)))
(defmethod expand-from-foreign (ptr (type sfetch-logger-t-type))
  `(with-foreign-slots ((func user-data) ,ptr (:struct %sfetch-logger-t))
    (make-sfetch-logger-t :func func :user-data user-data)))
(defmethod translate-into-foreign-memory (value (type sfetch-logger-t-type) ptr)
  (with-foreign-slots ((func user-data) ptr (:struct %sfetch-logger-t))
    (setf 
      func (sfetch-logger-t-func value)
      user-data (sfetch-logger-t-user-data value))))

(defcstruct (%sfetch-range-t :class sfetch-range-t-type)
  (ptr (:pointer :void))
  (size :unsigned-long))

(defstruct sfetch-range-t
  (ptr nil)
  (size 0))

(defmethod translate-from-foreign (ptr (type sfetch-range-t-type))
  (with-foreign-slots ((ptr size) ptr (:struct %sfetch-range-t))
    (make-sfetch-range-t :ptr ptr :size size)))
(defmethod expand-from-foreign (ptr (type sfetch-range-t-type))
  `(with-foreign-slots ((ptr size) ,ptr (:struct %sfetch-range-t))
    (make-sfetch-range-t :ptr ptr :size size)))
(defmethod translate-into-foreign-memory (value (type sfetch-range-t-type) ptr)
  (with-foreign-slots ((ptr size) ptr (:struct %sfetch-range-t))
    (setf 
      ptr (sfetch-range-t-ptr value)
      size (sfetch-range-t-size value))))

(defcstruct (%sfetch-allocator-t :class sfetch-allocator-t-type)
  (alloc-fn :pointer)
  (free-fn :pointer)
  (user-data (:pointer :void)))

(defstruct sfetch-allocator-t
  (alloc-fn nil)
  (free-fn nil)
  (user-data nil))

(defmethod translate-from-foreign (ptr (type sfetch-allocator-t-type))
  (with-foreign-slots ((alloc-fn free-fn user-data) ptr (:struct %sfetch-allocator-t))
    (make-sfetch-allocator-t :alloc-fn alloc-fn :free-fn free-fn :user-data user-data)))
(defmethod expand-from-foreign (ptr (type sfetch-allocator-t-type))
  `(with-foreign-slots ((alloc-fn free-fn user-data) ,ptr (:struct %sfetch-allocator-t))
    (make-sfetch-allocator-t :alloc-fn alloc-fn :free-fn free-fn :user-data user-data)))
(defmethod translate-into-foreign-memory (value (type sfetch-allocator-t-type) ptr)
  (with-foreign-slots ((alloc-fn free-fn user-data) ptr (:struct %sfetch-allocator-t))
    (setf 
      alloc-fn (sfetch-allocator-t-alloc-fn value)
      free-fn (sfetch-allocator-t-free-fn value)
      user-data (sfetch-allocator-t-user-data value))))

(defcstruct (%sfetch-desc-t :class sfetch-desc-t-type)
  (max-requests :unsigned-int)
  (num-channels :unsigned-int)
  (num-lanes :unsigned-int)
  (allocator (:struct %sfetch-allocator-t))
  (logger (:struct %sfetch-logger-t)))

(defstruct sfetch-desc-t
  (max-requests 0)
  (num-channels 0)
  (num-lanes 0)
  (allocator nil)
  (logger nil))

(defmethod translate-from-foreign (ptr (type sfetch-desc-t-type))
  (with-foreign-slots ((max-requests num-channels num-lanes allocator logger) ptr (:struct %sfetch-desc-t))
    (make-sfetch-desc-t :max-requests max-requests :num-channels num-channels :num-lanes num-lanes :allocator allocator :logger logger)))
(defmethod expand-from-foreign (ptr (type sfetch-desc-t-type))
  `(with-foreign-slots ((max-requests num-channels num-lanes allocator logger) ,ptr (:struct %sfetch-desc-t))
    (make-sfetch-desc-t :max-requests max-requests :num-channels num-channels :num-lanes num-lanes :allocator allocator :logger logger)))
(defmethod translate-into-foreign-memory (value (type sfetch-desc-t-type) ptr)
  (with-foreign-slots ((max-requests num-channels num-lanes allocator logger) ptr (:struct %sfetch-desc-t))
    (setf 
      max-requests (sfetch-desc-t-max-requests value)
      num-channels (sfetch-desc-t-num-channels value)
      num-lanes (sfetch-desc-t-num-lanes value)
      allocator (sfetch-desc-t-allocator value)
      logger (sfetch-desc-t-logger value))))

(defcstruct (%sfetch-handle-t :class sfetch-handle-t-type)
  (id :unsigned-int))

(defstruct sfetch-handle-t
  (id 0))

(defmethod translate-from-foreign (ptr (type sfetch-handle-t-type))
  (with-foreign-slots ((id) ptr (:struct %sfetch-handle-t))
    (make-sfetch-handle-t :id id)))
(defmethod expand-from-foreign (ptr (type sfetch-handle-t-type))
  `(with-foreign-slots ((id) ,ptr (:struct %sfetch-handle-t))
    (make-sfetch-handle-t :id id)))
(defmethod translate-into-foreign-memory (value (type sfetch-handle-t-type) ptr)
  (with-foreign-slots ((id) ptr (:struct %sfetch-handle-t))
    (setf 
      id (sfetch-handle-t-id value))))

(defcenum sfetch-error-t
  (:sfetch-error-no-error 0)
  (:sfetch-error-file-not-found 1)
  (:sfetch-error-no-buffer 2)
  (:sfetch-error-buffer-too-small 3)
  (:sfetch-error-unexpected-eof 4)
  (:sfetch-error-invalid-http-status 5)
  (:sfetch-error-cancelled 6))

(defcstruct (%sfetch-response-t :class sfetch-response-t-type)
  (handle (:struct %sfetch-handle-t))
  (dispatched :int)
  (fetched :int)
  (paused :int)
  (finished :int)
  (failed :int)
  (cancelled :int)
  (error-code sfetch-error-t)
  (channel :unsigned-int)
  (lane :unsigned-int)
  (path (:pointer :char))
  (user-data (:pointer :void))
  (data-offset :unsigned-int)
  (data (:struct %sfetch-range-t))
  (buffer (:struct %sfetch-range-t)))

(defstruct sfetch-response-t
  (handle nil)
  (dispatched nil)
  (fetched nil)
  (paused nil)
  (finished nil)
  (failed nil)
  (cancelled nil)
  (error-code nil)
  (channel 0)
  (lane 0)
  (path nil)
  (user-data nil)
  (data-offset 0)
  (data nil)
  (buffer nil))

(defmethod translate-from-foreign (ptr (type sfetch-response-t-type))
  (with-foreign-slots ((handle dispatched fetched paused finished failed cancelled error-code channel lane path user-data data-offset data buffer) ptr (:struct %sfetch-response-t))
    (make-sfetch-response-t :handle handle :dispatched dispatched :fetched fetched :paused paused :finished finished :failed failed :cancelled cancelled :error-code error-code :channel channel :lane lane :path path :user-data user-data :data-offset data-offset :data data :buffer buffer)))
(defmethod expand-from-foreign (ptr (type sfetch-response-t-type))
  `(with-foreign-slots ((handle dispatched fetched paused finished failed cancelled error-code channel lane path user-data data-offset data buffer) ,ptr (:struct %sfetch-response-t))
    (make-sfetch-response-t :handle handle :dispatched dispatched :fetched fetched :paused paused :finished finished :failed failed :cancelled cancelled :error-code error-code :channel channel :lane lane :path path :user-data user-data :data-offset data-offset :data data :buffer buffer)))
(defmethod translate-into-foreign-memory (value (type sfetch-response-t-type) ptr)
  (with-foreign-slots ((handle dispatched fetched paused finished failed cancelled error-code channel lane path user-data data-offset data buffer) ptr (:struct %sfetch-response-t))
    (setf 
      handle (sfetch-response-t-handle value)
      dispatched (sfetch-response-t-dispatched value)
      fetched (sfetch-response-t-fetched value)
      paused (sfetch-response-t-paused value)
      finished (sfetch-response-t-finished value)
      failed (sfetch-response-t-failed value)
      cancelled (sfetch-response-t-cancelled value)
      error-code (sfetch-response-t-error-code value)
      channel (sfetch-response-t-channel value)
      lane (sfetch-response-t-lane value)
      path (sfetch-response-t-path value)
      user-data (sfetch-response-t-user-data value)
      data-offset (sfetch-response-t-data-offset value)
      data (sfetch-response-t-data value)
      buffer (sfetch-response-t-buffer value))))

(defcstruct (%sfetch-request-t :class sfetch-request-t-type)
  (channel :unsigned-int)
  (path (:pointer :char))
  (callback :pointer)
  (chunk-size :unsigned-int)
  (buffer (:struct %sfetch-range-t))
  (user-data (:struct %sfetch-range-t)))

(defstruct sfetch-request-t
  (channel 0)
  (path nil)
  (callback nil)
  (chunk-size 0)
  (buffer nil)
  (user-data nil))

(defmethod translate-from-foreign (ptr (type sfetch-request-t-type))
  (with-foreign-slots ((channel path callback chunk-size buffer user-data) ptr (:struct %sfetch-request-t))
    (make-sfetch-request-t :channel channel :path path :callback callback :chunk-size chunk-size :buffer buffer :user-data user-data)))
(defmethod expand-from-foreign (ptr (type sfetch-request-t-type))
  `(with-foreign-slots ((channel path callback chunk-size buffer user-data) ,ptr (:struct %sfetch-request-t))
    (make-sfetch-request-t :channel channel :path path :callback callback :chunk-size chunk-size :buffer buffer :user-data user-data)))
(defmethod translate-into-foreign-memory (value (type sfetch-request-t-type) ptr)
  (with-foreign-slots ((channel path callback chunk-size buffer user-data) ptr (:struct %sfetch-request-t))
    (setf 
      channel (sfetch-request-t-channel value)
      path (sfetch-request-t-path value)
      callback (sfetch-request-t-callback value)
      chunk-size (sfetch-request-t-chunk-size value)
      buffer (sfetch-request-t-buffer value)
      user-data (sfetch-request-t-user-data value))))

(defcfun (sfetch-setup "sfetch_setup") :void
  (desc (:pointer (:struct %sfetch-desc-t))))

(defcfun (sfetch-shutdown "sfetch_shutdown") :void)

(defcfun (sfetch-valid "sfetch_valid") :int)

(defcfun (sfetch-desc "sfetch_desc") (:struct %sfetch-desc-t))

(defcfun (sfetch-max-userdata-bytes "sfetch_max_userdata_bytes") :int)

(defcfun (sfetch-max-path "sfetch_max_path") :int)

(defcfun (sfetch-send "sfetch_send") (:struct %sfetch-handle-t)
  (request (:pointer (:struct %sfetch-request-t))))

(defcfun (sfetch-handle-valid "sfetch_handle_valid") :int
  (h (:struct %sfetch-handle-t)))

(defcfun (sfetch-dowork "sfetch_dowork") :void)

(defcfun (sfetch-bind-buffer "sfetch_bind_buffer") :void
  (h (:struct %sfetch-handle-t))
  (buffer (:struct %sfetch-range-t)))

(defcfun (sfetch-unbind-buffer "sfetch_unbind_buffer") (:pointer :void)
  (h (:struct %sfetch-handle-t)))

(defcfun (sfetch-cancel "sfetch_cancel") :void
  (h (:struct %sfetch-handle-t)))

(defcfun (sfetch-pause "sfetch_pause") :void
  (h (:struct %sfetch-handle-t)))

(defcfun (sfetch-continue "sfetch_continue") :void
  (h (:struct %sfetch-handle-t)))

(defcfun (sokol-default-sgdesc "sokol_default_sgdesc") (:pointer (:struct %sg-desc)))